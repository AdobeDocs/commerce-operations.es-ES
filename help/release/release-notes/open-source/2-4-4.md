---
title: Notas de la versión de Magento Open Source 2.4.4
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.4 de Magento Open Source.
recommendations: noCatalog
exl-id: 877e2517-3487-4f54-9e08-a0b67e0de057
source-git-commit: 55512521254c49511100a557a4b00cf3ebee0311
workflow-type: tm+mt
source-wordcount: '10566'
ht-degree: 0%

---

# Notas de la versión de Magento Open Source 2.4.4

Magento Open Source 2.4.4 presenta soporte para PHP 8.1. Se han actualizado todas las bibliotecas y dependencias de proyectos para garantizar su compatibilidad con PHP 8.1. Las dependencias del Compositor principal y las bibliotecas de terceros también se han actualizado a las últimas versiones compatibles con PHP 8.1. Esta versión también es compatible con OpenSearch 1.2.

Esta versión incluye casi 250 correcciones y mejoras de calidad.

>[!NOTE]
>
>Gracias a nuestro socio [Atwix](https://www.atwix.com/) por sus sustanciales contribuciones para hacer nuestro marco de trabajo 2.4.4 compatible con PHP 8.1.

{{bics}}

## Aplicar `AC-3022.patch` para seguir ofreciendo DHL como transportista

DHL ha introducido la versión de esquema 6.2 y dejará de utilizar la versión de esquema 6.0 en un futuro próximo. Adobe Commerce 2.4.4 y las versiones anteriores compatibles con la integración de DHL solo admiten la versión 6.0. Los comerciantes que implementen estas versiones deben aplicar `AC-3022.patch` lo antes posible para seguir ofreciendo DHL como transportista. Consulte el artículo de la base de conocimiento [Aplicar un parche para seguir ofreciendo DHL como transportista](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) para obtener información sobre cómo descargar e instalar el parche.

## Otra información de la versión

Aunque el código para estas funciones está empaquetado con versiones trimestrales del código principal de Magento Open Source, varios de estos proyectos también se publican de forma independiente. Las correcciones de errores para estos proyectos se documentan en la información de versión independiente y específica del proyecto que está disponible en la documentación de cada proyecto.

>[!NOTE]
>
>Todas las extensiones agrupadas por proveedores, excepto Braintree, se han eliminado de Magento Open Source 2.4.4.

>[!NOTE]
>
>Composer 2.2 ha introducido una función de seguridad que requiere que los comerciantes identifiquen complementos de confianza en su archivo `composer.json` antes de que se ejecuten los complementos. Actualmente, se instalan automáticamente los complementos incluidos en el archivo `composer.json` pero no marcados como de confianza. Sin embargo, a partir de julio de 2022, Composer no cargará complementos a menos que se hayan permitido explícitamente. Consulte los problemas de los complementos del Compositor [al actualizar a Adobe Commerce 2.4.4](https://support.magento.com/hc/en-us/articles/6215997614093-Composer-plugins-issues-when-upgrading-to-Adobe-Commerce-2-4-4) Knowledge Base para obtener instrucciones sobre cómo modificar el archivo `composer.json` para permitir explícitamente la carga de complementos.

### Revisiones incluidas en esta versión

Magento Open Source 2.4.4 incluye la resolución de todos los problemas abordados por las siguientes revisiones, que se proporcionaron para Adobe Commerce y Magento Open Source 2.4.3, 2.4.3-p1 y 2.3.7-p2:

* La vulnerabilidad abordada por `MDVA-43395_EE_2.4.3-p1_COMPOSER_v1.patch` y `MDVA-43443_EE_2.4.3-p1_COMPOSER_v1.patch` se ha resuelto en esta versión.

* `AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch`. Este parche soluciona un error de PHP fatal que ocurrió durante la actualización. Consulte el artículo de la base de conocimiento [Actualización de Adobe Commerce 2.4.3, 2.3.7-p1 Error irrecuperable de PHP](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix).

## Elementos destacados de Magento Open Source 2.4.4

Busque los siguientes aspectos destacados en esta versión.

### Mejoras de seguridad

Esta versión incluye una corrección de seguridad y mejoras de seguridad de la plataforma. Esta corrección de seguridad se ha trasladado a Magento Open Source 2.4.3-p2 y Magento Open Source 2.3.7-p3.

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, es posible que se aprovechen ciertas vulnerabilidades para acceder a la información de los clientes o hacerse cargo de las sesiones de administrador. La mayoría de estos problemas requieren que un atacante obtenga acceso primero al administrador. Como resultado, le recordamos que tome todas las medidas necesarias para proteger a su administrador, incluidas, entre otras, las siguientes:

* INCLUSIÓN EN LA LISTA DE PERMITIDOS IP
* [autenticación de doble factor](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* uso de una VPN
* uso de una ubicación única en lugar de `/admin`
* buena higiene de las contraseñas

Consulte [Boletín de seguridad de Adobe](https://helpx.adobe.com/security/products/magento/apsb22-13.html) para conocer las últimas novedades sobre estos problemas corregidos.

#### Mejoras de seguridad adicionales

Las mejoras de seguridad para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes, que incluyen:

* El uso de variables de correo electrónico volvió a quedar obsoleto en la versión 2.3.4 como parte de una mitigación del riesgo de seguridad en favor de una sintaxis de variables más estricta. Este comportamiento heredado se ha eliminado por completo en esta versión como continuación de la mitigación de riesgos de seguridad.

  Como resultado, es posible que las plantillas de correo electrónico o de newsletter que funcionaban en versiones anteriores de Magento Open Source no funcionen correctamente después de actualizar a Adobe Commerce 2.4.4 o Magento Open Source 2.4.4. Las plantillas afectadas incluyen invalidaciones de administración, temáticas, temáticas secundarias y plantillas de módulos personalizados o extensiones de terceros. Su implementación puede verse afectada incluso después de usar la [herramienta de compatibilidad de actualización](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=en) para corregir usos obsoletos. Consulte [Migración de plantillas de correo electrónico personalizadas](https://developer.adobe.com/commerce/frontend-core/guide/templates/email-migration/) para obtener información sobre posibles efectos y directrices para migrar plantillas afectadas.

* Los tokens de integración ya no se pueden usar para la autenticación de tokens del portador de API. Anteriormente, se podía utilizar un token de integración como clave independiente para la autenticación basada en tokens. Sin embargo, este comportamiento se ha deshabilitado de forma predeterminada debido a las implicaciones de seguridad de un token de acceso que nunca caduca. El comportamiento anterior se puede habilitar a través de la línea de comandos o en Admin. Ver [autenticación basada en tokens](https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-token/). <!-- AC-1619 -->

* Los ID de sesión ya no se almacenan en la base de datos. <!-- AC-522-->

* Los tokens de acceso de OAuth y los tokens de restablecimiento de contraseña ahora se cifran cuando se almacenan en la base de datos. <!-- AC-520 1323-->

* La validación se ha reforzado para evitar la carga de extensiones de archivo no alfanuméricas. <!-- AC-479-->

* Se ha añadido la compatibilidad con reCAPTCHA para códigos de cupones. <!-- AC-461-->

* Swagger ahora está desactivado de forma predeterminada cuando Magento Open Source está en modo de producción. <!-- AC-1450-->

* HTTPS ahora está habilitado de forma predeterminada para la tienda de Magento Open Source. La configuración de **Usar direcciones URL seguras en Storefront** y **Usar direcciones URL seguras en Admin** está habilitada de manera predeterminada, y todas las cookies integradas ahora están configuradas como seguras.  <!-- AC-1173-->

* El complemento de confusión de dependencias ahora es necesario para todas las instalaciones de Magento Open Source. Anteriormente, este complemento solo era necesario para instalaciones basadas en Composer. Ahora permite versiones de confianza. Los comerciantes pueden evitar las restricciones establecidas en este complemento que prohíben determinadas combinaciones de instalaciones de Composer. Las restricciones se pueden omitir para las versiones de confianza y Magento Open Source muestra ahora una advertencia antes de continuar con la instalación.  <!-- AC-501 970-->

* Los desarrolladores ahora pueden configurar el límite del tamaño de las matrices aceptadas por los extremos RESTful de Magento Open Source en función del extremo. Ver [seguridad de API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-465-->

* Se han añadido mecanismos para limitar el tamaño y el número de recursos que un usuario puede solicitar a través de una API web en todo el sistema y para anular los valores predeterminados en módulos individuales. Esto resuelve el problema resuelto por `MC-43048__set_rate_limits__2.4.3.patch`. Ver [seguridad de API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-1120-->

### Mejoras de Platform

Magento Open Source 2.4.4 ahora es compatible con PHP 8.1. Se han actualizado todas las bibliotecas y dependencias de proyectos para garantizar su compatibilidad con PHP 8.1. Las mejoras adicionales de la plataforma incluyen:

* Magento Open Source 2.4.4 es compatible con Elasticsearch 7.16 y OpenSearch 1.2. La aplicación Abrir comerciantes de Source con implementaciones alojadas de forma local puede utilizar cualquiera de las dos soluciones. Sin embargo, OpenSearch es ahora el motor de búsqueda predeterminado para implementaciones de Magento Open Source 2.4.4 alojadas en la nube. Todos los clientes con implementaciones en la nube que actualicen a la versión 2.4.4 deben utilizar OpenSearch. Consulte [Cambio a OpenSearch para Adobe Commerce en la nube 2.4.4](https://support.magento.com/hc/en-us/articles/4419942355725-Switching-to-OpenSearch-for-Adobe-Commerce-on-Cloud-2-4-4)

* La biblioteca `JQuery` se ha actualizado a la versión 3.6. La biblioteca `jquery-ui` se ha actualizado a la versión 1.13.0. Se han actualizado varias otras bibliotecas de JavaScript a las versiones más recientes.

* Ahora se admite TinyMCE 5.8.1. TinyMCE 4 se ha eliminado de la base de código. <!-- AC-41-->

* La biblioteca `RequireJS` se ha actualizado a la última versión (v2.3.6). [GitHub-33672](https://github.com/magento/magento2/issues/33672) <!-- AC-40 422-->

* PHPUnit se ha actualizado a la última versión (9.5.x). Se han actualizado los marcos de pruebas y de pruebas para que sean compatibles con la nueva versión. <!-- AC-404-->

* La mayoría de las dependencias de Laminas se han actualizado a las últimas versiones compatibles con PHP 8.1. Se eliminaron tres dependencias Laminas de la base de código para reducir el número de dependencias.

#### Actualización de IU de jQuery

La interfaz de usuario de jQuery se ha actualizado a la última versión (v1.13.0). Se han eliminado los siguientes componentes de jQuery v1.10.0:

* Opciones de `ajaxOptions` y `cache` para fichas. Ver [Fichas](https://jqueryui.com/changelog/1.10.0/#tabs).

* `.zIndex()`. La interfaz de usuario de jQuery v1.12.1 incluye `jquery/z-index.js`, que admite el uso de `.zIndex()`. Ver [IU Core](https://jqueryui.com/changelog/1.12.0/#ui-core).

* Reserva de datos para nombres de widgets. Debe usar el nombre completo de la clave `.data()`.

* Codificación de clases como `ui-corner-all` en widgets.

### GraphQL

Esta versión incluye estas mejoras de GraphQL:

* **Mejoras de rendimiento**:

   * El rendimiento de las operaciones del carro de compras de GraphQL ha mejorado. Ahora solo se llama una vez al método `collectQuoteTotals()` durante una petición GraphQL, lo que reduce el tiempo de respuesta. <!-- PWA-2110-->

   * El rendimiento de la tienda se ha mejorado con los cambios en la forma en que se almacenan en caché las solicitudes de GraphQL. Ahora, Fastly y Varnish almacenan en caché las solicitudes de GraphQL enviadas con `auth` tokens. <!-- PWA-1817-->

* **Nueva configuración de administración relacionada con la tienda**. La consulta `storeConfig` devuelve ahora los valores de configuración de los métodos de pago Cierre de compra con subtotal cero y Giro postal. <!-- PWA-1576-->

* **Se ha actualizado la biblioteca principal de GraphQL**. La biblioteca `webonyx`, que habilita el funcionamiento de GraphQL principal, se ha actualizado a la versión ^14.9. <!-- PWA-2137 2184 -->

* **Se han corregido problemas de traducción en GraphQL con tiendas en varios sitios e idiomas**. El solucionador de GraphQL ahora devuelve cadenas traducidas basadas en el ámbito de la tienda según lo esperado. <!-- PWA-1946-->

* GraphQL ahora proporciona a New Relic nombres de transacción descriptivos, que pueden ser útiles para la depuración. [GitHub-30915](https://github.com/magento/magento2/issues/30915) <!-- PWA-1311-->

Consulte la [Guía para desarrolladores de GraphQL](https://developer.adobe.com/commerce/webapi/graphql/) para obtener más información sobre estas mejoras.

### Extensiones agrupadas por proveedor

Con la excepción de [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree), todas las extensiones agrupadas por proveedores se han eliminado de la base de código de Magento Open Source 2.4.4. Los comerciantes deberían migrar a las extensiones oficiales, que están disponibles en [Commerce Marketplace](https://marketplace.magento.com/extensions.html).

[Amazon Pay](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/payments)

[dotdigital](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/introduction#variables-and-customer-communications)

[Klarna](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/payments)

[Vértice](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/site-store/taxes/taxes)

[YotPo](https://experienceleague.adobe.com/en/docs/commerce-admin/marketing/merchandising/product-reviews/product-reviews)

### Mejoras de pago de PayPal

* Ahora se admite la opción de pago Venmo.  <!-- AC-1229-->

* Pagar más tarde se ha añadido como opción para los compradores en función de la ubicación del comprador, no de la ubicación del comerciante.

* Los comerciantes ahora pueden establecer el país del comprador al probar la experiencia del comprador en su país de elección. Anteriormente, las pruebas se limitaban a probar únicamente el país en el que se encuentra el comerciante. Este cambio solo es válido en el modo de entorno limitado.

* La mensajería en la página de pago ahora muestra mensajes precisos sobre cuánto y en cuántos incrementos se espera que pague el comprador al usar Pagar más tarde.

### Actualizaciones de accesibilidad

Esta versión mejora la conformidad con las directrices de accesibilidad estándar. Incluye información sobre herramientas mejorada, nombres accesibles y etiquetado de elementos de pantalla, e iconos y botones rediseñados. Más del 80% de estas correcciones ayudan a mejorar la experiencia de compra de los usuarios sin visión o visión limitada.

### Page Builder

Los comerciantes ahora pueden agregar texto alternativo (`alt_text`) a las imágenes (imagen, titular, diapositiva) para mejorar la accesibilidad del contenido. [GitHub-746](https://github.com/magento/magento2-page-builder/issues/746) <!-- PB-1193-->

## Problemas solucionados

Estamos solucionando cientos de problemas en el código principal de Magento Open Source 2.4.4. A continuación se describe un subconjunto de estos problemas corregidos.

### Instalación, actualización e implementación

<!-- MC-42026-->

* Magento Open Source ahora registra los errores de implementación de contenido estático en los archivos de registro de compilación según lo esperado.

<!-- MC-43094-->

* Los parches de datos ya no pueden ignorar las restricciones únicas de una tabla e insertar valores duplicados en una tabla de base de datos MySQL. Anteriormente, los parches podían insertar valores duplicados, lo que dañaba la base de datos.

<!-- AC-1480-->

* Los comerciantes ahora pueden actualizar correctamente desde una implementación de Magento Open Source 2.4.2 con Klarna a Magento Open Source 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- ACP2E-77-->

* La configuración del generador de mapas del sitio ahora se puede cambiar correctamente desde la línea de comandos. Anteriormente, applicationOpen Source mostraba este error cuando intentaba cambiar la configuración de mapa del sitio fuera de Admin: `Import failed: Notice: Trying to access array offset on value of type null in app/code/Magento/Cron/Model/Config/Backend/Sitemap.php on line 78`.  [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-215-->

* El comando `bin/magento app:config:import` ahora se ejecuta sin errores al actualizar `time` valores en `config.php`. Anteriormente, al cambiar la configuración de alertas de producto mediante la edición manual (es decir, sin utilizar el administrador), se producía un error.

### Accesibilidad

<!-- AC-1589-->

* Se han resuelto los errores de accesibilidad con la navegación en el carro de compras y las páginas de cierre de compra. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Los lectores de pantalla ahora pueden leer todos los elementos de formulario relevantes en las páginas de producto.

<!-- AC-1277-->

* Se ha mejorado el contraste para los botones de eliminación de imágenes y de icono de movimiento en toda la tienda para mejorar la legibilidad de los usuarios con problemas de visión.

<!-- AC-1272-->

* Se ha asignado un nombre accesible y una alternativa textual al icono de lupa que se utiliza para ejecutar búsquedas en toda la interfaz del producto.

<!-- AC-1275-->

* Ahora se puede acceder a la barra de herramientas del editor de texto enriquecido mediante el tabulador.

<!-- AC-1283-->

* La entrada de selección **Este elemento tiene peso** en la página de detalles **Catálogo** > **Producto** ahora tiene etiquetas visibles y un nombre accesible.

<!-- AC-1284-->

* El nombre accesible del control ahora incluye el texto de su etiqueta visible para el número de elementos por página desplegable.

<!-- AC-1287-->

* Los controles de tabla de la página de detalles **Catalog** > **Product** ahora tienen etiquetas visibles y un nombre accesible cuando la tabla está contraída.

<!-- AC-1288-->

* Los vínculos de edición de la tabla Productos ahora tienen un texto de vínculo único y significativo.

<!-- AC-1276-->

* Los déclencheur que expanden la información sobre herramientas ahora proporcionan nombres de texto.

<!-- AC-1285-->

* Los botones de la tienda ahora tienen nombres descriptivos y únicos a los que se puede acceder. Anteriormente, los botones divididos con un botón de texto y un botón de flecha abajo adyacente tenían el mismo nombre accesible.

<!-- AC-1277-->

* Se ha mejorado el contraste para los botones de eliminación de imágenes y de icono de movimiento en toda la tienda para mejorar la legibilidad de los usuarios con problemas de visión.

<!-- AC-1279-->

* Se han añadido alternativas de texto al icono de lápiz que aparece cuando un comerciante edita la entrada del acordeón de Optimización del motor de búsqueda.

<!-- AC-1272-->

* Se ha asignado un nombre accesible y una alternativa textual al icono de lupa que se utiliza para ejecutar búsquedas en toda la interfaz del producto.

<!-- AC-1286-->

* El campo de entrada de texto de la página de producto **Nueva vista** tiene ahora un nombre accesible.

<!-- AC-1283-->

* La entrada de selección **Este elemento tiene peso** en la página de detalles **Catálogo** > **Producto** ahora tiene etiquetas visibles y un nombre accesible.

### Servidor

<!-- MC-43161-->

* Los administradores ahora pueden iniciar sesión en el administrador en una implementación para la que se haya configurado una ruta de administración personalizada y se haya habilitado la clave secreta. Anteriormente, applicationOpen Source mostraba este error: `Invalid security or form key. Please refresh the page`.

<!-- MC-41949-->

* Magento Open Source ya no redirige al ámbito de Vista de todas las tiendas cuando cambia la jerarquía de varias tiendas. Anteriormente, después de guardar la jerarquía, se redirigía a los compradores a una dirección URL de tienda incorrecta y se seleccionaba el ámbito de Todas las vistas de tienda en una implementación de varias tiendas.

### Paquete de productos

<!-- MC-42885-->

* Los compradores ahora pueden agregar un paquete de productos con Impuestos fijos y dos opciones al carro de compras. Anteriormente, applicationOpen Source no agregó el producto y mostró este error: `We can't add this item to your shopping cart right now`.

<!-- MC-42249-->

* La validación del formulario en forma de los atributos `data-validate` y `min` se ha agregado al campo de cantidad del carro de compras para evitar valores negativos para los productos agrupados.

<!-- MC-41794-->

* La consulta `products` ahora filtra los productos agrupados correctamente cuando los productos secundarios están deshabilitados en el nivel de vista de tienda. Anteriormente, la consulta devolvía productos secundarios deshabilitados en el nivel de vista de tienda.

<!-- MC-42811-->

* `cron` ahora borra la caché de la categoría de productos como se esperaba durante la ejecución de `indexer_update_all_views`. Anteriormente, la aplicación Abrir Source mostraba un recuento de productos incorrecto en la página de categoría después de la actualización masiva de muchos productos de la categoría.

<!-- MC-42811-->

* Magento Open Source ahora actualiza la caché de productos de la categoría como se espera cuando vuelve a aparecer un producto agrupado en stock.

<!-- AC-715-->

* La conversión de moneda ahora se produce según lo esperado en las confirmaciones de correo electrónico para compras de paquetes de productos en implementaciones de varias tiendas que utilizan distintas monedas. [GitHub-33426](https://github.com/magento/magento2/issues/33426)

<!-- ACP2E-64-->

* Los descuentos de precios especiales avanzados ahora se muestran correctamente para los productos agrupados con un prefijo % en la cuadrícula de productos. Anteriormente, se mostraba incorrectamente un descuento % con el prefijo $ en lugar de % en la cuadrícula del producto.

<!-- ACP2E-262-->

* El estado del producto del paquete en el Administrador ahora se actualiza automáticamente cuando un producto relacionado cambia su estado.

<!-- ACP2E-326-->

* La resolución de GraphQL para productos agrupados ahora comprueba si los productos agrupados secundarios se han deshabilitado. Anteriormente, esta comprobación no se realizaba y las consultas como `categoryList` devolvían productos secundarios que no se podían vender.

<!-- MC-43223-->

* `cart` respuestas de consulta ahora devuelven descuentos precisos para productos agrupados con precios dinámicos. Anteriormente, las respuestas de consulta incluían descuentos aplicados a cada producto del paquete individualmente.

### Caché

<!-- MC-42811-->

* Se ha optimizado el algoritmo de limpieza de caché que se ejecuta durante la reindexación. Los productos agrupados ahora se muestran según lo esperado cuando una categoría se almacena en caché durante la reindexación. Anteriormente, los productos agrupados no se mostraban durante horas después de que las categorías de productos se almacenaran en caché durante la reindexación.

<!-- AC-328-->

* La caché de páginas ya no crece rápidamente con el uso habitual. [GitHub-9458](https://github.com/magento/magento2/issues/9458)

<!-- magento/magento2/pull/33468-->

* Realizar un pedido ya no implica la eliminación de todas las etiquetas de caché relacionadas con los productos pedidos de la caché de Barnish. [GitHub-30128](https://github.com/magento/magento2/issues/30128)

<!-- AC-1478-->

* La caché de páginas de sitios completos ya no se borra al actualizar un producto de categorías principales o al ejecutar un índice para actualizar los atributos del producto o el estado de las existencias. Anteriormente, la caché de Varnish agregaba ID de categoría de menú superior a todas las etiquetas de caché de página. [GitHub-33465](https://github.com/magento/magento2/issues/33465)

### Carro y cierre de compra

<!-- MC-41494-->

* El precio mínimo anunciado **¿Qué es esto?Ahora se puede hacer clic en el vínculo** en la página del carro de compras y se abre la ventana emergente de información según lo esperado. Anteriormente, hacer clic en este vínculo no tenía ningún efecto.

<!-- MC-42639-->

* Los compradores ahora pueden realizar pedidos sin errores después de un tiempo de espera de sesión en implementaciones en las que está habilitado el carro de compras persistente. Anteriormente, applicationOpen Source mostraba un error de pago después de un tiempo de espera de sesión.

<!-- MC-42638-->

* La asignación de un valor de criterio de ordenación alto a un atributo de dirección de cliente ya no provoca una degradación del rendimiento en la página de cierre de compra.

<!-- MC-42813-->

* Magento Open Source ahora revierte la cantidad de productos del carro de compras al valor anterior si la cantidad actualizada no es válida.

<!-- MC-42347-->

* Al hacer clic en el botón **Agregar al carro** de la sección Vistos recientemente, ahora se redirige, según lo esperado, a la página de detalles del producto. Anteriormente, se redirigía a los compradores a la página de lista de productos.

<!-- MC-33705-->

* Los compradores invitados ahora pueden realizar correctamente el cierre de compra con una dirección de cliente que contenga varios tipos de atributos de dirección de cliente personalizados. Anteriormente, los valores de los atributos personalizados no tenían el formato correcto cuando se mostraban durante la desprotección. [GitHub-30290](https://github.com/magento/magento2/issues/30290)

<!-- MC-24379-->

* Magento Open Source ahora aplica correctamente el umbral de envío gratuito a los pedidos cuando las tarifas de tabla están habilitadas. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- AC-271-->

* Ahora puede usar `POST /V1/guest-carts/:cartId/items` para agregar productos simples con distintas opciones a un carro de compras. Anteriormente, esta llamada cambiaba la cantidad del primer producto simple agregado en lugar de agregar un segundo producto simple con las opciones especificadas. [GitHub-32302](https://github.com/magento/magento2/issues/32302)

<!-- AC-1089-->

* La sección Resumen de pedidos de la página de cierre de compra ahora muestra la moneda y la cantidad correctas cuando se configura una implementación para el país `Poland` y la moneda `PLN`. Anteriormente, el carro de compras y la página de cierre de compra mostraban la cantidad **PLN 0**.

<!-- MC-32805-->

* Magento Open Source ya no genera un error cuando un comprador hace clic en **Actualizar carro** después de cambiar una cantidad de producto en el minicarrito. Anteriormente, applicationOpen Source mostraba este error: `The quote item isn't found. Verify the item and try again`.

<!-- MC-43176-->

* Las consultas de GraphQL `products` para productos configurables en un almacén específico ahora devuelven los intervalos de precios de productos solamente en el almacén especificado. Anteriormente, las solicitudes devolvían intervalos de precios para productos simples en tiendas no especificadas.

<!-- AC-691-->

* Magento Open Source ya no genera este error cuando un comprador agrega una dirección de facturación a la que le falta un campo de calle: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- AC-1625-->

* Magento Open Source ya no genera un error de consola durante el cierre de compra en las tiendas de las que se ha eliminado el minicarrito. [GitHub-34513](https://github.com/magento/magento2/issues/34513)

<!-- AC-691-->

* El cierre de compra ya no falla en la fase de pago cuando a la dirección de facturación le faltan valores de campo de calle o el valor de campo de calle no es una matriz. Anteriormente, se produjo este error en el cierre de compra: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- ACP2E-10-->

* Magento Open Source ahora calcula correctamente los descuentos cuando se aplican dos reglas del carro de compras a un pedido que cumple estas condiciones: una regla del carro de compras se aplica con un código de cupón y una condición **Precio fijo en todo el carro de compras**; la segunda regla de precio del carro de compras no tiene cupón y una condición **Porcentaje de descuento en el precio del producto**. Anteriormente, el algoritmo relevante no podía dividir correctamente el descuento proporcionalmente entre los productos del carro de compras cuando una regla anterior del carro de compras ya había aplicado un descuento en algunos productos.

<!-- ACP2E-22-->

* El total de ventas ahora se calcula correctamente en la cuadrícula del informe de cupones. Anteriormente, el total de ventas no incluía el importe de envío.

<!-- ACP2E-44-->

* Los descuentos en el carrito completo ahora se calculan correctamente cuando el comprador cambia entre los métodos de envío.

<!-- ACP2E-159-->

* La lista desplegable del campo **Estado** en la página Crear pedido de administración ahora se completa con los valores predefinidos del país seleccionado. Anteriormente, este campo era un campo de texto de entrada en lugar de un menú desplegable.

<!-- ACP2E-172-->

* Magento Open Source ya no genera un error después de usar la mutación `addConfigurableProductsToCart` para agregar un producto configurable a un carro de compras directamente después de cambiar la vista de la tienda.

<!-- ACP2E-176-->

* Magento Open Source ya no genera un error cuando utiliza la mutación `addConfigurableProductsToCart` para agregar un elemento secundario deshabilitado de un producto configurable al carro de compras. Anteriormente, applicationOpen Source arrojaba un error de infracción de restricción de integridad.

<!-- ACP2E-157-->

* El valor del uso del cupón ya no cambia si falla el orden al que se ha aplicado.  Anteriormente, los cupones generados automáticamente por un solo uso se marcaban como no válidos después de aplicar el cupón en el carro de compras, pero no se realizaba el pedido.

<!-- ACP2E-137-->

* Se ha agregado validación al flujo de trabajo de cierre de compra para comparar la dirección de la calle del cliente con el valor predeterminado. Si el proceso de validación identifica cambios, establece `customer_address_id` en `null` para tratarlo como una nueva dirección de cliente. Anteriormente, si el cliente guardaba la dirección sin validación en el cierre de compra y el mismo cliente intentaba realizar un pedido con la misma dirección después de aplicar la validación al campo de cierre de compra, la aplicación Abrir Source no aceptaba la dirección editada y arrojaba una excepción.

### Reglas de precios del carrito

<!-- MC-42288-->

* La generación de cupones ahora está bloqueada hasta que se guarde la regla de precios del carro de compras relacionada con la opción `auto` habilitada. Si intenta guardar esta regla sin habilitar la opción `auto`, la aplicación Abrir Source mostrará el siguiente mensaje: `Rule is not saved with auto generate option enabled. Please save the rule and try again`.

<!-- MC-42743-->

* Se ha añadido una prueba para confirmar la aplicación correcta de un descuento en la regla de precio del carro de compras.

<!-- ACP2E-213-->

* Las reglas de precio del carro de compras que usan una condición SKU con **Si se ENCUENTRA/NO SE ENCUENTRA un artículo en el carro de compras con todas/cualquiera de estas condiciones en true** ahora funcionan según lo esperado con productos configurables.

<!-- ACP2E-225-->

* Las reglas de precios del carro de compras ahora se aplican correctamente para los productos de paquetes de precio fijo. Anteriormente, las reglas de precios del carro de compras no se aplicaban a estos productos cuando al menos un producto secundario tenía el mismo conjunto de atributos especificado en la condición de regla.

<!-- ACP2E-285-->

* Ahora se puede agregar correctamente un producto con el precio de 0 al carro de compras cuando Magento Open Source está configurado con la regla de precio de carro de compras **Descuento de cantidad fija para todo el carro de compras**. Anteriormente, applicationOpen Source mostraba este error: `report.ERROR: Warning: Division by zero in /home/mer33515/public_html/ee24develop/app/code/Magento/SalesRule/Helper/CartFixedDiscount.php on line 85`.

<!-- ACP2E-306-->

* Se corrigió una condición en la cual la consulta `cart` devolvía una cantidad de descuento inexacta cuando se activaban las reglas del carro de compras con descuentos de cantidad fija.

### Catálogo

<!-- MC-41796-->

* Magento Open Source ya no emite una excepción al realizar una acción de actualización masiva de atributos en la cuadrícula de productos cuando un producto tiene un atributo `datetime`.

<!-- MC-42571-->

* Las consultas de GraphQL ahora devuelven resultados para productos secundarios de un producto configurable según la configuración del filtro de visibilidad de los productos secundarios.

<!-- MC-41853-->

* Magento Open Source ya no modifica los precios de los productos relacionados cuando se modifican los atributos de productos configurables. Anteriormente, el precio mínimo anunciado (MAP) de un producto configurable sobrescribía el precio de los productos relacionados en la tienda.

<!-- MC-41796-->

* Magento Open Source ya no emite una excepción al realizar una acción de actualización masiva de atributos en la cuadrícula de productos cuando un producto tiene un atributo `datetime`.

<!-- MC-42132-->

* Los valores de atributos de selección desplegable o múltiple para la cuadrícula de productos de administración y los filtros ahora se derivan según lo esperado de la configuración de administración. Anteriormente, los valores de atributo se derivaban de la configuración de almacén predeterminada.

<!-- MC-43010-->

* Las consultas de categoría de GraphQL devuelven información sobre los cambios realizados en las categorías organizadas según lo esperado.

<!-- AC-711-->

* Las listas de productos ahora se representan con precisión en el Administrador en implementaciones con productos asignados tanto a una categoría principal como a sus subcategorías, pero en diferentes posiciones dentro de cada categoría. Anteriormente, se produjo este error al procesar la lista de productos: `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145]&#x200B;(https://github.com/magento/magento2/issues/33145

<!-- AC-1148-->

* Ahora se pueden asignar a los nuevos productos atributos de selección múltiple con muchas opciones (más de 150). Anteriormente, las opciones de atributos se guardaban en la tabla `catalog_product_entity_varchar` y no todas las opciones estaban presentes cuando se volvió a abrir el producto en el Administrador. [GitHub-33486](https://github.com/magento/magento2/issues/33486)

<!-- AC-904-->

* Se ha añadido validación para el caso en el que un enrutador no puede crear una instancia de una clase de acción recopilada de una dirección URL. La aplicación Abrir Source ahora muestra el mensaje de error estándar. Anteriormente, applicationOpen Source mostraba este error: `PHP Error: Cannot instantiate abstract class Magento\Catalog\Controller\Product\Compare`.

<!-- ACP2E-115-->

* La asignación de muchos productos (aproximadamente 10 000) a una categoría ya no hace que el explorador se bloquee.

<!-- ACP2E-122-->

* Los atributos de imagen ahora se guardan en la base de datos de forma coherente tanto si se guardan desde el administrador como si se importan. Anteriormente, los valores de texto ALT de imagen se guardaban de forma incoherente. Si la imagen existía y la etiqueta se estableció en null, el valor de la etiqueta no se restablecía en la base de datos.

<!-- ACP2E-155-->

* Se ha optimizado la consulta SQL del widget de catálogo. Anteriormente, las consultas MySQL grandes ralentizaban la carga de páginas y provocaban interrupciones de MySQL.

<!-- ACP2E-165-->

* Los filtros de precio ahora funcionan correctamente con productos configurables sin existencias. Anteriormente, los productos configurables sin existencias no se mostraban en su rango de precios correcto.

<!-- ACP2E-330-->

* Al actualizar un producto secundario ya no se elimina el descuento de regla de catálogo heredado de su producto configurable principal durante el proceso de indexación parcial. Anteriormente, cuando se asignaba un producto configurable a una categoría, pero no a sus productos simples asociados, y luego se utilizaba esa categoría para crear una regla de catálogo, la aplicación Abrir Source eliminaba la regla de catálogo asignada al producto simple durante el proceso de indexación parcial.

<!-- ACP2E-216-->

* La lista de vista de cuadrícula de productos agrupados y configurables ahora contiene únicamente productos simples y virtuales al agregar opciones de producto. Anteriormente, la aplicación incluía productos simples con opciones.

### Regla de catálogo

<!-- MC-41807-->

* Las actualizaciones diarias de las reglas de catálogo ya no resultan en una degradación del rendimiento. Anteriormente, la indexación parcial de precios de productos de catálogo no eliminaba precios ni fechas antiguos.

<!-- MC-38263-->

* Magento Open Source ya no elimina las reglas de precio de catálogo de los productos configurables durante la reindexación parcial. Anteriormente, solo se reindexaban los subproductos cuando se reindexaban los productos configurables.

<!-- ACP2E-331-->

* Las reglas de precios de catálogo con la condición **category is not category_id** ahora se aplican a productos que no pertenecen a ninguna categoría.

### Productos configurables

<!-- MC-42188-->

* El nombre de la etiqueta de opción de producto configurable ahora se basa en la vista de tienda seleccionada durante la creación de la orden de administración. Anteriormente, applicationOpen Source utilizaba el nombre de la etiqueta de la vista de tienda predeterminada.

<!-- MC-42187-->

* Las listas de productos ahora incluyen correctamente productos secundarios de un producto sin existencias cuando el indicador global para mostrar productos sin existencias está habilitado. Anteriormente, la lista de productos no incluía el producto secundario si una de las varias opciones de productos secundarios estaba agotada cuando este indicador estaba habilitado.

<!-- MC-42340-->

* Ahora puede usar la mutación `addConfigurableProductsToCart` para agregar un producto configurable al carro de compras en una vista de tienda no predeterminada. Anteriormente, no se podía agregar un producto configurable a un carro de compras cuando el ID del sitio web y el ID de la tienda diferían. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

<!-- MC-43051-->

* Las consultas de GraphQL `products` ya no devuelven datos sobre los productos secundarios deshabilitados de los productos configurables.

<!-- ACP2E-101-->

* La creación de nuevas configuraciones para un producto configurable ya no anula los cambios en las configuraciones existentes. Anteriormente, el estado de las variaciones existentes se anulaba con el estado predeterminado `enabled` después de que se generaran nuevas variaciones.

<!-- ACP2E-175-->

* Magento Open Source ya no genera un error interno cuando intenta agregar un elemento secundario deshabilitado de un producto configurable al carro de compras.

### Cliente

<!-- MC-24204-->

* Magento Open Source ahora considera el ámbito del sitio web para las configuraciones regionales de administración durante la creación del pedido. Anteriormente, los detalles del pedido, como los atributos de dirección del cliente, funcionaban correctamente en un sitio web solo en una implementación de varios sitios. [GitHub-23254](https://github.com/magento/magento2/issues/23254)

### Correo electrónico

<!-- MC-42592-->

* Los errores de validación de los campos de correo electrónico en la ventana emergente de cierre de compra ahora coinciden con los errores de validación de correo electrónico en la página de inicio de sesión del cliente cuando un cliente intenta iniciar sesión con una cuenta de correo electrónico no válida.

<!-- MC-42764-->

* Magento Open Source ya no incluye un mensaje de error en el correo electrónico de detalles del envío cuando el administrador agrega un comentario de envío y la casilla de verificación **Notificar al cliente** está activada. Anteriormente, los correos electrónicos de confirmación de envío incluían este mensaje: `We're sorry, an error has occurred while generating this content`.

<!-- MC-42486-->

* Los valores de ID de región y país ahora se convierten correctamente en plantillas de correo electrónico. Anteriormente, al hacer clic en **Vínculo de vista previa** desde la plantilla de correo electrónico del administrador, el país y el nombre de región no se mostraban correctamente.

<!-- MC-36262-->

* Los correos electrónicos de actualización de ventas enviados desde el administrador para vistas de tienda no predeterminadas ahora contienen etiquetas de estado de pedido correctas. Anteriormente, estos correos electrónicos siempre mostraban el estado del almacén predeterminado. [GitHub-29263](https://github.com/magento/magento2/issues/29263)

<!-- AC-721-->

* Magento Open Source ahora incluye `Content-Disposition: inline` encabezados en el correo electrónico según lo esperado. [GitHub-29258](https://github.com/magento/magento2/issues/29258)

<!-- magento/magento2/pull/32720-->

* Los correos electrónicos de notificación de pedidos y envíos ahora funcionan según lo esperado en implementaciones que utilizan Microsoft Outlook y MS Exchange Server. Anteriormente, el cuerpo del correo electrónico estaba vacío, pero contenía un archivo adjunto etiquetado como ATT*. [GitHub-25076](https://github.com/magento/magento2/issues/25076)

<!-- ACP2E-47-->

* Los correos electrónicos de pedido ahora contienen datos localizados utilizando la configuración regional del comprador según lo esperado. Anteriormente, el pedido de correos electrónicos utilizaba la configuración regional del administrador.

<!-- ACP2E-107-->

* Al hacer clic en la previsualización de cualquier plantilla de correo electrónico, ahora se abre la previsualización de la plantilla en una ventana independiente, según lo esperado.  Anteriormente, la aplicación Abrir Source abría la vista previa de plantillas simultáneamente desde la cuadrícula Plantillas de correo electrónico y en una ventana emergente.

<!-- ACP2E-127-->

* Los correos electrónicos de pedido asincrónico enviados desde un sitio web no predeterminado ahora incluyen direcciones URL de logotipo del sitio web correspondiente. Anteriormente, estos correos electrónicos siempre incluían logotipos del sitio web predeterminado o principal. (Se ha asignado una clave predeterminada con un valor `storeCode` al segundo argumento de matriz que se pasa a la función `UrlInterface` `getUrl`. Este valor distingue las direcciones URL con respecto a las diferentes tiendas/sitios web y genera un `baseUrl` correcto para el contenido de correo electrónico que se envía al cliente.)

### Marcos

<!-- AC-515-->

* Las comparaciones no estrictas entre números y cadenas no numéricas ahora funcionan convirtiendo el número en cadena y comparando las cadenas. Las comparaciones entre números y cadenas numéricas siguen funcionando como antes. Esto significa que `0 == "not-a-number"` ahora se considera falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-1338-->

* El asistente `Magento\Payment\Helper\Data` ya no crea nuevos diseños en constructores. Anteriormente, cuando este asistente se utilizaba en comandos personalizados sin especificar un código de área, Magento Open Source arrojaba un error. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1068-->

* Se ha actualizado la dependencia del Compositor `allure-framework/allure-php-api`.

<!-- MC-42091-->

* Magento Open Source devuelve ahora un código de respuesta 500 cuando se produce una excepción en el archivo de arranque. Anteriormente, applicationOpen Source devolvía un código de estado 200 OK. [GitHub-22196](https://github.com/magento/magento2/issues/22196)

<!-- AC-1318-->

* El símbolo de moneda ahora se carga según lo esperado en las páginas de detalles del producto de la tienda. Anteriormente, este símbolo a veces desaparecía después de que la página de JavaScript se recargara.

<!-- AC-719-->

* La actualización de `symfony/console` ya no causa un error al ejecutar `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- AC-1504-->

* Se han agregado nuevas opciones necesarias a los archivos `.htaccess` y `nginx.conf` que se distribuyen con la compatibilidad con Magento Open Source para PHP 8.x. También se han eliminado las opciones obsoletas. [GitHub-34358](https://github.com/magento/magento2/issues/34358)

<!-- MC-42448-->

* Los comerciantes ahora pueden cargar un vídeo para varios productos. El proceso de generación de archivos ahora anexa una extensión al nombre del archivo solo si el nombre del archivo cargado incluye una extensión. Anteriormente, cuando un comerciante intentaba cargar y guardar el mismo vídeo para dos productos diferentes, la aplicación Abrir Source arrojaba este error: `Notice: Undefined index: extension in /app/7ha7zds7wvqys_stg/vendor/magento/framework/File/Uploader.php on line 699`. Esto ocurría porque Magento Open Source intentaba anexar una extensión de archivo al nombre independientemente de si el nombre del archivo cargado tenía una extensión.

<!-- magento/magento2/pull/34106-->

* Se corrigieron problemas con la construcción de `sprintf(__())` y `sprintf(Magento\Framework\Phrase())` para la compatibilidad con PHP 8.x en toda la base de código. Anteriormente, applicationOpen Source arrojaba este tipo de error: `Expected parameter of type 'string', 'Magento\Framework\Phrase' provided`. [GitHub-34085](https://github.com/magento/magento2/issues/34085)

<!-- AC-1605-->

<!-- MC-42934-->

* Se ha mejorado la validación de los parámetros de consulta de búsqueda avanzada. [GitHub-33589](https://github.com/magento/magento2/issues/33589)

<!-- ACP2E-69-->

* Al ejecutar `bin/magento support:backup:code`, ahora se crea una copia de seguridad según lo esperado. Anteriormente, la aplicación Abrir Source creaba una copia de seguridad, pero generaba un error.

<!-- ACP2E-82-->

* A `cron` procesos ejecutados correctamente se les ha asignado un estado de `success`. Anteriormente, el mismo proceso de `cron` se podía ejecutar dos veces porque a los procesos correctos de `cron` se les asignaba un estado de `pending`.

<!-- ACP2E-102-->

* El módulo `Magento_Logging` ahora es compatible con IPv6.

### Correcciones generales

<!-- MC-42506-->

* Magento Open Source ahora copia todos los campos de producto según sus ámbitos definidos al duplicar un producto. Anteriormente, los campos **name** y **description** se restablecieron al ámbito `global`.

<!-- MC-42612-->

* Magento Open Source ya no aplica el redondeo delta a un descuento cuando el precio del producto es 0. Anteriormente, la aplicación Abrir Source calculaba un importe de descuento negativo.

<!-- MC-42215-->

* Ahora se pueden guardar correctamente los productos con un atributo **Establecer como nuevo** al que se le haya asignado una fecha de inicio vacía y una fecha de finalización caducada. Anteriormente, applicationOpen Source arrojó este error al guardar un producto con esta configuración: `Make sure the To Date is later than or the same as the From Date`.

<!-- MC-42775-->

* Los administradores ahora pueden reintentar operaciones que se hayan estado ejecutando durante el tiempo de procesamiento máximo. El máximo predeterminado es de 12 horas.

<!-- MC-42514-->

* Los errores de canalización rotos ya no se producen durante el procesamiento de acciones masivas debido a mensajes no reconocidos para el consumidor. Una propiedad de recuento de recuperación previa ahora limita estos mensajes para el consumidor y evita errores. Anteriormente, al ejecutar `bin/magento queue:consumers:start async.operations.all` se generó este error: `Broken pipe or closed connection`.

<!-- MC-42075-->

* Ahora se redirige a los compradores a la página de inicio de sesión, tal como se espera después de un segundo intento de inicio de sesión fallido. Anteriormente, se redirigía a los compradores a una página 404 después de un segundo intento de inicio de sesión sin éxito. [GitHub-32885](https://github.com/magento/magento2/issues/32885)

<!-- magento/magento2/pull/25279-->

* La validez del token de restablecimiento de contraseña se ha ampliado para evitar que se produzca una condición de carrera durante el envío de la página de cambio de contraseña. [GitHub-29647](https://github.com/magento/magento2/issues/29647)

<!-- AC-1316-->

* Ahora se respetan los permisos asignados a las nuevas integraciones. [GitHub-33347](https://github.com/magento/magento2/issues/33347)

<!-- AC-1328-->

* Se ha corregido un problema de regresión que afectaba a los mensajes que quedaban en los registros de excepciones del formulario Contáctenos. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- magento/magento2/pull/31654-->

* Se han resuelto varios problemas con la carga de datos de clientes por JavaScript. [GitHub-30498](https://github.com/magento/magento2/issues/30498)

<!-- magento/magento2/pull/33324-->

* El uso de `QuoteIdToMaskedQuoteId` en una extensión ya no aumenta significativamente el tiempo de respuesta. [GitHub-33676](https://github.com/magento/magento2/issues/33676)

<!-- AC-720-->

* La clase `BundleDiscountPrice` de `magento2/app/code/Magento/Bundle/Pricing/Price/ConfiguredPrice.php` se ha declarado como esperada. Anteriormente, applicationOpen Source arrojó este error: `Class Magento\Bundle\Pricing\Price\BundleDiscountPrice not found`. [GitHub-33334](https://github.com/magento/magento2/issues/33334)

<!-- AC-1239-->

* Los valores de campo CSV escapados escritos por el adaptador de AWS S3 ahora coinciden con los datos escritos por otros adaptadores del sistema de archivos.

<!-- MC-43046-->

* Ahora se admite el almacenamiento compatible con S3. [GitHub-32114](https://github.com/magento/magento2/issues/32114)

<!-- ACP2E-123-->

* Al cerrar la sesión desde un dispositivo, el comprador ya no cierra la sesión automáticamente desde otros dispositivos.

### GraphQL

<!-- PWA-1938-->

* Las mutaciones `generateCustomerToken` y `revokeCustomerToken` ahora proporcionan el identificador de caché correcto para el estado del usuario. Anteriormente, estas mutaciones usaban un `x-magento-cache-id` no válido, lo que degradaba el rendimiento.

<!-- PWA-1506-->

* La mutación `setBillingAddressToCart` ahora usa correctamente el parámetro `same_as_shipping` para establecer que la dirección de facturación coincida con la dirección de envío según lo esperado. Anteriormente, applicationOpen Source mostraba este error: `The shipping method is missing. Select the shipping method and try again`. [GitHub-30924](https://github.com/magento/magento2/issues/30924)

<!-- PWA-1980-->

* Las operaciones de carro de compras de GraphQL ahora calculan los totales generales del carro de compras solo cuando la consulta lo solicita. Anteriormente, las operaciones del carro de compras siempre calculaban el total general, que es una operación que consume muchos recursos.

<!-- MC-42781-->

* La mutación `addProductsToCart` ahora agrega al carro de compras solamente los productos asignados al almacén definido en el encabezado.

<!-- MC-42783-->

* `products` consultas que utilizan filtros de navegación por capas ahora devuelven listas de categorías secundarias correctas. [GitHub-33387](https://github.com/magento/magento2/issues/33387)

<!-- MC-42831-->

* Las consultas y mutaciones que devuelven el objeto `ConfigurableCartItem` contienen información sobre variantes configuradas según lo esperado.

<!-- MC-42082-->

* La consulta `products` ahora devuelve valores de opciones de producto de configuración y valores de atributos de variante. Anteriormente, estos valores estaban vacíos en las respuestas de consulta.

<!-- MC-41794-->

* La consulta `products` ahora filtra los productos agrupados correctamente cuando los productos secundarios están deshabilitados en el nivel de vista de tienda. Anteriormente, la consulta devolvía productos secundarios deshabilitados en el nivel de vista de tienda.

<!-- MC-42903-->

* La mutación `setShippingAddressesOnCart` ahora admite la configuración de direcciones de envío en un carro de compras con un valor de número de teléfono vacío cuando la configuración de administración de **Mostrar teléfono** se establece como opcional. Anteriormente, applicationOpen Source arrojó este error: `Field CartAddressInput.telephone of required type String! was not provided`.

<!-- MC-42970-->

* Se ha corregido un problema en el cual la mutación `addSimpleProductsToCart` le permitía agregar productos simples a un carro de compras que no están asignados al sitio web de destino.

<!-- MC-42600-->

* Las consultas MySQL se han optimizado para consultas de GraphQL `products` que utilizan parámetros de búsqueda para restringir los resultados de búsqueda.

<!-- MC-43189-->

* La mutación `addConfigurableProductToCart` ya no admite la adición de un producto a un carro de compras si el producto no se incluye en el ámbito solicitado.

<!-- MC-42666-->

* La consulta `products` ahora solo devuelve variantes configurables asignadas a la vista de tienda solicitada. Anteriormente, se devolvían todas las variantes del producto configurable solicitado.

<!-- MC-42652-->

* `addSimpleProductsToCart` solicitudes ahora se pueden ejecutar correctamente en paralelo. Anteriormente, varias solicitudes para el mismo SKU creaban elementos de línea duplicados para el mismo ID de carro de compras en lugar de aumentar la cantidad de producto como se esperaba.

<!-- AC-856-->

* La mutación `addProductsToCompareList` ahora se puede usar para comparar variantes de productos configurables.

<!-- MC-42443-->

* Cuando el precio de un producto de nivel se actualiza desde el backend, el nuevo precio se actualiza correctamente en el carro de compras del cliente. Anteriormente, aunque el subtotal de la sección Resumen del carro de compras se actualizaba correctamente, el subtotal de la fila no se actualizaba.

<!-- AC-697-->

* La mutación `addProductsToCart` ahora agrega todas las opciones seleccionadas al carro de compras cuando se usa para agregar productos agrupados con varias opciones de selección. Anteriormente, la mutación solo añadía la última selección. [GitHub-33123](https://github.com/magento/magento2/issues/33123)

<!-- MC-38815-->

* Las consultas de GraphQL ahora devuelven una dirección de facturación como se espera cuando el valor de un campo de teléfono opcional se establece en una cadena vacía. Anteriormente, las consultas devolvían un valor de dirección nulo. [GitHub-30218](https://github.com/magento/magento2/issues/30218)

<!-- ACP2E-51-->

* La respuesta a la consulta `products` ahora enumera los productos según el criterio de ordenación especificado cuando varios productos tienen la misma relevancia o el mismo valor de precio.

<!-- ACP2E-75-->

* Las solicitudes `addSimpleProductsToCart` y `addProductsToCart` simultáneas ya no resultan en elementos de comillas duplicados.

<!-- ACP2E-76-->

* `products` filtros de navegación con capas de consulta ahora devuelven listas de categorías secundarias correctas. Ahora solo se incluyen subcategorías directas cuando se proporciona el indicador `includeDirectChildrenOnly` en la solicitud. Anteriormente, todas las categorías se incluían en la respuesta de la sección de agregación cuando se asignaba un producto a varias categorías.

<!-- ACP2E-132-->

* Se ha agregado la funcionalidad de sugerencias de búsqueda para consultas de búsqueda de GraphQL.

<!-- ACP2E-288-->

* El campo `OrderAddress.telephone` ahora es opcional en la consulta `customer` u otras consultas y mutaciones que devuelven o modifican direcciones de pedidos de clientes.

<!-- ACP2E-278-->

* Los precios ahora se actualizan correctamente para los clientes de un grupo especificado tanto en la tienda como en el administrador cuando se cambia un ID de grupo a través de una API. Anteriormente, estos precios no se actualizaban correctamente cuando se cambiaba un ID de grupo mediante API.

### Imagen

<!-- MC-42080-->

* Las imágenes de filigrana con fondos transparentes ya no tienen un fondo blanco en la imagen de producto transparente que se superpone. Anteriormente, cuando la imagen de marca de agua y la imagen del producto tenían un fondo transparente, la marca de agua se mostraba con un fondo blanco.

<!-- AC-1240-->

* Los logotipos para facturas y recibos de envío ahora se cargan y muestran según lo esperado cuando AWS S3 está habilitado.

<!-- MC-42160-->

* La etiqueta de medios asociada con una imagen agregada a una página de CMS en una implementación en la que el administrador está configurado en un dominio diferente al de la URL de la tienda ahora contiene las URL de la tienda según lo esperado. Anteriormente, las etiquetas de medios contenían direcciones URL de administrador estáticas en lugar de las direcciones URL de almacenamiento esperadas. [GitHub-32930](https://github.com/magento/magento2/issues/32930)

<!-- ACP2E-315-->

* Magento Open Source ya no genera un error al vaciar la memoria caché de imágenes mientras se cargan simultáneamente las imágenes en la tienda.

### Importar/exportar

<!-- AC-1486-->

* `bin/magento remote-storage:sync` ya no falla cuando los nombres de archivo son similares, pero difieren en solo uno o dos caracteres. Anteriormente, la primera imagen se almacenaba correctamente, pero la segunda imagen con un nombre similar desencadenó un error de sincronización y este error: `Notice: Undefined index: media/catalog/product/5/_ in /src/vendor/magento/module-remote-storage/Driver/Adapter/Cache/Generic.php on line 197`. [GitHub-34337](https://github.com/magento/magento2/issues/34337)

<!-- MC-41672 23734-->

* Magento Open Source ahora convierte la marca de tiempo del nombre del archivo de exportación a la zona horaria del usuario después de una exportación programada. Anteriormente, estos valores no se convertían y Magento Open Source mostraba la marca de tiempo UTC.

<!-- MC-42330-->

* Magento Open Source ya no crea imágenes duplicadas en el almacenamiento remoto cuando el mismo archivo CSV se importa más de una vez.

<!-- AC-1045-->

* La importación ya no falla con este mensaje: `Import failed: Area code not set: Area code must be set before starting a session`. [GitHub-16171](https://github.com/magento/magento2/issues/16171)

<!-- AC-988-->

* Ahora puede realizar la importación correctamente después de ejecutar `bin/magento app:config:dump` y editar `config.php` manualmente. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- MC-41672-->

* Ahora, los separadores de varios valores no predeterminados se pueden utilizar en atributos de selección múltiple personalizados. Anteriormente, la validación fallaba durante la importación. [GitHub-23156](https://github.com/magento/magento2/issues/23156)

<!-- ACP2E-86-->

* La posición del producto en las categorías ahora se asigna correctamente durante la importación desde CSV.

### Índice

<!-- MC-42791-->

* Magento Open Source ahora muestra los productos tal como se espera en la tienda después de volver a indexar. Anteriormente, cuando los primeros 500 productos que se reindexaban estaban en stock, y los siguientes 500 productos estaban sin existencias, la tienda no mostraba ningún producto adicional.

<!-- magento/magento2/pull/27212-->

* Se han resuelto problemas de coherencia en `indexer.xml` archivos combinados. Los valores permitidos en `classType` ahora son los mismos en los archivos `indexer.xml` sin combinar y combinados. [GitHub-29609](https://github.com/magento/magento2/issues/29609)

<!-- AC-190-->

* Se ha implementado un mecanismo de sincronización en los indexadores de categoría para evitar que los indexadores completos y parciales se ejecuten en paralelo. Anteriormente, cuando estos indexadores se ejecutaban en paralelo, los productos se podían omitir temporalmente de las páginas de categorías de tiendas o las páginas de categorías podían estar temporalmente vacías de productos.

### Infraestructura

<!-- AC-1172-->

* El método `str_contains` no admitido se ha reemplazado con una función admitida. Este era un problema conocido de Magento Open Source 2.4.3. [GitHub-33680](https://github.com/magento/magento2/issues/33680)

<!-- magento/partners-magento2ee/pull/573-->

* Se ha refactorizado el código base para corregir el uso de la palabra clave `match`, que es una palabra clave reservada en PHP 8.x. [GitHub-33626](https://github.com/magento/magento2/issues/33626)

* Las etiquetas de HTML ahora están anidadas y cerradas correctamente para cumplir los estándares de JQuery 3.5.x para elementos no vacíos, incluidos los elementos personalizados. <!-- AC-1942-->

<!-- magento/magento2/pull/34234)-->

* Se han corregido las funciones `abs()` y `round()` por compatibilidad con PHP7.x y PHP8.x.  [GitHub-34322](https://github.com/magento/magento2/issues/34322)

<!-- AC-719-->

* La actualización de `symfony/console` ya no causa errores al ejecutar `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- magento/magento2/pull/34175-->

* Se corrigió la restricción para la dependencia del Compositor `colinmollenhour/cache-backend-redis`. [GitHub-34177](https://github.com/magento/magento2/issues/34177)

<!-- magento/magento2/pull/33932 magento/magento2/pull/33992-->

* La base de código se ha refactorizado para eliminar las llamadas a los métodos obsoletos de `phpunit/phpunit`. [GitHub-33916](https://github.com/magento/magento2/issues/33916)

<!-- MC-42960-->

* Magento Open Source ahora muestra un error informativo cuando un administrador con un `pubs/media` de solo lectura intenta acceder a la página de detalles del producto para un producto que incluye imágenes. Anteriormente, la aplicación Open Source arrojaba un error de PHP. [GitHub-32819](https://github.com/magento/magento2/issues/32819)

<!-- AC-853-->

* Todas las anotaciones de nivel de miembro `@api` se han movido a su clase a lo largo de la base de código.

<!-- AC-1977-->

* Los datos del widget `gift-card Cms` se han movido de `Magento/WidgetSampleData` (Magento Open Source) a `Magento/GiftCardSampleData` (Adobe Commerce). Esto ha resuelto problemas al instalar (Magento Open Source) con datos de muestra en PHP8.1.

<!-- AC-1001-->

* Se han marcado interfaces en todo el código base de integración de Adobe Stock con `@api` según sea necesario. [GitHub-32875](https://github.com/magento/magento2/issues/32875)

<!-- AC-1770-->

* Los enteros y flotantes en los conjuntos de resultados ahora se devuelven usando tipos PHP nativos en lugar de cadenas al usar instrucciones preparadas emuladas. [GitHub-34625](https://github.com/magento/magento2/issues/34625)

<!-- AC-1697-->

* Se ha desactivado la creación automática de matrices a partir de valores falsos para garantizar la compatibilidad con PHP 8.1.

<!-- AC-1338-->

* El asistente `Magento\Payment\Helper\Data` ya no crea nuevos diseños en constructores. Anteriormente, cuando este asistente se utilizaba en comandos personalizados sin especificar un código de área, la aplicación Abrir Source arrojaba un error. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1077-->

* Ahora puede pasar un argumento `data` a un constructor de instancias de bloque por `di.xml`.

<!-- MC-43096-->

* Se optimizó `Generator.php` para mejorar la legibilidad. [GitHub-33809](https://github.com/magento/magento2/issues/33809)

<!-- AC-1313-->

* Se ha mejorado la comprobación JWK en la clase `JwsManager` para controlar situaciones en las que el algoritmo se establece directamente en el encabezado. Anteriormente, esta comprobación ignoraba este escenario válido. [GitHub-32636](https://github.com/magento/magento2/issues/32636)

#### Actualizaciones de dependencias de JavaScript

<!-- magento/magento2/pull/33871-->

* `jquery-validate` biblioteca de terceros [GitHub-33853](https://github.com/magento/magento2/issues/33853)

<!-- ENGCOM-8667-->

* `Less.js` (v3.13.1) [GitHub-32845](https://github.com/magento/magento2/issues/32845)

#### Eliminaciones y desaprobaciones de bibliotecas

* Se han eliminado las bibliotecas siguientes porque todos los exploradores compatibles con Magento Open Source 2.4.x admiten esta funcionalidad de forma integrada:

   * `es6-collections.js`   <!-- AC-18-->
   * `MutationObserver.js` <!-- AC-15-->
   * `Modernizr` <!-- AC-12-->
   * `FormData.js`

* Se ha eliminado la biblioteca de JavaScript `jquery.hoverIntent` que no se usaba. [GitHub-33732](https://github.com/magento/magento2/issues/33732) <!-- AC-97-->

* `lib/internal/Magento/Framework/Filter/Money.php` se ha desaprobado. Contiene la función `money_format()`, que se eliminó en PHP 8.x. [GitHub-33870](https://github.com/magento/magento2/issues/33870)<!-- magento/magento2/pull/34366)-->

* Se ha eliminado el paquete `grunt-autoprefixer` obsoleto y no compatible. [GitHub-34037](https://github.com/magento/magento2/issues/34037) <!-- magento/magento2/pull/34032-->

#### Actualizaciones de biblioteca

* Las bibliotecas siguientes se han actualizado a versiones más recientes:

   * `script.aculo.us` <!-- AC-363-->
   * `Chart.js`  <!-- AC-361-->
   * `moment.js` <!-- AC-11-->
   * `moment-timezone-with-data.js`   <!-- AC-10-->
   * `matchMedia.js` <!-- AC-8-->
   * `underscore.js`  <!-- AC-13-->
   * `PrototypeJS`  <!-- AC-17-->
   * `RequireJS`
   * `LessCSS`

### Factura

<!-- AC-1564-->

* Se ha eliminado la conversión a `int` para los identificadores de factura autoincrementados cuando se les agrega un prefijo con una cadena. Como resultado, las facturas ahora muestran un 0 para los números que tienen el prefijo de cadena. [GitHub-34451](https://github.com/magento/magento2/issues/34451)

### Registro

<!-- MC-42360-->

* Magento Open Source ya no crea entradas de registro para llamadas de API fallidas que ejecutan acciones masivas en **Sistema** > **Acciones masivas**. Anteriormente, las entradas permanentes para las llamadas de API fallidas se añadían al registro de acciones masivas.

<!-- AC-1607-->

* Ya no se permite la creación automática de matrices a partir de valores falsos. [GitHub-34499](https://github.com/magento/magento2/issues/34499), [GitHub-34589](https://github.com/magento/magento2/issues/34589)

### estándar de codificación Adobe Commerce

<!-- magento/magento-coding-standard/pull/219-->

* Se ha actualizado `phpunit/ phpunit` a la última versión del repositorio `magento-coding-standard`. [GitHub-33622](https://github.com/magento/magento2/issues/33622)

<!-- magento/magento2/pull/33858-->

* Se ha actualizado la dependencia `webonyx/graphql-php` a la versión ^14.9 en el repositorio estándar de codificación de Adobe Commerce. [GitHub-32863](https://github.com/magento/magento2/issues/32863)

<!-- magento/magento-coding-standard/pull/322-->

* Se ha agregado un nuevo sniff `Magento2.PHP.ArrayAutovivification` al estándar de codificación de Adobe Commerce para identificar la creación automática de matrices a partir de un valor falso. [GitHub-34509](https://github.com/magento/magento2/issues/34509)

<!-- magento/magento-coding-standard/pull/325-->

* Se agregó un nuevo sniff `Magento2.Functions.DeprecatedFunction` al estándar de codificación de Adobe Commerce. [GitHub-34547](https://github.com/magento/magento2/issues/34547)

<!-- magento/magento-coding-standard/pull/326-->

* Se agregaron funciones obsoletas para detectar `Magento2.Functions.DiscouragedFunction` en el estándar de codificación de Adobe Commerce. [GitHub-34548](https://github.com/magento/magento2/issues/34548)

<!-- magento/magento-coding-standard/pull/335-->

* El olfato `Magento2.Annotation.MethodAnnotationStructure` ya no falla con un falso positivo. [GitHub-34679](https://github.com/magento/magento2/issues/34679)

### Galería de medios

<!-- AC-1054-->

* El comando `bin/magento media-gallery:sync` ya no falla en las implementaciones en las que AWS S3 está habilitado.

<!-- AC-1000-->

* Los títulos de submenús del contenido de la Galería multimedia que se acaban de agregar ahora se muestran cuando los elementos de menú superan 11 y la opción de configuración **Habilitar la Galería multimedia antigua** está habilitada. [GitHub-33889](https://github.com/magento/magento2/issues/33889)

<!-- MC-42837-->

* Se ha mejorado el tiempo de carga de la pestaña Galería de medios al editar un producto con muchas imágenes. [GitHub-33434](https://github.com/magento/magento2/issues/33434)

### MFTF

<!-- AC-516-->

* `CURLOPT_POSTFIELDS` ya no acepta objetos como matrices. Para interpretar un objeto como una matriz, realice una conversión explícita (`array`). Esta práctica también se aplica a otras opciones que aceptan matrices. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

* `curl_init()` ahora devuelve un objeto `CurlHandle` en lugar de un recurso. La función `curl_close()` ya no tiene efecto. En su lugar, la instancia `CurlHandle` se destruye automáticamente si ya no se hace referencia a ella. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

<!-- AC-1397-->

* Se corrigieron errores en las pruebas MFTF para productos descargables. [GitHub-34270](https://github.com/magento/magento2/issues/34270)

<!-- magento/magento2/pull/33530-->

* Se quitó `CliCacheFlushActionGroup` de los módulos `CatalogSearch`, `GroupedProduct`, `Newsletter`, `Paypal`, `Quote` y `Review`. [GitHub-33531](https://github.com/magento/magento2/issues/33531)

<!-- AC-515-->

* Las comparaciones no estrictas entre números y cadenas no numéricas ahora funcionan convirtiendo el número en cadena y comparando las cadenas. Las comparaciones entre números y cadenas numéricas siguen funcionando como antes. Esto significa que 0 == &quot;no es un número&quot; ahora se considera falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-517-->

* `parse_url()` ahora distingue entre consultas y fragmentos ausentes y vacíos. [GitHub-33782](https://github.com/magento/magento2/issues/33782)

<!-- magento/magento2-functional-testing-framework/pull/873-->

* Se ha actualizado el código base para evitar un error irrecuperable al utilizar el método `ReflectionType::isBuiltin()`. [GitHub-34194](https://github.com/magento/magento2/issues/34194)

#### Nuevos grupos de acción

`AdminCheckOrderStatusInGridActionGroup` [GitHub-33747](https://github.com/magento/magento2/issues/33747)

`StorefrontSelectFirstShippingMethodActionGroup` [GitHub-33773](https://github.com/magento/magento2/issues/33773)

`AdminClickUpdateChangesOnCreateOrderPageActionGroup` [GitHub-33689](https://github.com/magento/magento2/issues/33689)

#### Grupos de acción

Las acciones repetitivas se han sustituido por grupos de acciones en estas pruebas:

`AdminAddInStockProductToTheCartTest` [GitHub-34512](https://github.com/magento/magento2/issues/34512)

`AdminAddBundleItemsTest` [GitHub-34312](https://github.com/magento/magento2/issues/34312)

`AdminConfigurableProductAddConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductBulkUpdateTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminConfigurableProductDisableAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductOutOfStockAndDeleteCombinationTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductOutOfStockTestDeleteChildrenTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductRemoveAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductRemoveConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminCreateAndEditSimpleProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateAndEditVirtualProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateInactiveFlatCategoryTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminCreateInactiveInMenuFlatCategoryTest` [GitHub-34510](https://github.com/magento/magento2/issues/34510)

`AdminCreateDuplicateCategoryTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminCreateDuplicateProductTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminDeleteSimpleProductTest` [GitHub-33783](https://github.com/magento/magento2/issues/33783)

`AdminEditRelatedBundleProductTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminMassDeleteBundleProductsTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminNavigateMultipleUpSellProductsTest` [GitHub-34314](https://github.com/magento/magento2/issues/34314)

`AdminSimpleProductSetEditContentTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminSimpleProductTypeSwitchingToConfigurableProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminConfigurableProductTypeSwitchingToVirtualProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminCreateConfigurableProductWithDisabledChildrenProductsTest` [GitHub-33775](https://github.com/magento/magento2/issues/33775)

`AdminUpdateFlatCategoryAndAddProductsTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminUpdateTopCategoryUrlWithNoRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`AdminUpdateTopCategoryUrlWithRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`CatalogProductListWidgetOperatorsTest` [GitHub-34579](https://github.com/magento/magento2/issues/34579)

`CreateProductAttributeEntityWithReservedKeysTest`[GitHub-34422](https://github.com/magento/magento2/issues/34422)

`EnableDisableBundleProductStatusTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`StorefrontCheckRefundGrandTotalActionGroup` [GitHub-34315](https://github.com/magento/magento2/issues/34315)

`StorefrontInactiveCatalogRuleTest` [GitHub-33556](https://github.com/magento/magento2/issues/33556)

`StorefrontConfigurableProductCantAddToCartTest` [GitHub-33786](https://github.com/magento/magento2/issues/33786)

`StorefrontConfigurableProductOptionsTest` [GitHub-33785](https://github.com/magento/magento2/issues/33785)

`StorefrontConfigurableProductCanAddToCartTest` [GitHub-33784](https://github.com/magento/magento2/issues/33784)

`StorefrontConfigurableProductGridViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontConfigurableProductListViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontProductNameWithHTMLEntitiesTest` [GitHub-33806](https://github.com/magento/magento2/issues/33806)

`StorefrontProductNameWithDoubleQuoteTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

#### Nuevas pruebas

`AdminCreateOrderWithCheckedAppendCommentCheckboxTest` [GitHub-32381](https://github.com/magento/magento2/issues/32381)

`CheckoutWithEnabledCaptchaTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

`StorefrontAddProductWithBackordersAllowedOnProductLevelToCartTest` [GitHub-33635](https://github.com/magento/magento2/issues/33635)

`StorefrontGiftMessageForOrderOnCheckoutCartPageTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCaptchaCheckoutWithEnabledCaptchaTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCheckoutWithEnabledMinimumOrderAmountOptionTest` [GitHub-33460](https://github.com/magento/magento2/issues/33460)

#### Pruebas refactorizadas

`CaptchaWithDisabledGuestCheckoutTest` [GitHub-30828](https://github.com/magento/magento2/issues/30828)

### Newsletters

<!-- ACP2E-147-->

* Los usuarios con los permisos adecuados ahora pueden administrar las suscripciones al boletín de los clientes según lo esperado. Anteriormente, solo los administradores con permisos completos podían administrar las suscripciones de los boletines de los clientes en la página Admin customer account.

### Pedido

<!-- MC-41981-->

* Los compradores ahora pueden reordenar correctamente un pedido existente que contenga un producto con la combinación de opciones personalizadas de tipo archivo y tipo desplegable tanto de la tienda como del administrador. Anteriormente, applicationOpen Source arrojaba un error y no procesaba la reordenación.

<!-- MC-42332-->

* La página de detalles del pedido del administrador ahora se carga según lo esperado. Anteriormente, applicationOpen Source arrojó el siguiente error al cargar la página de detalles de pedidos para pedidos con determinados impuestos: `Call to a member function getId() on array`.

<!-- MC-38521-->

* Los administradores con permisos restringidos que incluyen privilegios de pedido y envío ahora pueden ver la página de pedido según lo esperado. Anteriormente, la aplicación Abrir Source arrojaba un error cuando un administrador con estos permisos intentaba ver una solicitud. [GitHub-14633](https://github.com/magento/magento2/issues/14633)

<!-- ACP2E-74-->

* Los compradores ahora pueden realizar un pedido que incluya un producto configurable secundario cuando se establece un límite máximo de cantidad permitida.

## Métodos de pago

<!-- AC-1830-->

* Los compradores ahora pueden utilizar Braintree para realizar un pedido utilizando una dirección de facturación sin una región determinada en implementaciones con 3DS habilitado. Anteriormente, el cierre de compra se bloqueaba cuando el comprador hacía clic en **Realizar pedido** y la compra no se podía completar. [GitHub-34204](https://github.com/magento/magento2/issues/34204)

<!-- AC-1229-->

* Ahora se admite la opción de pago Venmo.

<!-- AC-1228-->

* PayPal ahora puede rastrear por código BN.

<!-- AC-493-->

* `bin/magento setup:upgrade` ahora se ejecuta según lo esperado al actualizar desde Magento Open Source 2.4.2-p1. Anteriormente, applicationOpen Source arrojó este error: `Unable to apply data patch Magento\Paypal\Setup\Patch\Data\UpdateBmltoPayLater for module Magento_Paypal`. [GitHub-33678](https://github.com/magento/magento2/issues/33678)

<!-- MC-42830-->

* El ID de tienda correcto ahora se utiliza para recuperar las tarjetas de crédito guardadas durante la colocación del pedido del administrador. Las tarjetas de crédito almacenadas ahora se muestran durante la realización del pedido según la configuración del ámbito del sitio web. Anteriormente, cuando un administrador intentaba crear un pedido para un cliente desde el Administrador y seleccionaba el método de Tarjetas de crédito almacenadas, no había opciones disponibles para las tarjetas almacenadas.

<!-- AC-344-->

* Se han resuelto las anomalías en la visualización de los importes de las tarjetas de regalo con PayPal Credit. Anteriormente, cuando se habilitaba el crédito de PayPal y se configuraban varios importes de tarjetas regalo, si un comprador cambiaba el importe del valor de una tarjeta regalo, la tienda no actualizaba el importe de los pagos a plazos. Este era un problema conocido de Magento Open Source 2.4.3.

### PayPal

<!-- MC-42154-->

* Magento Open Source ya no muestra un error durante el proceso de pago con la forma de pago PayPal Express. Anteriormente, aunque el proceso de cierre de compra se completaba, la aplicación Abrir Source mostraba este error: `Something went wrong`.

<!-- AC-722-->

* PayPal Express ahora funciona como se espera del carro de compras. Anteriormente, al hacer clic en el botón **PayPal** para iniciar el cierre de compra exprés desde el carro de compras, la aplicación Abrir Source generaba este error: `To check out, please sign in with your email address`. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42279-->

* PayPal Payflow Pro ahora realiza una captura retrasada con los ID de transacción principales correctos en implementaciones en las que la puerta de enlace PayPal Payflow Pro con **Acción de pago** está configurada en **Autorización**. Se envía una transacción **Sale** al flujo de pago con un ID de transacción principal del token de Vault creado al finalizar la compra según lo esperado. Anteriormente, se creó una transacción de **Captura retrasada** y se envió al flujo de pago de PayPal. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42442-->

* Los compradores ahora son redirigidos a la página de éxito como se espera después de que el pago con PayPal Payments Advanced se completa. Anteriormente, los compradores no eran redirigidos a esta página aunque el pago se procesara correctamente y no se registraran errores.

### Rendimiento

<!-- MC-42158-->

* Se ha mejorado el tiempo de ejecución de carga de la lista de módulos.

<!-- AC-932-->

* El rendimiento de la caché de Términos de búsqueda populares ha mejorado. Anteriormente, cuanto más grande era la tabla `search_query`, más tardaba una consulta de búsqueda en completarse. [GitHub-27559](https://github.com/magento/magento2/issues/27559)

<!-- MC-42892-->

* De forma predeterminada, Magento Open Source cambia el tamaño de las imágenes sincrónicamente durante el guardado del producto. Los comerciantes ahora pueden cambiar el tamaño de las imágenes como un proceso asincrónico en segundo plano realizando pequeñas ediciones en un archivo de `di.xml`.

<!-- ENGCOM-9168-->

* El rendimiento del indexador Productos de categoría se ha mejorado en implementaciones de varias tiendas. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-1179-->

* La nueva caché en memoria para llamadas al sistema `glob()` mejora el rendimiento al reducir el número de llamadas a `glob()`.  [GitHub-34025](https://github.com/magento/magento2/issues/34025)

<!-- ACP2E-63-->

* Se ha mejorado el rendimiento del proceso de reindexación asincrónica de la cuadrícula de pedidos.

<!-- ACP2E-117-->

* Se ha optimizado el consumo de memoria durante la exportación del producto.

### Precio

<!-- MC-42243-->

* La clasificación de precios ahora funciona como se espera cuando los precios del producto están cerca o iguales a cero y los catálogos compartidos están habilitados. Anteriormente, los precios de nivel cero se ignoraban durante la reindexación de precios.

### ProductAlert

<!-- MC-41917-->

* El nuevo consumidor `product_alert` mejora el envío de alertas del cliente creando mensajes en cola, ejecutando al consumidor y mejorando el tiempo de ejecución. Anteriormente, la aplicación Abrir Source producía una excepción de memoria insuficiente al enviar más de 100 000 alertas de producto. La aplicación Open Source también tardó más de 20 horas en enviar todas las alertas.

<!-- ACP2E-87-->

* Magento Open Source ya no genera un error si el filtro de precios de la página Categoría no contiene un segundo valor. Anteriormente, applicationOpen Source producía una excepción en el archivo de registro.

### Vídeo del producto

<!-- MC-42105-->

* Magento Open Source ahora habilita el botón **Guardar** y completa automáticamente los campos cuando se introduce una dirección URL incompleta al agregar un vídeo (Administrador **Catálogo** > **Productos** > **Agregar vídeo**). Anteriormente, el botón **Guardar** se deshabilitaba y los campos no se rellenaban.

### Críticas

* La vista de lista de productos ahora muestra la clasificación con estrellas correcta de los productos. [GitHub-30196](https://github.com/magento/magento2/issues/30196)

<!-- ACP2E-89-->

* Las críticas ahora están visibles según lo esperado cuando un comprador hace clic en **Revisar** en la página de productos de la tienda.

<!-- ACP2E-111-->

* La clasificación por estrellas de producto ahora es coherente en las vistas Cuadrícula y Lista de la página de lista de productos de la tienda. Anteriormente, el mismo producto podía tener clasificaciones diferentes en los modos de vista Cuadrícula y Lista.

### Ventas

<!-- MC-42025-->

* Se ha mejorado el rendimiento de las actualizaciones de la cuadrícula de ventas en modo asincrónico para tablas con grandes conjuntos de datos después de la actualización a MariaDB 10.2.34.

<!-- MC-42531-->

* Magento Open Source ahora quita las etiquetas de HTML como se espera de la página de la tienda **Cuenta** > **Mis pedidos** > **Ver pedido**. Anteriormente, la aplicación Abrir Source mostraba etiquetas de HTML en la sección de comentarios de pedidos de clientes de tiendas.

<!-- MC-42377-->

* Se ha agregado cobertura de prueba automatizada para comprobar la existencia de un índice para `sales_shipment_grid.order_id`.

<!-- MC-43163-->

* Las llamadas de `POST V1/orders` ahora actualizan los atributos de extensión sin errores. Anteriormente, se producía un error de sintaxis SQL.

### Buscar {#search-heading}

<!-- MC-42799-->

* Las opciones de navegación por capas para el rango de precios ahora funcionan según lo esperado con atributos de precios personalizados. La aplicación Abrir Source utiliza la configuración del paso de navegación de precios al filtrar atributos de precios personalizados. Anteriormente, la aplicación Abrir Source utilizaba la configuración manual de pasos.

<!-- MC-42545-->

* La tienda ahora muestra todas las subcategorías de la categoría actual en la navegación por capas, independientemente del número de categorías disponibles en el catálogo.

<!-- MC-41706-->

* Las búsquedas en el catálogo de Elasticsearch ahora no distinguen entre diacríticos. Anteriormente, las búsquedas de términos sin acento producían resultados diferentes a las búsquedas en el mismo término con acento.

<!-- ACP2E-8-->

* La ponderación de búsqueda ahora se establece correctamente en los atributos SKU que contienen caracteres especiales.

<!-- ACP2E-36-->

* `category_name` se ha agregado a los códigos de atributo de producto reservados para el sistema. La aplicación Abrir Source ahora muestra un error si un usuario intenta crear un atributo de producto con el código de atributo `category_name`. Anteriormente, los productos no se enumeraban en la categoría esperada y se registraba un error de Elasticsearch.

<!-- ACP2E-68-->

* Los términos de búsqueda populares ahora se actualizan después de cada consulta de búsqueda de GraphQL.

<!-- ACP2E-249-->

* Magento Open Source ahora agrega los campos de precio correctos a la asignación de índice de precios de Elasticsearch. Anteriormente, se añadían campos de precio incorrectos al índice con ID de tienda en lugar de ID de sitio web.

### Envío

<!-- MC-42758-->

* El correo electrónico de envío ahora incluye solo el número de seguimiento del envío actual. Anteriormente, cuando un pedido incluía varios envíos, el correo electrónico de cada envío incluía los números de seguimiento de todos los envíos relacionados con el pedido.

<!-- MC-42396-->

* Magento Open Source ahora actualiza correctamente el minicarrito cuando un comprador elimina un producto de su carro de compras mientras está en modo de envío múltiple y, a continuación, cambia a una sola dirección de envío. Anteriormente, los precios de los productos no se actualizaban según lo esperado.

<!-- AC-267-->

* La importación de tasas de tabla ahora funciona según lo esperado al utilizar el adaptador de almacenamiento S3. Anteriormente, applicationOpen Source mostraba este error: `File "https://[bucket].s3.eu-central-1.amazonaws.com/[prefix]/tmp/phpLjGmHf" not found`. [GitHub-33072](https://github.com/magento/magento2/issues/33072)

<!-- magento/magento2/pull/33232-->

* Ahora puede deshabilitar los correos electrónicos de actualización de envíos como se espera desde **Tiendas** > **Configuración** > **Ventas** > **Correos electrónicos de ventas**. [GitHub-33165](https://github.com/magento/magento2/issues/33165)

<!-- ACP2E-31-->

* Magento Open Source ahora muestra los gastos de envío gratuitos (0) en los totales de la página de facturas de administración y tienda. Anteriormente, cuando el envío era cero para un pedido, la aplicación Abrir Source no mostraba el importe de envío en totales en el total de envío de la página de factura.

<!-- ACP2E-120-->

* Las solicitudes de tarifas a los transportistas en línea se han reducido de varias solicitudes a una. El seguro del paquete y el precio de manipulación por artículo/paquete ahora se calculan correctamente. Anteriormente, applicationOpen Source mostraba tarifas de envío incorrectas para los métodos de envío de FedEx.

<!-- ACP2E-174-->

* Magento Open Source ahora muestra las tarifas de UPS al crear etiquetas de envío para el envío desde Puerto Rico. Anteriormente, la aplicación Abrir Source no mostraba estas tasas de UPS.

<!-- ACP2E-227-->

* La dirección de la calle de envío ahora se borra por completo como se espera después de eliminarla del cuadro de entrada. Anteriormente, el cuadro de texto conservaba uno o varios caracteres después de eliminar la dirección.

### Almacenar

<!-- MC-42884-->

* La función Iniciar sesión como cliente ahora funciona como se espera en implementaciones que contienen varios almacenes en distintas direcciones URL. Anteriormente, applicationOpen Source no cargaba el almacén correcto, incluso al acceder al dominio de almacén correcto.

### Impuestos

<!-- MC-41924-->

* Magento Open Source ahora calcula correctamente el subtotal del minicarrito cuando un cliente elimina un artículo después de seleccionar el envío a varias direcciones.

<!-- MC-41945-->

* Magento Open Source ahora muestra la misma tasa de impuestos en todas las páginas de cierre de compra cuando el carro de compras contiene solo productos virtuales.

<!-- AC-714-->

* Los precios de nivel para los productos configurables ahora muestran valores de impuestos incluidos y excluidos precisos en la tienda. Anteriormente, se mostraban los mismos valores para los impuestos incluidos y excluidos. [GitHub-33673](https://github.com/magento/magento2/issues/33673)

### Prueba

<!-- magento/magento2/pull/34798-->

* Las pruebas WebAPI ahora son compatibles con PHP 8.1. [GitHub-34653](https://github.com/magento/magento2/issues/34653)

<!-- magento/magento2/pull/34820-->

* Las pruebas de integración ahora son compatibles con PHP 8.1. [GitHub-34567](https://github.com/magento/magento2/issues/34567), [GitHub-34569](https://github.com/magento/magento2/issues/34569)

<!-- AC-1225-->

* Los comerciantes ahora pueden probar la experiencia del comprador en el país en el que se encuentra, en lugar de la ubicación del comerciante.

* Las pruebas funcionales se han estabilizado para la compatibilidad con PHP 8.x. [GitHub-34327](https://github.com/magento/magento2/issues/34327), [GitHub-34188](https://github.com/magento/magento2/issues/34188)

<!-- magento/magento2/pull/34198-->

* Se han corregido problemas funcionales en las pruebas WebAPI. [GitHub-34196](https://github.com/magento/magento2/issues/34196)

<!-- AC-1207-->

* Se corrigieron errores que dieron como resultado pruebas estáticas con falsos positivos. [GitHub-34056](https://github.com/magento/magento2/issues/34056)

<!-- magento/magento2/pull/34300-->

* Se ha actualizado la cobertura de pruebas de `call_user_func_array`. [GitHub-34301](https://github.com/magento/magento2/issues/34301)

<!-- AC-1978-->

* La prueba `Magento\GraphQl\CatalogGraphQl\ProductSearchTest` ya no genera este error cuando se ejecuta con AWS Elasticsearch: `Magento\GraphQl\CatalogGraphQl\ProductSearchTest::testSearchSuggestions Failed asserting that an array is not empty. /var/www/html/dev/tests/api-functional/testsuite/Magento/GraphQl/CatalogGraphQl/ProductSearchTest.php:94 /var/www/html/dev/tests/api-functional/framework/Magento/TestFramework/TestCase/GraphQlAbstract.php:257`.

<!-- magento/magento2/pull/33699-->

* Se han corregido numerosas advertencias de prueba unitaria no crítica cambiando el nombre de todas las variables simuladas para incluir el sufijo `Mock` y eliminando las referencias a una clase obsoleta del Administrador de objetos. [GitHub-33695](https://github.com/magento/magento2/issues/33695)

* La prueba `Magento\Framework\MessageQueue\TopologyTest` ahora es compatible con AWS MQ para el servicio [!DNL RabbitMQ]. Anteriormente, esta prueba fallaba con este mensaje: `Invalid exchange configuration: magento-topic-based-exchange1 Failed asserting that two arrays are equal`. <!-- AC-1248-->

<!-- magento/magento2/pull/34454-->

* Las pruebas unitarias ahora son compatibles con PHP 8.1. [GitHub-34441](https://github.com/magento/magento2/issues/34441)

#### Pruebas unitarias

Las siguientes pruebas unitarias se han refactorizado para usar `PHPUnit` en lugar de `AspectMock`:

`AllureHelperTest` [GitHub-33294](https://github.com/magento/magento2/issues/33294)

`ObjectHandlerUtil` [GitHub-33584](https://github.com/magento/magento2/issues/33584)

`MockModuleResolverBuilder` [GitHub-33583](https://github.com/magento/magento2/issues/33583)

`MagentoTestCase` [GitHub-33582](https://github.com/magento/magento2/issues/33582)

`ModuleResolverTest` [GitHub-33308](https://github.com/magento/magento2/issues/33308)

`ParallelGroupSorterTest` [GitHub-33306](https://github.com/magento/magento2/issues/33306)

`SuiteGeneratorTest` [GitHub-33299](https://github.com/magento/magento2/issues/33299)

`OperationDataArrayResolverTest` [GitHub-33296](https://github.com/magento/magento2/issues/33296)

### Tema

<!-- MC-41887-->

* Los mensajes de notificación ahora se muestran correctamente cuando Magento Open Source tiene una subruta configurada en su dirección URL base.

<!-- MC-42469-->

* Se agregó un elemento `aria-label` a la plantilla de página de la tienda para indicar la página a la cual se desplazará el comprador al hacer clic en un vínculo. Anteriormente, se utilizaba el mismo texto de vínculo para los vínculos a páginas diferentes. [GitHub-33075](https://github.com/magento/magento2/issues/33075)

<!-- ACP2E-73-->

* Magento Open Source ya no muestra un mensaje de error al cargar la página principal de una tienda con una temática personalizada preexistente. Anteriormente, applicationOpen Source mostraba este mensaje: `The store will not work correctly in the case when cookies are disabled`.

### Traducciones y configuraciones regionales

<!-- AC-285-->

* El validador `UserExpiration` ya no genera errores con `de_DE` y `uk_UA` configuraciones regionales. Anteriormente, applicationOpen Source arrojaba un error cuando un administrador intentaba establecer una fecha de caducidad al crear un nuevo usuario desde Admin con configuraciones regionales establecidas en `de_DE` o `uk_UA`. [GitHub-32497](https://github.com/magento/magento2/issues/32497)

<!-- magento/magento2/pull/33787-->

* Los nombres de regiones suizas ahora se presentan de forma coherente en inglés en los formularios de creación o edición de direcciones. [GitHub-32602](https://github.com/magento/magento2/issues/32602)

<!-- magento/magento2/pull/33128-->

* Se han actualizado `zip_codes.xml` patrones para Guernsey con el fin de admitir los códigos postales GY10 para la Isla de Sark. [GitHub-33144](https://github.com/magento/magento2/issues/33144)

<!-- AC-1080-->

* Se agregaron regiones de Bielorrusia a la tabla `directory_country_region`. [GitHub-33924](https://github.com/magento/magento2/issues/33924)

<!-- AC-1178-->

* Se han resuelto las anomalías de visualización con tiendas que ejecutan las configuraciones regionales de Filipino (Filipinas). [GitHub-33996](https://github.com/magento/magento2/issues/33996)

<!-- AC-1308-->

* Ahora puede introducir correctamente una fecha de nacimiento de cliente al crear una cuenta nueva en tiendas configuradas en una configuración regional portuguesa (Portugal). Anteriormente, Magento Open Source generaba un error al intentar crear una cuenta. [GitHub-34130](https://github.com/magento/magento2/issues/34130)

<!-- ACP2E-457-->

* La página de detalles del producto ahora se muestra correctamente con la configuración regional árabe (Arabia Saudí). Anteriormente, esta configuración regional rompía la página de detalles del producto.

### IU

<!-- AC-258-->

* Se corrigieron errores con pruebas MFTF que utilizan `maps.googleapis.com`.

<!-- MC-41850-->

* Magento Open Source ahora recorta los caracteres de espacio de no separación del campo de entrada del correo electrónico del formulario Contáctenos. Anteriormente, el formulario se enviaba sin eliminar los caracteres de espacio de no separación de la entrada de correo electrónico (si se daban), lo que provocaba errores en los archivos de registro. El campo **Responder a** tampoco aparecía en el mensaje de correo electrónico de contacto generado al administrador de la tienda.

<!-- MC-42793-->

* Magento Open Source ahora muestra productos relacionados, productos de mejora de ventas y productos de venta cruzada según sus puestos en el administrador.

<!-- MC-42502-->

* Los botones `.action-close` ahora funcionan como se espera cuando `Multiselect` se usa en un modal. Anteriormente, el botón `action-close` no funcionaba porque heredaba el CSS del botón `.action-close` del modal. [GitHub-27240](https://github.com/magento/magento2/issues/27240)

<!-- AC-1217-->

* El fragmento enriquecido de Ofertas ahora está presente en el campo de precio principal de la vista Producto. Anteriormente, este fragmento faltaba en este campo en el bloque de productos relacionados en la vista de producto, lo que provocaba que los resultados de búsqueda de Google mostraran precios incorrectos. [GitHub-34063](https://github.com/magento/magento2/issues/34063)

<!-- AC-1584-->

* Se han resuelto problemas con la altura modal en dispositivos que ejecutan iOS. [GitHub-34467](https://github.com/magento/magento2/issues/34467)

<!-- MC-40106-->

* Los menús desplegables de Acciones ahora se colocan correctamente en toda la tienda. [GitHub-31379](https://github.com/magento/magento2/issues/31379)

<!-- AC-1589-->

* Se han resuelto los errores de accesibilidad con la navegación en el carro de compras y las páginas de cierre de compra. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Los lectores de pantalla ahora pueden leer todos los elementos de formulario relevantes en las páginas de producto.

<!-- AC-872-->

* El orden de clasificación de los widgets de productos del catálogo de tiendas (**Catálogo** > **Categoría** > **Productos**) ahora coincide con el orden configurado en el administrador. [GitHub-27126](https://github.com/magento/magento2/issues/27126)

<!-- AC-725-->

* El selector de región ahora funciona según lo esperado en la página Crear una cuenta. [GitHub-30099](https://github.com/magento/magento2/issues/30099)

<!-- MC-42750-->

* La cuadrícula de administración de clientes ahora muestra todos los datos de clientes, incluidos los atributos personalizados `date` recién agregados, según lo esperado. Anteriormente, applicationOpen Source generaba un error y no mostraba correctamente la cuadrícula del cliente de administración cuando el conjunto de atributos `date` se establecía como una columna.

<!-- AC-1280-->

* Las etiquetas de entrada de la página de detalles **Catálogo** > **Producto** se han cambiado para reflejar con precisión el propósito de la entrada. Los campos para los que no se requiere la entrada del usuario ya no muestran etiquetas con asterisco.

<!-- AC-1275-->

* Ahora se puede acceder a la barra de herramientas del editor de texto enriquecido mediante el tabulador.

<!-- AC-1284-->

* El nombre accesible del control ahora incluye el texto de su etiqueta visible para el número de elementos por página desplegable.

<!-- AC-1287-->

* Los controles de tabla de la página de detalles **Catalog** > **Product** ahora tienen etiquetas visibles y un nombre accesible cuando la tabla está contraída.

<!-- AC-1285-->

* Los botones de la tienda ahora tienen nombres descriptivos y únicos a los que se puede acceder. Anteriormente, los botones divididos con un botón de texto y un botón de flecha abajo adyacente tenían el mismo nombre accesible.

<!-- AC-1168-->

* Se ha agregado una opción de vista **Hoy** a los gráficos del panel Pedidos de administración e Importes para proporcionar un resumen de las ventas y los pedidos a lo largo del día. [GitHub-34008](https://github.com/magento/magento2/issues/34008)

<!-- AC-1481-->

* El estado activo (clic) del botón **Cerrar** de selección múltiple ahora funciona de manera consistente. [GitHub-34338](https://github.com/magento/magento2/issues/34338)

<!-- magento/magento2/pull/31879-->

* Magento Open Source ya no muestra este mensaje después de la actualización cuando el modo de restricción de cookies está deshabilitado: `The store will not work correctly in the case when cookies are disabled`. [GitHub-33811](https://github.com/magento/magento2/issues/33811)

<!-- ACP2E-7-->

* Las imágenes de producto en pantalla completa ahora se muestran correctamente en las temáticas con dirección de navegación de miniaturas verticales en dispositivos móviles. Anteriormente, las imágenes de producto se escalaban incorrectamente o eran invisibles en temáticas con dirección de navegación de miniaturas verticales en dispositivos móviles en modo de pantalla completa.

<!-- ACP2E-23-->

* Los mensajes de error en la página de detalles del producto ya no desaparecen rápidamente cuando la opción de configuración **Sincronizar productos de widget con almacenamiento back-end** está habilitada.

<!-- ACP2E-70-->

* La validación de valores negativos se ha agregado al campo **Cantidad que devolver** del formulario Crear nueva devolución.

<!-- ACP2E-105-->

* Magento Open Source ya no muestra direcciones duplicadas cuando un comprador hace clic en **Cambiar dirección** en la página Revisión y pagos de una implementación en la que la configuración de **Búsqueda de direcciones** está habilitada.

<!-- ACP2E-136-->

* El botón **Agregar productos** ahora está habilitado como se espera para los administradores con permisos restringidos mientras trabajan en el ámbito de vista de tienda en la página Categoría de administración.

<!-- ACP2E-169-->

* Los puntos de interrupción de vista ahora son coherentes en Magento Open Source.

<!-- ACP2E-199-->

* Magento Open Source ahora muestra correctamente los atributos de fecha del cliente personalizados con configuraciones regionales personalizadas en la página del cliente de administración.

<!-- MC-41760-->

* Las imágenes agregadas mediante Page Builder ya no se duplican en la tienda cuando se muestran con una anchura de ventana del explorador de 768 píxeles. Anteriormente, con esta anchura de ventana del explorador, la aplicación Open Source duplicaba imágenes en la tienda mostrando tanto la versión móvil como la de escritorio de las imágenes.

### Reescrituras de URL

<!-- AC-1510-->

* Las reescrituras de URL ya no se vuelven a generar para todas las vistas de tienda durante la creación de una nueva vista de tienda al ejecutar `bin/magento setup:upgrade`. [GitHub-32954](https://github.com/magento/magento2/issues/32954)

### Marco de API web

<!-- MC-42008-->

* Las solicitudes de API web para recursos de clientes autoautorizados ya no generan errores de autorización cuando se habilita el carro de compras persistente.

<!-- MC-42313-->

* Ahora puede crear objetos utilizando las clases secundarias de `\Magento\Framework\Api\AbstractSimpleObjectBuilder` en PHP 7.3. Anteriormente, `preg_match` arrojó este mensaje de advertencia cuando Magento Open Source estaba alojado en Redhat con PHP 7.3: `Warning: preg_match(): Compilation failed: unrecognized character follows...`.

<!-- MC-24548-->

* Los totales recuperados por la solicitud `PUT /V1/guest-carts/:cartId/collect-totals` ahora son actualizados por el `shippingMethod` correcto. [GitHub-18508](https://github.com/magento/magento2/issues/18508)

<!-- MC-30627 AC-796-->

* Añadir un nuevo deserializador a la API de REST ya no elimina otros deserializadores. Anteriormente, la API de REST aceptaba un nuevo tipo de contenido, pero los tipos de contenido definidos por CORE para las API ya no funcionaban y devolvían un error 400. [GitHub-26433](https://github.com/magento/magento2/issues/26433)

<!-- AC-698-->

* Ahora puede quitar una invalidación de un parámetro definido en un archivo `webapi.xml`. [GitHub-33843](https://github.com/magento/magento2/issues/33843)

<!-- AC-1212-->

* Magento Open Source ahora genera un `customertoken` mediante solicitudes de API de GraphQL o REST, tal como se espera después de varios intentos de inicio de sesión consecutivos fallidos. Anteriormente, applicationOpen Source no comprobaba si el valor de `lock_expires_at` en `oauth_token_request_log` era mayor que la fecha y la hora actuales, y siempre devolvía el número de intentos fallidos, lo que impedía que el cliente iniciara sesión alguna vez. [GitHub-34067](https://github.com/magento/magento2/issues/34067)

<!-- AC-1190-->

* Agregar un identificador de comillas enmascaradas a `QuoteRepository::getList` ya no causa un bucle infinito. Anteriormente, el uso del procesador de pagos que dependía de la API de REST para actualizar pedidos activaba este comportamiento. [GitHub-33675](https://github.com/magento/magento2/issues/33675)

<!-- MC-41612-->

* El `/rest/all/V1/categories/<above_created_category_id>`  La llamada de PUT ahora respeta los valores especificados por `available_sort_by`.  Anteriormente, se seleccionaba la lista desplegable Ordenar por con todas las opciones posibles en la página Categoría y se seleccionaba la casilla de verificación **Usar todo**. [GitHub-32596](https://github.com/magento/magento2/issues/32596)

<!-- ACP2E-11-->

* Se ha mejorado el rendimiento de las solicitudes de API de REST para crear tokens de cliente.

<!-- ACP2E-91-->

* Se corrigió un error que se producía cuando **Agregar código de tienda a las direcciones URL** está establecido en **Sí** y una llamada REST no incluyó un código de tienda. Aunque la carga útil era válida, la llamada devolvió el siguiente error: `Fatal error: Allowed memory size of ********** bytes exhausted (tried to allocate **** bytes) in vendor/magento/module-store/Model/StoreRepository.php on line 75`.

<!-- ACP2E-153-->

* Ahora se pueden crear facturas parciales para el mismo pedido simultáneamente mediante la API de REST.

### Lista de deseos

<!-- MC-41880-->

* Magento Open Source ya no muestra una lista de deseos en la barra lateral de categorías cuando la opción de la lista de deseos **Mostrar en la barra lateral** está deshabilitada. Anteriormente, applicationOpen Source ignoraba esta opción.

### WYSIWYG

<!-- ACP2E-17-->

* PageBuilder ahora procesa correctamente los widgets personalizados con el editor de WYSIWYG.

## Problemas conocidos

**Problema**: Los comerciantes pueden observar avisos de reducción de versión del paquete durante la actualización de Adobe Commerce 2.4.4 a Adobe Commerce 2.4.4-p1. Estos mensajes se pueden ignorar. La discrepancia en las versiones del paquete se debe a anomalías durante la generación del paquete. No se ha visto afectada ninguna funcionalidad del producto. Consulte el artículo de la base de conocimiento [Paquetes degradados después de actualizar de 2.4.4 a 2.4.4-p1](https://support.magento.com/hc/en-us/articles/8214752983949) para ver una discusión de los escenarios afectados y las soluciones alternativas.

**Problema**: Los compradores no pueden agregar un producto al carro de compras cuando no se ha seleccionado ninguna opción en Administración **Tienda** > **Configuración** > **General** > **Opciones de país** > **Permitir países**. La aplicación Abrir Source muestra en su lugar el siguiente error de la consola: `Failed to load resource: the server responded with a status of 400 (Bad Request)`. <!-- AC-2564-->

**Problema**: La descripción de Dotdigital en **Buscar socios y extensiones** > **Magento Marketplace** está obsoleta. Esta es una descripción actualizada:

Dotdigital es una plataforma de participación del cliente que ayuda a los especialistas en marketing digital y a los desarrolladores a ofrecer comunicaciones a través del recorrido del cliente. Aprovechamos el poder de los datos de los clientes, lo que potencia la participación, la conversión y la lealtad de las marcas a medida que crecen y se amplían. A los clientes les encanta nuestra plataforma fácil de usar que conecta datos de origen en todos los sistemas, sacando a la luz información valiosa y automatizando los mensajes predictivos multicanal.

Los más de 350 empleados de Dotdigital atienden a empresas medianas y empresariales de todo el mundo y de todas las industrias. Aspiramos a inspirar marketing responsable y estamos comprometidos con la sostenibilidad, la privacidad y la seguridad. Dotdigital se enorgullece de ser la primera plataforma de automatización de marketing neutra en carbono del mundo, certificada para ISO 14001, ISO 27701 e ISO 27001.

Consulte [Dotdigital — Automatización de marketing](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html) para obtener información sobre compras y descargas.

## Contribuciones comunitarias

Estamos agradecidos a la comunidad de Magento Open Source en general y queremos agradecer sus contribuciones a esta versión.

El equipo de ingeniería de la comunidad [Colaboradores de Magento](https://magento.biterg.io/app/kibana) mantiene una lista de las principales personas y socios que aportan contingentes por mes, trimestre y año. Desde esa página de colaboradores, puede seguir los vínculos a sus PR fusionadas en GitHub.

### Contribuciones de socios

En el cuadro siguiente se destacan las contribuciones de los asociados. Esta tabla enumera el socio que contribuyó con la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-4-partner.md}}

### Contribuciones de colaborador individual

La siguiente tabla identifica las contribuciones de los miembros de nuestra comunidad. Esta tabla enumera el miembro de la comunidad que contribuyó con la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-4-issues.md}}

### Requisitos del sistema

Nuestra pila de tecnología está construida sobre PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](../../../installation/system-requirements.md).

### Instrucciones de instalación y actualización

Puede instalar Magento Open Source 2.4.4 con [Composer](../../../installation/composer.md).

## Kits de herramientas de migración

La herramienta de migración de datos ayuda a transferir los datos del almacén de Magento 1.x existente a Magento 2.x. Esta interfaz de línea de comandos incluye funciones de verificación, seguimiento de progreso, registro y prueba. Para obtener instrucciones de instalación, consulte [Instalar la herramienta de migración de datos](../../../tools/data-migration-tool/install.md). Considere la posibilidad de explorar o contribuir al [repositorio de migración de datos](https://github.com/magento/data-migration-tool).

El [Kit de herramientas de migración de código](https://github.com/magento-commerce/code-migration) ayuda a transferir las extensiones y personalizaciones de almacén de Magento 1.x existentes a Magento 2.x. La interfaz de línea de comandos incluye scripts para convertir módulos y diseños de Magento 1.x.

<!-- Last updated from includes: 2022-10-13 13:44:41 -->
