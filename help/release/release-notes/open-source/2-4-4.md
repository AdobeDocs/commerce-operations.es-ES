---
title: Notas de la versión de Magento Open Source 2.4.4
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos en la versión del Magento Open Source 2.4.4.
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '11128'
ht-degree: 0%

---


# Notas de la versión de Magento Open Source 2.4.4

Magento Open Source 2.4.4 presenta la compatibilidad con PHP 8.1. Todas las bibliotecas y dependencias de proyectos se han actualizado para que sean compatibles con PHP 8.1. Las dependencias del Compositor principal y las bibliotecas de terceros también se han actualizado a las versiones más recientes que son compatibles con PHP 8.1. Esta versión también es compatible con OpenSearch 1.2.

Esta versión incluye casi 250 correcciones y mejoras de calidad.

>[!NOTE]
>
>Gracias a nuestro socio [Atwix](https://www.atwix.com/) por sus importantes contribuciones para hacer nuestro marco 2.4.4 compatible con PHP 8.1.

{{bics}}

## Aplicar `AC-3022.patch` seguir ofreciendo DHL como transportista marítimo

DHL ha introducido la versión de esquema 6.2 y dejará de utilizar la versión de esquema 6.0 en un futuro próximo. Adobe Commerce 2.4.4 y versiones anteriores compatibles con la integración de DHL solo admiten la versión 6.0. Los comerciantes que implementen estas versiones deben aplicar `AC-3022.patch` lo antes posible para seguir ofreciendo DHL como transportista marítimo. Consulte la [Aplique un parche para seguir ofreciendo DHL como transportista de envío](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Artículo de la Base de conocimiento para obtener información sobre cómo descargar e instalar el parche.

## Otra información de la versión

Aunque el código de estas funciones está empaquetado con versiones trimestrales del código principal del Magento Open Source, varios de estos proyectos también se publican de forma independiente. Las correcciones de errores de estos proyectos se documentan en la información de versión específica del proyecto que está disponible en la documentación de cada proyecto.

>[!NOTE]
>
>Todas las extensiones agrupadas por proveedores, excepto Braintree, se han eliminado del Magento Open Source 2.4.4.

>[!NOTE]
>
>El Compositor 2.2 ha introducido una función de seguridad que requiere que los comerciantes identifiquen los complementos de confianza en sus `composer.json` antes de que se ejecuten los complementos. Actualmente, los complementos que se incluyen en la variable `composer.json` pero no marcado como de confianza se instalan automáticamente. Sin embargo, a partir de julio de 2022, Composer no cargará complementos a menos que se hayan permitido explícitamente. Consulte la [Problemas con los complementos del compositor al actualizar a Adobe Commerce 2.4.4](https://support.magento.com/hc/en-us/articles/6215997614093-Composer-plugins-issues-when-upgrading-to-Adobe-Commerce-2-4-4) Artículo de la Base de conocimiento para obtener instrucciones sobre cómo modificar la variable `composer.json` para permitir explícitamente la carga de complementos.

### Revisiones incluidas en esta versión

El Magento Open Source 2.4.4 incluye la resolución de todas las cuestiones que fueron abordadas por las siguientes revisiones, que se proporcionaron a Adobe Commerce y a los Magento Open Source 2.4.3, 2.4.3-p1 y 2.3.7-p2:

* La vulnerabilidad a la que se enfrenta `MDVA-43395_EE_2.4.3-p1_COMPOSER_v1.patch` y `MDVA-43443_EE_2.4.3-p1_COMPOSER_v1.patch` se ha resuelto en esta versión.

* `AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch`. Este parche soluciona un error grave de PHP que se produjo durante la actualización. Consulte la [Actualización de Adobe Commerce 2.4.3, 2.3.7-p1 PHP Error irrecuperable](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) Artículo de la Base de conocimiento.

## Elementos destacados de la Magento Open Source 2.4.4

Busque los siguientes aspectos destacados en esta versión.

### Mejoras de seguridad

Esta versión incluye una corrección de seguridad y mejoras en la seguridad de la plataforma. Esta corrección de seguridad se ha transferido al Magento Open Source 2.4.3-p2 y al Magento Open Source 2.3.7-p3.

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, algunas vulnerabilidades se pueden aprovechar para acceder a la información del cliente o para hacerse cargo de las sesiones del administrador. La mayoría de estos problemas requieren que un atacante obtenga primero acceso al administrador. Como resultado, le recordamos que siga todos los pasos necesarios para proteger a su administrador, incluidos, entre otros, estos esfuerzos:

* INCLUSIÓN EN LA LISTA DE PERMITIDOS IP
* [autenticación de dos factores](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* uso de una VPN
* uso de una ubicación única en lugar de `/admin`
* buena higiene de las contraseñas

Consulte [Boletín de seguridad de Adobe](https://helpx.adobe.com/security/products/magento/apsb22-13.html) para el último debate sobre estas cuestiones fijas.

#### Mejoras de seguridad adicionales

Las mejoras de seguridad para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes, incluidas:

* El uso de variables de correo electrónico se volvió a retirar en la versión 2.3.4 como parte de una mitigación de riesgos de seguridad en favor de una sintaxis de variables más estricta. Este comportamiento heredado se ha eliminado completamente en esta versión como continuación de esa reducción del riesgo de seguridad.

   Como resultado, es posible que las plantillas de correo electrónico o newsletter que funcionaban en versiones anteriores de Magento Open Source no funcionen correctamente después de actualizar a Adobe Commerce 2.4.4 o Magento Open Source 2.4.4. Las plantillas afectadas incluyen anulaciones de administración, temas, temas secundarios y plantillas de módulos personalizados o extensiones de terceros. Su implementación puede verse afectada incluso después de usar la variable [Herramienta de compatibilidad de actualización](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=en) para corregir los usos obsoletos. Consulte [Migración de plantillas de correo electrónico personalizadas](https://developer.adobe.com/commerce/frontend-core/guide/templates/email-migration/) para obtener información sobre posibles efectos y directrices para migrar plantillas afectadas.

* Los tokens de integración ya no se pueden usar para la autenticación de token de portador de API. Anteriormente, un token de integración se podía utilizar como clave independiente para la autenticación basada en token. Sin embargo, este comportamiento se ha deshabilitado de forma predeterminada debido a las implicaciones de seguridad de un token de acceso que nunca caduca. El comportamiento anterior se puede activar a través de la línea de comandos o Admin. Consulte [Autenticación basada en tokens](https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-token/). <!-- AC-1619 -->

* Los ID de sesión ya no se almacenan en la base de datos. <!-- AC-522-->

* Los tokens de acceso de OAuth y los tokens de restablecimiento de contraseña ahora se cifran cuando se almacenan en la base de datos. <!-- AC-520 1323-->

* La validación se ha reforzado para evitar la carga de extensiones de archivo no alfanuméricas. <!-- AC-479-->

* Se ha agregado compatibilidad con reCAPTCHA a los códigos de cupones. <!-- AC-461-->

* Swagger está ahora desactivado de forma predeterminada cuando el Magento Open Source está en modo de producción. <!-- AC-1450-->

* HTTPS está ahora habilitado de forma predeterminada para la tienda del Magento Open Source. La variable **Usar direcciones URL seguras en tienda** y **Usar direcciones URL seguras en el administrador** están activadas de forma predeterminada y todas las cookies integradas ahora están configuradas como seguras.  <!-- AC-1173-->

* El complemento de confusión de dependencias ahora es necesario para todas las instalaciones del Magento Open Source. Anteriormente, este complemento solo era necesario para instalaciones basadas en Composer. Ahora permite versiones de confianza. Los comerciantes pueden evitar las restricciones establecidas en este complemento que prohíben ciertas combinaciones de instalaciones del Compositor. Las restricciones se pueden evitar en versiones de confianza, y ahora el Magento Open Source muestra una advertencia antes de continuar con la instalación.  <!-- AC-501 970-->

* Los desarrolladores ahora pueden configurar el límite en el tamaño de las matrices aceptadas por los extremos de Magento Open Source RESTful según cada punto final. Consulte [Seguridad de API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-465-->

* Se han agregado mecanismos para limitar el tamaño y el número de recursos que un usuario puede solicitar a través de una API web en todo el sistema, y para anular los valores predeterminados en módulos individuales. Esto resuelve el problema abordado por `MC-43048__set_rate_limits__2.4.3.patch`. Consulte [Seguridad de API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-1120-->

### Mejoras en la plataforma

Magento Open Source 2.4.4 ahora es compatible con PHP 8.1. Todas las bibliotecas y dependencias de proyectos se han actualizado para que sean compatibles con PHP 8.1. Entre las mejoras adicionales de la plataforma se incluyen:

* Magento Open Source 2.4.4 es compatible con los Elasticsearch 7.16 y OpenSearch 1.2. La aplicación comerciantes de código abierto con implementaciones alojadas en las instalaciones puede utilizar cualquiera de las soluciones. Sin embargo, OpenSearch es ahora el motor de búsqueda predeterminado para implementaciones de Magento Open Source 2.4.4 alojadas en la nube. Todos los clientes con implementaciones en la nube que actualicen a la versión 2.4.4 deben utilizar OpenSearch. Consulte [Cambio a OpenSearch para Adobe Commerce en Cloud 2.4.4](https://support.magento.com/hc/en-us/articles/4419942355725-Switching-to-OpenSearch-for-Adobe-Commerce-on-Cloud-2-4-4)

* La variable `JQuery` La biblioteca de se ha actualizado a la versión 3.6. `jquery-ui` La biblioteca de se ha actualizado a la versión 1.13.0. Se han actualizado varias otras bibliotecas de JavaScript a las versiones más recientes.

* Ahora se admite TinyMCE 5.8.1. TinyMCE 4 se ha eliminado de la base de código. <!-- AC-41-->

* La variable `RequireJS` La biblioteca de se ha actualizado a la versión más reciente (v2.3.6). [GitHub-33672](https://github.com/magento/magento2/issues/33672) <!-- AC-40 422-->

* PHPUnit se ha actualizado a la última versión (9.5.x). Las pruebas y los marcos de prueba se han actualizado para que sean compatibles con la nueva versión. <!-- AC-404-->

* La mayoría de las dependencias de Laminas se han actualizado a las últimas versiones compatibles con PHP 8.1. Se han eliminado tres dependencias de Laminas de la base de código para reducir el número de dependencias.

#### Actualización de la interfaz de usuario de jQuery

La interfaz de usuario de jQuery se ha actualizado a la versión más reciente (v1.13.0). Se han eliminado los siguientes componentes de jQuery v1.10.0:

* `ajaxOptions` y `cache` para pestañas. Consulte [Pestañas](https://jqueryui.com/changelog/1.10.0/#tabs).

* `.zIndex()`. La interfaz de usuario de jQuery v1.12.1 incluye `jquery/z-index.js`, que admite el uso de `.zIndex()`. Consulte [IU principal](https://jqueryui.com/changelog/1.12.0/#ui-core).

* Abandonos de datos para nombres de utilidades. Debe usar el nombre completo para la variable `.data()` clave.

* Código duro de clases como `ui-corner-all` en widgets.

### GraphQL

Esta versión incluye las siguientes mejoras de GraphQL:

* **Mejoras en el rendimiento**:

   * Se ha mejorado el rendimiento de las operaciones del carro de compras de GraphQL. La variable `collectQuoteTotals()` ahora se llama una sola vez durante una solicitud de GraphQL, lo que reduce el tiempo de respuesta. <!-- PWA-2110-->

   * El rendimiento de la tienda se ha mejorado gracias a los cambios en la forma en que se almacenan en caché las solicitudes de GraphQL. Ffinity y Varnish ahora almacenan en caché las solicitudes de GraphQL enviadas con `auth` tokens. <!-- PWA-1817-->

* **Nuevos ajustes de configuración de administración relacionados con la tienda**. La variable `storeConfig` query ahora devuelve los ajustes de configuración de los métodos de pago Zero Subtotal Checkout y Check/Money Order. <!-- PWA-1576-->

* **Biblioteca principal de GraphQL actualizada**. La variable `webonyx` La biblioteca de , que permite el funcionamiento de GraphQL principal, se ha actualizado a la versión ^14.9. <!-- PWA-2137 2184 -->

* **Se han corregido problemas de traducción en GraphQL con tiendas multisitio y multiidioma**. La resolución de GraphQL ahora devuelve cadenas traducidas basadas en el ámbito de la tienda, tal como se espera. <!-- PWA-1946-->

* GraphQL ahora proporciona a New Relic nombres descriptivos de transacciones, que pueden resultar útiles para la depuración. [GitHub-30915](https://github.com/magento/magento2/issues/30915) <!-- PWA-1311-->

Consulte la [Guía para desarrolladores de GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) para obtener más información sobre estas mejoras.

### Extensiones agrupadas por proveedores

Con excepción de [Braintree](https://docs.magento.com/user-guide/payment/braintree.html), todas las extensiones empaquetadas por proveedores se han eliminado de la base de código de Magento Open Source 2.4.4. Los comerciantes deberían migrar a las extensiones oficiales, que están disponibles en la [Commerce Marketplace](https://marketplace.magento.com/extensions.html).

[Amazon Pay](https://docs.magento.com/user-guide/payment/payments.html)

[dotdigital](https://docs.magento.com/user-guide/marketing/communications.html)

[Klarna](https://docs.magento.com/user-guide/payment/payments.html)

[Vértice](https://docs.magento.com/user-guide/tax/taxes.html)

[YotPo](https://docs.magento.com/user-guide/marketing/product-reviews.html)

### Mejoras en los pagos de PayPal

* Ahora se admite la opción de pago Venmo.  <!-- AC-1229-->

* Se ha añadido Pagar más tarde como una opción para compradores en función de la ubicación del comprador, no de la ubicación del comerciante.

* Los comerciantes ahora pueden establecer el país comprador cuando prueban la experiencia del comprador en su país de elección. Anteriormente, las pruebas se limitaban a pruebas únicamente para el país en el que se encuentra el comerciante. Este cambio solo es válido en el modo de entorno limitado.

* Ahora, la mensajería en la página de cierre de compra muestra mensajes precisos sobre cuánto y en cuántos incrementos se espera que pague el comprador al utilizar Pagar más tarde.

### Actualizaciones de accesibilidad

Esta versión ofrece una mayor conformidad con las directrices de accesibilidad estándar. Incluye información sobre herramientas mejorada, nombres y etiquetado accesibles de elementos de pantalla, así como iconos y botones rediseñados. Más del 80% de estas correcciones ayudan a mejorar la experiencia de compra para usuarios sin visión o visión limitada.

### Page Builder

Los comerciantes ahora pueden agregar texto alternativo (`alt_text`) a imágenes (imagen, titular, diapositiva) para mejorar la accesibilidad del contenido. [GitHub-746](https://github.com/magento/magento2-page-builder/issues/746) <!-- PB-1193-->

## Problemas solucionados

Estamos solucionando cientos de problemas en el código principal de Magento Open Source 2.4.4. A continuación se describe un subconjunto de estos problemas corregidos.

### Instalación, actualización, implementación

<!-- MC-42026-->

* El Magento Open Source ahora registra los errores de implementación de contenido estático en los archivos de registro de compilación, tal como se espera.

<!-- MC-43094-->

* Los parches de datos ya no pueden ignorar las restricciones únicas de una tabla e insertar valores duplicados en una tabla de base de datos MySQL. Anteriormente, los parches podían insertar valores duplicados, lo que dañaba la base de datos.

<!-- AC-1480-->

* Los comerciantes ahora pueden actualizar correctamente de una implementación Magento Open Source 2.4.2 con Klarna a Magento Open Source 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- ACP2E-77-->

* La configuración del generador de mapas del sitio ahora se puede cambiar correctamente desde la línea de comandos. Anteriormente, la aplicaciónOpen Source mostraba este error cuando intentaba cambiar la configuración del mapa del sitio fuera del Administrador: `Import failed: Notice: Trying to access array offset on value of type null in app/code/Magento/Cron/Model/Config/Backend/Sitemap.php on line 78`.  [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-215-->

* La variable `bin/magento app:config:import` ahora se ejecuta sin error al actualizar `time` valores en `config.php`. Anteriormente, al cambiar la configuración de alertas de productos mediante la edición manual (es decir, sin utilizar el administrador), se producía un error.

### Accesibilidad

<!-- AC-1589-->

* Se han resuelto los errores de accesibilidad con la navegación en las páginas de carro y cierre de compra. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Los lectores de pantalla ahora pueden leer todos los elementos de formulario relevantes en las páginas de producto.

<!-- AC-1277-->

* Se ha mejorado el contraste de los botones de icono de mover y eliminar imágenes en toda la tienda para mejorar la legibilidad de los usuarios de visión reducida.

<!-- AC-1272-->

* Al icono de lupa que se utiliza para ejecutar búsquedas en toda la interfaz de producto se le ha asignado un nombre accesible y una alternativa textual.

<!-- AC-1275-->

* Ahora se puede acceder a la barra de herramientas del editor de texto enriquecido mediante la tecla Tab.

<!-- AC-1283-->

* La variable **Este elemento tiene peso** seleccione la entrada en el **Catálogo** > **Product** La página de detalles ahora tiene etiquetas visibles y un nombre accesible.

<!-- AC-1284-->

* El nombre accesible del control ahora incluye el texto de su etiqueta visible para el número de elementos por menú desplegable de página.

<!-- AC-1287-->

* La tabla controla el **Catálogo** > **Product** la página de detalles ahora tiene etiquetas visibles y un nombre accesible cuando se contrae la tabla.

<!-- AC-1288-->

* Los vínculos de edición de la tabla Productos ahora tienen un texto de vínculo único y significativo.

<!-- AC-1276-->

* Los déclencheur que expanden la información sobre herramientas ahora proporcionan nombres de texto.

<!-- AC-1285-->

* Los botones de toda la tienda ahora tienen nombres accesibles descriptivos y únicos. Anteriormente, los botones divididos con un botón de texto y un botón de flecha abajo adyacente tenían el mismo nombre accesible.

<!-- AC-1277-->

* Se ha mejorado el contraste de los botones de icono de mover y eliminar imágenes en toda la tienda para mejorar la legibilidad de los usuarios de visión reducida.

<!-- AC-1279-->

* Se han agregado alternativas textuales al icono de lápiz que aparece cuando un comerciante edita la entrada para el acordeón de Optimización de motores de búsqueda .

<!-- AC-1272-->

* Al icono de lupa que se utiliza para ejecutar búsquedas en toda la interfaz de producto se le ha asignado un nombre accesible y una alternativa textual.

<!-- AC-1286-->

* La página del producto **Nueva vista** el campo de entrada de texto ahora tiene un nombre accesible.

<!-- AC-1283-->

* La variable **Este elemento tiene peso** seleccione la entrada en el **Catálogo** > **Product** La página de detalles ahora tiene etiquetas visibles y un nombre accesible.

### Back-end

<!-- MC-43161-->

* Los administradores ahora pueden iniciar sesión en Admin en una implementación para la que se haya configurado una ruta de administración personalizada y la clave secreta esté habilitada. Anteriormente, el applicationOpen Source mostraba este error: `Invalid security or form key. Please refresh the page`.

<!-- MC-41949-->

* El Magento Open Source ya no redirige al ámbito de vista de todo el almacén cuando cambia la jerarquía de varios almacenes. Anteriormente, después de guardar la jerarquía, los compradores se redirigían a una dirección URL de tienda incorrecta y el ámbito Vistas de todas las tiendas se seleccionaba en una implementación de varias tiendas.

### Paquete de productos

<!-- MC-42885-->

* Los compradores ahora pueden agregar un paquete de productos con Impuesto fijo del Producto y dos opciones a su carro de compras. Anteriormente, applicationOpen Source no agregaba el producto y mostraba este error: `We can't add this item to your shopping cart right now`.

<!-- MC-42249-->

* Validación del formulario en forma de `data-validate` y `min` se han agregado atributos al campo cantidad del carro de compras para evitar valores negativos para los productos del paquete.

<!-- MC-41794-->

* La variable `products` query ahora filtra paquetes de productos correctamente cuando los productos secundarios están desactivados en el nivel de vista de tienda. Anteriormente, la consulta devolvía productos secundarios que estaban desactivados en el nivel de vista de tienda.

<!-- MC-42811-->

* `cron` ahora borra la caché de categoría de producto como se espera durante `indexer_update_all_views` ejecución. Anteriormente, la aplicaciónOpen Source mostraba un recuento de productos incorrecto en la página de categorías después de la actualización masiva de muchos productos de la categoría.

<!-- MC-42811-->

* Ahora, el Magento Open Source actualiza la caché de productos de categoría como se espera cuando un producto de paquete vuelve a aparecer en existencias.

<!-- AC-715-->

* La conversión de moneda ahora se produce como se espera en las confirmaciones de correo electrónico para compras de productos de paquetes en implementaciones de varias tiendas que utilizan distintas monedas. [GitHub-33426](https://github.com/magento/magento2/issues/33426)

<!-- ACP2E-64-->

* Los descuentos especiales de precios avanzados ahora se muestran correctamente para los productos de paquete con un prefijo % en la cuadrícula de productos. Anteriormente, un porcentaje de descuento se mostraba incorrectamente con el prefijo $ en lugar de % en la cuadrícula del producto.

<!-- ACP2E-262-->

* El estado del producto del paquete en el administrador ahora se actualiza automáticamente cuando un producto relacionado cambia su estado.

<!-- ACP2E-326-->

* La resolución de GraphQL para productos de paquete ahora comprueba si se han deshabilitado los productos de paquete secundarios. Anteriormente, esta comprobación no se producía y consulta dicha comprobación `categoryList` devuelve productos secundarios que no se pueden vender.

<!-- MC-43223-->

* `cart` las respuestas de consulta ahora devuelven descuentos precisos para paquetes de productos con precios dinámicos. Anteriormente, las respuestas de consulta incluían descuentos aplicados a cada producto del paquete individualmente.

### Caché

<!-- MC-42811-->

* Se ha optimizado el algoritmo de limpieza de caché que se ejecuta durante la reindexación. Los productos del paquete ahora se muestran según lo esperado cuando una categoría se almacena en caché durante la reindexación. Anteriormente, los productos del paquete no se mostraban durante horas después de que las categorías de productos se almacenaran en caché durante la reindexación.

<!-- AC-328-->

* La caché de la página ya no crece rápidamente con el uso habitual. [GitHub-9458](https://github.com/magento/magento2/issues/9458)

<!-- magento/magento2/pull/33468-->

* Al realizar un pedido ya no se eliminan todas las etiquetas de caché relacionadas con los productos pedidos de la caché de Varnish. [GitHub-30128](https://github.com/magento/magento2/issues/30128)

<!-- AC-1478-->

* La caché de la página del sitio completo ya no se elimina al actualizar un producto de las categorías principales o ejecutar un índice para actualizar los atributos del producto o el estado de las existencias. Anteriormente, la caché de Varnish agregaba los ID de categoría de menú principales a todas las etiquetas de caché de página. [GitHub-33465](https://github.com/magento/magento2/issues/33465)

### Carro de compras y cierre de compra

<!-- MC-41494-->

* El precio mínimo publicitado **¿Qué es esto?** ahora se puede hacer clic en el vínculo de la página del carro de compras y abre la ventana emergente de información como se espera. Anteriormente, hacer clic en este vínculo no tenía ningún efecto.

<!-- MC-42639-->

* Los compradores ahora pueden realizar pedidos sin errores después de que se agote el tiempo de espera de la sesión en implementaciones en las que el carro de compras persistente esté habilitado. Anteriormente, la aplicaciónOpen Source mostraba un error de pago después de agotarse el tiempo de espera de sesión.

<!-- MC-42638-->

* La asignación de un valor de orden alto a un atributo de dirección de cliente ya no provoca una degradación del rendimiento en la página de cierre de compra.

<!-- MC-42813-->

* El Magento Open Source ahora revierte la cantidad de producto del carro de compras al valor anterior si la cantidad actualizada no es válida.

<!-- MC-42347-->

* Al hacer clic en **Agregar al carro** en la sección Vistos recientemente ahora redirige como se espera a la página de detalles del producto. Anteriormente, los compradores se redirigían a la página de lista de productos.

<!-- MC-33705-->

* Los compradores invitados ahora pueden realizar la comprobación con una dirección de cliente que contiene varios tipos de atributos de dirección de cliente personalizados. Anteriormente, los valores de atributos personalizados no tenían un formato correcto cuando se mostraban durante el cierre de compra. [GitHub-30290](https://github.com/magento/magento2/issues/30290)

<!-- MC-24379-->

* El Magento Open Source ahora aplica correctamente el umbral de envío gratuito a los pedidos cuando las tarifas de tabla están habilitadas. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- AC-271-->

* Ahora puede usar `POST /V1/guest-carts/:cartId/items` para añadir productos simples con diferentes opciones a un carro de compras. Anteriormente, esta llamada cambiaba la cantidad del primer producto simple agregado en lugar de agregar un segundo producto simple con las opciones especificadas. [GitHub-32302](https://github.com/magento/magento2/issues/32302)

<!-- AC-1089-->

* La sección Resumen de pedidos de la página de cierre de compra ahora muestra la moneda y la cantidad correctas cuando se configura una implementación para `Poland` país y `PLN` moneda. Anteriormente, el carro de compras y la página de cierre de compra mostraban la cantidad **PLN 0**.

<!-- MC-32805-->

* El Magento Open Source ya no genera un error cuando un comprador hace clic en **Actualizar carro** después de cambiar una cantidad de producto en el minicarro. Anteriormente, el applicationOpen Source mostraba este error:  `The quote item isn't found. Verify the item and try again`.

<!-- MC-43176-->

* GraphQL `products` las consultas de productos configurables en un almacén específico ahora devuelven los intervalos de precios de los productos solo en el almacén especificado. Anteriormente, las solicitudes devolvían intervalos de precios para productos simples en tiendas no especificadas.

<!-- AC-691-->

* El Magento Open Source ya no genera este error cuando un comprador agrega una dirección de facturación que no tiene un campo de calle: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- AC-1625-->

* El Magento Open Source ya no genera un error de consola durante el cierre de compra en las tiendas desde las que se ha eliminado el minicarro. [GitHub-34513](https://github.com/magento/magento2/issues/34513)

<!-- AC-691-->

* El cierre de compra ya no falla en la fase de pago cuando a la dirección de facturación le faltan valores de campo de calle o el valor de campo de calle no es una matriz. Anteriormente, el cierre de compra producía este error: `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- ACP2E-10-->

* El Magento Open Source ahora calcula correctamente los descuentos cuando se aplican dos reglas de carro de compras a un pedido que cumple estas condiciones: se aplica una regla de carro de compras con un código de cupón y un **Precio fijo en el carro de compras completo**  y la segunda regla de precio del carro de compras no tiene cupón ni **Porcentaje de descuento en el precio del producto** condición. Anteriormente, el algoritmo relevante no podía dividir correctamente el descuento proporcionalmente entre los productos del carro de compras cuando una regla anterior del carro de compras ya había aplicado un descuento en algunos productos.

<!-- ACP2E-22-->

* El total de ventas ahora se calcula correctamente en la cuadrícula del informe de cupones. Anteriormente, el total de ventas no incluía el importe de envío.

<!-- ACP2E-44-->

* Los descuentos en el carro de compras completo ahora se calculan correctamente cuando el comprador cambia entre los métodos de envío.

<!-- ACP2E-159-->

* La lista desplegable de **Estado** en la página Administrar orden de creación , ahora se rellenan con los valores predefinidos para el país seleccionado. Anteriormente, este campo era un campo de texto de entrada en lugar de un menú desplegable.

<!-- ACP2E-172-->

* El Magento Open Source ya no genera un error después de usar la variable `addConfigurableProductsToCart` mutación para agregar un producto configurable a un carro de compras directamente después de cambiar la vista de la tienda.

<!-- ACP2E-176-->

* El Magento Open Source ya no genera un error al usar la variable `addConfigurableProductsToCart` para agregar al carro un elemento secundario deshabilitado de un producto configurable. Anteriormente, applicationOpen Source generaba un error de infracción de restricción de integridad.

<!-- ACP2E-157-->

* El valor de uso del cupón ya no cambia si falla el orden al que se ha aplicado el cupón.  Anteriormente, los cupones generados automáticamente de un solo uso se marcaban como no válidos después de aplicar el cupón al carro de compras, pero no se realizaba el pedido.

<!-- ACP2E-137-->

* Se ha añadido la validación al flujo de trabajo de cierre de compra para comparar la dirección del cliente con el valor predeterminado. Si el proceso de validación identifica cambios, establece `customer_address_id` a `null` para tratarlo como una nueva dirección de cliente. Anteriormente, si el cliente guardaba la dirección sin validación durante el cierre de compra y el mismo cliente intentaba realizar un pedido utilizando la misma dirección después de aplicar la validación al campo de cierre de compra , la aplicación Open Source no aceptaba la dirección editada y generaba una excepción.

### Reglas de precios del carro de compras

<!-- MC-42288-->

* La generación de cupones ahora está bloqueada hasta que la regla de precio del carro de compras relacionada se guarde con la variable `auto` activada. Si intenta guardar esta regla sin habilitar la variable `auto` , la aplicación Open Source muestra este mensaje: `Rule is not saved with auto generate option enabled. Please save the rule and try again`.

<!-- MC-42743-->

* Se ha añadido una prueba para confirmar la aplicación correcta de una regla de descuento de precio del carro de compras.

<!-- ACP2E-213-->

* Reglas de precios del carro de compras que usan una condición de SKU con **Si un artículo está ENCONTRADO/NO ENCONTRADO en el carro con todas/cualquiera de estas condiciones como verdadero** ahora funciona como se espera con productos configurables.

<!-- ACP2E-225-->

* Las reglas de precios del carro de compras ahora se aplican correctamente para los productos de paquete de precio fijo. Anteriormente, las reglas de precios del carro de compras no se aplicaban a estos productos cuando al menos un producto secundario tenía el mismo conjunto de atributos especificado en la condición de regla.

<!-- ACP2E-285-->

* Ahora se puede agregar correctamente al carro un producto con el precio 0 cuando el Magento Open Source está configurado con la variable **Descuento de cantidad fija para todo el carro** regla de precio del carro de compras. Anteriormente, el applicationOpen Source mostraba este error:  `report.ERROR: Warning: Division by zero in /home/mer33515/public_html/ee24develop/app/code/Magento/SalesRule/Helper/CartFixedDiscount.php on line 85`.

<!-- ACP2E-306-->

* Se ha corregido una condición en la que la variable `cart` La consulta devolvía una cantidad de descuento inexacta cuando se activaban las reglas del carro de compras con descuentos de cantidad fija.

### Catálogo

<!-- MC-41796-->

* El Magento Open Source ya no genera una excepción al realizar una acción de actualización de atributos masivos en la cuadrícula del producto cuando un producto tiene una `datetime` atributo.

<!-- MC-42571-->

* Las consultas de GraphQL ahora devuelven resultados para productos secundarios de un producto configurable según la configuración del filtro de visibilidad de los productos secundarios.

<!-- MC-41853-->

* El Magento Open Source ya no modifica los precios de producto relacionados cuando se cambian los atributos de producto configurables. Anteriormente, el precio mínimo publicitado (MAP) de un producto configurable sobrescribía el precio de los productos relacionados en la tienda.

<!-- MC-41796-->

* El Magento Open Source ya no genera una excepción al realizar una acción de actualización de atributos masivos en la cuadrícula del producto cuando un producto tiene una `datetime` atributo.

<!-- MC-42132-->

* Los valores de atributo de selección múltiple o desplegable para la cuadrícula del producto Administración y los filtros ahora se derivan del modo esperado de la configuración de Administración. Anteriormente, los valores de atributo se derivaban de la configuración de almacén predeterminada.

<!-- MC-43010-->

* Las consultas de categoría de GraphQL devuelven información sobre los cambios realizados en las categorías organizadas como se esperaba.

<!-- AC-711-->

* Las listas de productos ahora se representan con precisión en Administración en implementaciones con productos asignados tanto a una categoría principal como a sus subcategorías, pero en diferentes posiciones dentro de cada categoría. Anteriormente, el procesamiento de la lista de productos fallaba con este error: `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1148-->

* Ahora se pueden asignar atributos de selección múltiple con muchas opciones (más de 150) a nuevos productos. Anteriormente, las opciones de atributos se guardaban en el `catalog_product_entity_varchar` y no todas las opciones estaban presentes cuando volvió a abrir el producto en el Administrador. [GitHub-33486](https://github.com/magento/magento2/issues/33486)

<!-- AC-904-->

* Se agregó la validación para el caso en que un enrutador no pueda crear una instancia de una clase de acción recopilada desde una dirección URL. La aplicación Open Source ahora muestra el mensaje de error estándar. Anteriormente, el applicationOpen Source mostraba este error:  `PHP Error: Cannot instantiate abstract class Magento\Catalog\Controller\Product\Compare`.

<!-- ACP2E-115-->

* La asignación de muchos productos (aproximadamente 10 000) a una categoría ya no hace que el explorador se bloquee.

<!-- ACP2E-122-->

* Los atributos de imagen ahora se guardan en la base de datos de forma coherente, tanto si se guardan desde el Administrador como si se realiza la importación. Anteriormente, los valores de texto ALT de imagen se guardaban de forma incoherente. Si la imagen existía y la etiqueta se establecía en null, el valor de la etiqueta no se restablecía en la base de datos.

<!-- ACP2E-155-->

* Se ha optimizado la consulta SQL del widget de catálogo. Anteriormente, las consultas de MySQL de gran tamaño ralentizaban la carga de las páginas y provocaban interrupciones en MySQL.

<!-- ACP2E-165-->

* Los filtros de precios ahora funcionan correctamente con productos configurables fuera de existencias. Anteriormente, los productos configurables fuera de existencias no se mostraban en su rango de precios correcto.

<!-- ACP2E-330-->

* Al actualizar un producto secundario ya no se elimina el descuento de regla de catálogo heredado de su producto configurable principal durante el proceso de indexación parcial. Anteriormente, cuando asignábamos un producto configurable a una categoría pero no a sus productos simples asociados y luego usábamos esa categoría para crear una regla de catálogo, la aplicación Open Source eliminaba la regla de catálogo asignada al producto simple durante el proceso de indexación parcial.

<!-- ACP2E-216-->

* La lista de vista de cuadrícula de productos agrupados y configurables ahora solo contiene productos simples y virtuales al agregar opciones de producto. Anteriormente, la aplicación incluía productos simples con opciones.

### Regla del catálogo

<!-- MC-41807-->

* Las actualizaciones diarias de las reglas del catálogo ya no resultan en una degradación del rendimiento. Anteriormente, la indexación parcial de los precios de los productos del catálogo no eliminaba los precios o fechas antiguos.

<!-- MC-38263-->

* El Magento Open Source ya no elimina las reglas de precios de catálogo en productos configurables durante la reindexación parcial. Anteriormente, solo se reindexaban los subproductos cuando se reindexaban los productos configurables.

<!-- ACP2E-331-->

* Las reglas de precios del catálogo con la variable **category no es category_id** ahora se aplica a los productos que no pertenecen a ninguna categoría.

### Productos configurables

<!-- MC-42188-->

* El nombre de etiqueta de opción de producto configurable ahora se basa en la vista de tienda seleccionada durante la creación del pedido de administración. Anteriormente, applicationOpen Source utilizaba el nombre de la etiqueta de la vista de tienda predeterminada.

<!-- MC-42187-->

* Las listas de productos ahora incluyen correctamente productos secundarios de un producto sin existencias cuando el indicador global para mostrar productos sin existencias está habilitado. Anteriormente, la lista de productos no incluía el producto secundario si una de las varias opciones secundarias de producto no estaba en existencias cuando se habilitó este indicador.

<!-- MC-42340-->

* Ahora puede usar la variable `addConfigurableProductsToCart` para agregar un producto configurable al carro de compras en una vista de tienda no predeterminada. Anteriormente, no se podía añadir un producto configurable a un carro de compras cuando el ID del sitio web y el ID de la tienda eran diferentes. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

<!-- MC-43051-->

* GraphQL `products` las consultas ya no devuelven datos sobre los productos secundarios desactivados de los productos configurables.

<!-- ACP2E-101-->

* La creación de nuevas configuraciones para un producto configurable ya no anula los cambios en las configuraciones existentes. Anteriormente, el estado de las variaciones existentes se anulaba con el estado predeterminado `enabled` después de generar nuevas variaciones.

<!-- ACP2E-175-->

* El Magento Open Source ya no genera un error interno al intentar agregar al carro un elemento secundario deshabilitado de un producto configurable.

### Cliente

<!-- MC-24204-->

* El Magento Open Source ahora considera el ámbito del sitio web para las configuraciones regionales de administración durante la creación del pedido. Anteriormente, los detalles de los pedidos, como los atributos de dirección del cliente, solo funcionaban correctamente en un sitio web en una implementación multisitio. [GitHub-23254](https://github.com/magento/magento2/issues/23254)

### Correo electrónico

<!-- MC-42592-->

* Los errores de validación de campos de correo electrónico en la ventana emergente de inicio de sesión de cierre de compra ahora coinciden con los errores de validación de correo electrónico en la página de inicio de sesión del cliente cuando un cliente intenta iniciar sesión con una cuenta de correo electrónico no válida.

<!-- MC-42764-->

* El Magento Open Source ya no incluye un mensaje de error en el correo electrónico de detalles del envío cuando se añade un comentario de envío desde el administrador y el **Notificar al cliente** está activada. Anteriormente, los correos electrónicos de confirmación de envío incluían este mensaje: `We're sorry, an error has occurred while generating this content`.

<!-- MC-42486-->

* Los valores de ID de región y país ahora se convierten correctamente en plantillas de correo electrónico. Anteriormente, al hacer clic en **Vínculo de vista previa** en la plantilla de correo electrónico del administrador , el país y el nombre de región no se mostraban correctamente.

<!-- MC-36262-->

* Los correos electrónicos de actualización de ventas enviados desde el administrador para vistas de tienda no predeterminadas ahora contienen etiquetas de estado de pedido correctas. Anteriormente, estos correos electrónicos siempre mostraban el estado desde la tienda predeterminada. [GitHub-29263](https://github.com/magento/magento2/issues/29263)

<!-- AC-721-->

* Magento Open Source ahora incluye `Content-Disposition: inline` encabezados en el correo electrónico según lo esperado. [GitHub-29258](https://github.com/magento/magento2/issues/29258)

<!-- magento/magento2/pull/32720-->

* Los correos electrónicos de notificación de pedidos y envíos ahora funcionan como se espera en las implementaciones que utilizan Microsoft Outlook y MS Exchange Server. Anteriormente, el cuerpo del correo electrónico estaba vacío, pero contenía un archivo adjunto marcado con ATT*. [GitHub-25076](https://github.com/magento/magento2/issues/25076)

<!-- ACP2E-47-->

* Los correos electrónicos de pedido ahora contienen datos localizados usando la configuración regional del comprador como se esperaba. Anteriormente, los correos electrónicos de pedido utilizaban la configuración regional de administración.

<!-- ACP2E-107-->

* Al hacer clic en la vista previa de cualquier plantilla de correo electrónico, ahora se abre la vista previa de la plantilla en una ventana independiente, tal como se espera.  Anteriormente, applicationOpen Source abría la vista previa de la plantilla simultáneamente desde la cuadrícula Plantillas de correo electrónico y en una ventana emergente.

<!-- ACP2E-127-->

* Los correos electrónicos de pedido asincrónicos que se envían desde un sitio web no predeterminado ahora incluyen direcciones URL de logotipo del sitio web adecuado. Anteriormente, estos correos electrónicos siempre incluían logotipos del sitio web predeterminado o principal. (Una clave predeterminada con un `storeCode` se ha asignado al segundo argumento de matriz que se pasa al `UrlInterface` `getUrl` función. Este valor distingue las direcciones URL con respecto a diferentes tiendas/sitios web y genera una `baseUrl` para el contenido de correo electrónico que se envía al cliente).

### Marcos

<!-- AC-515-->

* Ahora, las comparaciones no estrictas entre números y cadenas no numéricas funcionan al convertir el número en cadena y comparar las cadenas. Las comparaciones entre números y cadenas numéricas siguen funcionando como antes. Esto significa que `0 == "not-a-number"` ahora se considera falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-1338-->

* El ayudante `Magento\Payment\Helper\Data` ya no crea nuevos diseños en constructores. Anteriormente, cuando este asistente se utilizaba en comandos personalizados sin especificar un código de área, el Magento Open Source generaba un error. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1068-->

* Se ha actualizado el `allure-framework/allure-php-api` Dependencia del compositor.

<!-- MC-42091-->

* Ahora, el Magento Open Source devuelve un código de respuesta 500 cuando se produce una excepción en el archivo bootstrap. Anteriormente, applicationOpen Source devolvía un código de estado de 200 OK. [GitHub-22196](https://github.com/magento/magento2/issues/22196)

<!-- AC-1318-->

* El símbolo de moneda ahora se carga como se espera en las páginas de detalles del producto de tienda. Anteriormente, este símbolo a veces desaparecía después de que se recargara la página JavaScript.

<!-- AC-719-->

* Actualización `symfony/console` ya no provoca un error al ejecutar `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- AC-1504-->

* Se han añadido las nuevas opciones necesarias al `.htaccess` y `nginx.conf` archivos que se distribuyen con el soporte de Magento Open Source para PHP 8.x. También se han eliminado las opciones obsoletas. [GitHub-34358](https://github.com/magento/magento2/issues/34358)

<!-- MC-42448-->

* Los comerciantes ahora pueden cargar un vídeo para varios productos. El proceso de generación de archivos ahora añade una extensión al nombre del archivo solo si el nombre del archivo cargado incluye una extensión. Anteriormente, cuando un comerciante intentaba cargar y guardar el mismo vídeo para dos productos diferentes, la aplicación Open Source generaba este error: `Notice: Undefined index: extension in /app/7ha7zds7wvqys_stg/vendor/magento/framework/File/Uploader.php on line 699`. Esto ocurría porque el Magento Open Source intentó anexar una extensión de archivo al nombre independientemente de si el nombre del archivo cargado tenía una extensión.

<!-- magento/magento2/pull/34106-->

* Se han corregido problemas con `sprintf(__())` y `sprintf(Magento\Framework\Phrase())` construcción de compatibilidad con PHP 8.x en toda la base de código. Anteriormente, applicationOpen Source generaba este tipo de error: `Expected parameter of type 'string', 'Magento\Framework\Phrase' provided`. [GitHub-34085](https://github.com/magento/magento2/issues/34085)

<!-- AC-1605-->

<!-- MC-42934-->

* Se ha mejorado la validación de los parámetros de consulta de búsqueda avanzada. [GitHub-33589](https://github.com/magento/magento2/issues/33589)

<!-- ACP2E-69-->

* En ejecución `bin/magento support:backup:code` ahora crea una copia de seguridad como se espera. Anteriormente, applicationOpen Source creaba una copia de seguridad pero generaba un error.

<!-- ACP2E-82-->

* Ejecutado correctamente `cron` ahora se asigna a los procesos un estado de `success`. Anteriormente, el mismo `cron` el proceso podría ejecutarse dos veces porque se ha realizado correctamente `cron` se asignaron a los procesos un `pending` estado.

<!-- ACP2E-102-->

* La variable `Magento_Logging` ahora es compatible con IPv6.

### Correcciones generales

<!-- MC-42506-->

* El Magento Open Source ahora copia todos los campos de producto según sus ámbitos definidos al duplicar un producto. Anteriormente, la variable **name** y **descripción** los campos se restablecieron a `global` ámbito.

<!-- MC-42612-->

* El Magento Open Source ya no aplica redondeo delta a un descuento cuando el precio del producto es 0. Anteriormente, applicationOpen Source calculaba una cantidad de descuento negativa.

<!-- MC-42215-->

* Productos con un **Establecer como nuevo** ahora se puede guardar correctamente el atributo al que se asigna una fecha de inicio vacía y una fecha de finalización caducada. Anteriormente, applicationOpen Source generaba este error al guardar un producto con esta configuración: `Make sure the To Date is later than or the same as the From Date`.

<!-- MC-42775-->

* Los administradores ahora pueden reintentar operaciones que se han ejecutado durante el tiempo de procesamiento máximo. El máximo predeterminado es de 12 horas.

<!-- MC-42514-->

* Ya no se producen errores de canalización durante el procesamiento de acciones masivas debido a mensajes no reconocidos para el consumidor. Una propiedad de recuento de recuperación previa ahora limita estos mensajes para el consumidor y evita errores. Anteriormente, en ejecución `bin/magento queue:consumers:start async.operations.all` generó este error:  `Broken pipe or closed connection`.

<!-- MC-42075-->

* Los compradores ahora se redirigen de nuevo a la página de inicio de sesión como se espera después de un segundo intento fallido de inicio de sesión. Anteriormente, los compradores se redirigían a una página 404 después de un segundo intento fallido de inicio de sesión. [GitHub-32885](https://github.com/magento/magento2/issues/32885)

<!-- magento/magento2/pull/25279-->

* Se ha ampliado la validez del token de restablecimiento de contraseña para evitar que se produzca una condición de carrera durante el envío de la página de cambio de contraseña. [GitHub-29647](https://github.com/magento/magento2/issues/29647)

<!-- AC-1316-->

* Ahora se respetan los permisos asignados a nuevas integraciones. [GitHub-33347](https://github.com/magento/magento2/issues/33347)

<!-- AC-1328-->

* Se ha corregido un problema de regresión que afectaba a los mensajes que se dejaban en los registros de excepciones para el formulario Contactar con nosotros. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- magento/magento2/pull/31654-->

* Se han resuelto varios problemas con la carga JavaScript de datos de clientes. [GitHub-30498](https://github.com/magento/magento2/issues/30498)

<!-- magento/magento2/pull/33324-->

* Uso `QuoteIdToMaskedQuoteId` en una extensión ya no aumenta significativamente el tiempo de respuesta. [GitHub-33676](https://github.com/magento/magento2/issues/33676)

<!-- AC-720-->

* La clase `BundleDiscountPrice` en `magento2/app/code/Magento/Bundle/Pricing/Price/ConfiguredPrice.php` ahora se declara como se espera. Anteriormente, applicationOpen Source generaba este error: `Class Magento\Bundle\Pricing\Price\BundleDiscountPrice not found`. [GitHub-33334](https://github.com/magento/magento2/issues/33334)

<!-- AC-1239-->

* Los valores de campo CSV con escape escritos por el adaptador AWS S3 ahora coinciden con los datos escritos por otros adaptadores del sistema de archivos.

<!-- MC-43046-->

* Ahora se admite el almacenamiento compatible con S3. [GitHub-32114](https://github.com/magento/magento2/issues/32114)

<!-- ACP2E-123-->

* Al cerrar la sesión desde un dispositivo ya no se cierra la sesión del comprador automáticamente desde otros dispositivos.

### GraphQL

<!-- PWA-1938-->

* La variable `generateCustomerToken` y `revokeCustomerToken` las mutaciones ahora proporcionan el ID de caché correcto para el estado del usuario. Anteriormente, estas mutaciones usaban un valor no válido `x-magento-cache-id`, que degradaban el rendimiento.

<!-- PWA-1506-->

* La variable `setBillingAddressToCart` la mutación ahora utiliza correctamente el `same_as_shipping` para configurar la dirección de facturación de modo que coincida con la dirección de envío según lo esperado. Anteriormente, el applicationOpen Source mostraba este error: `The shipping method is missing. Select the shipping method and try again`. [GitHub-30924](https://github.com/magento/magento2/issues/30924)

<!-- PWA-1980-->

* Las operaciones del carro de compras de GraphQL ahora calculan los totales generales del carro de compras solo cuando la consulta lo solicita. Anteriormente, las operaciones del carro de compras siempre calculaban el total general, que es una operación que consume muchos recursos.

<!-- MC-42781-->

* La variable `addProductsToCart` la mutación ahora agrega al carro solo los productos que están asignados al almacén que se define en el encabezado.

<!-- MC-42783-->

* `products` las consultas que utilizan filtros de navegación por capas ahora devuelven listas de categorías secundarias correctas. [GitHub-33387](https://github.com/magento/magento2/issues/33387)

<!-- MC-42831-->

* Consultas y mutaciones que devuelven la variable `ConfigurableCartItem` contiene información sobre variantes configuradas como se espera.

<!-- MC-42082-->

* La variable `products` la consulta ahora devuelve los valores de opción de producto de configuración y los valores de atributo de variante. Anteriormente, estos valores estaban vacíos en las respuestas de consulta.

<!-- MC-41794-->

* La variable `products` query ahora filtra paquetes de productos correctamente cuando los productos secundarios están desactivados en el nivel de vista de tienda. Anteriormente, la consulta devolvía productos secundarios que estaban desactivados en el nivel de vista de tienda.

<!-- MC-42903-->

* La variable `setShippingAddressesOnCart` la mutación ahora admite la configuración de direcciones de envío en un carro de compras con un valor de número de teléfono vacío cuando la variable **Mostrar teléfono** La configuración de administración se establece en opcional. Anteriormente, applicationOpen Source generaba este error: `Field CartAddressInput.telephone of required type String! was not provided`.

<!-- MC-42970-->

* Se ha corregido un problema por el que la variable `addSimpleProductsToCart` la mutación le permite añadir productos simples a un carro que no están asignados al sitio web de destino.

<!-- MC-42600-->

* Las consultas MySQL se han optimizado para GraphQL `products` consultas que utilizan parámetros de búsqueda para refinar los resultados de búsqueda.

<!-- MC-43189-->

* La variable `addConfigurableProductToCart` la mutación ya no admite la adición de un producto a un carro de compras si el producto no está incluido en el ámbito solicitado.

<!-- MC-42666-->

* La variable `products` query ahora devuelve solo las variantes configurables que están asignadas a la vista de almacén solicitada. Anteriormente, se devolvían todas las variantes del producto configurable solicitado.

<!-- MC-42652-->

* `addSimpleProductsToCart` Ahora, las solicitudes de se pueden ejecutar correctamente en paralelo. Anteriormente, varias solicitudes para el mismo SKU creaban artículos de línea duplicados para el mismo ID de carro de compras en lugar de aumentar la cantidad de producto como se esperaba.

<!-- AC-856-->

* La variable `addProductsToCompareList` ahora se puede usar la mutación para comparar variantes de productos configurables.

<!-- MC-42443-->

* Cuando el precio de un producto de nivel se actualiza desde el servidor, el nuevo precio se actualiza correctamente en el carro del cliente. Anteriormente, aunque el subtotal de la sección Resumen del carro de compras se actualizaba correctamente, el subtotal de la fila no se actualizaba.

<!-- AC-697-->

* La variable `addProductsToCart` la mutación ahora agrega todas las opciones seleccionadas al carro de compras cuando se utiliza para agregar productos de paquete con varias opciones de selección. Anteriormente, la mutación solo añadía la última selección. [GitHub-33123](https://github.com/magento/magento2/issues/33123)

<!-- MC-38815-->

* Las consultas de GraphQL ahora devuelven la dirección de facturación como se espera cuando el valor de un campo telefónico opcional se establece en una cadena vacía. Anteriormente, las consultas devolvían un valor de dirección nulo. [GitHub-30218](https://github.com/magento/magento2/issues/30218)

<!-- ACP2E-51-->

* La variable `products` la respuesta de consulta ahora enumera los productos según el criterio de ordenación especificado cuando varios productos tienen la misma relevancia o valor de precio.

<!-- ACP2E-75-->

* Simultáneo `addSimpleProductsToCart` y `addProductsToCart` las solicitudes ya no resultan en elementos de comillas duplicados.

<!-- ACP2E-76-->

* `products` los filtros de navegación en capas de consulta ahora devuelven listas de categorías secundarias correctas. Ahora solo se incluyen subcategorías directas cuando se usa la variable `includeDirectChildrenOnly` se proporciona en la solicitud. Anteriormente, todas las categorías se incluían como respuesta en la sección de agregación cuando se asignaba un producto a varias categorías.

<!-- ACP2E-132-->

* Se ha agregado la funcionalidad de sugerencias de búsqueda para las consultas de búsqueda de GraphQL.

<!-- ACP2E-288-->

* La variable `OrderAddress.telephone` ahora es opcional en la variable `customer` consulta u otras consultas y mutaciones que devuelvan o modifiquen direcciones de pedidos de clientes.

<!-- ACP2E-278-->

* Los precios ahora se actualizan correctamente para los clientes de un grupo especificado tanto en la tienda como en el administrador cuando se cambia un ID de grupo mediante API. Anteriormente, estos precios no se actualizaban correctamente cuando se cambiaba un ID de grupo mediante API.

### Imagen

<!-- MC-42080-->

* Las imágenes de marca de agua con fondos transparentes ya no tienen un fondo blanco en la imagen de producto transparente que se superpone. Anteriormente, cuando la imagen de marca de agua y la imagen del producto tenían un fondo transparente, la marca de agua se mostraba con un fondo blanco.

<!-- AC-1240-->

* Los logotipos de facturas y recibos de envío ahora se cargan y muestran según lo esperado cuando AWS S3 está habilitado.

<!-- MC-42160-->

* La etiqueta de medios asociada con una imagen agregada a una página de CMS en una implementación en la que el administrador está establecido en un dominio diferente al de la dirección URL de la tienda ahora contiene las direcciones URL de la tienda como se espera. Anteriormente, las etiquetas multimedia contenían direcciones URL de administración estáticas en lugar de las URL de tienda esperadas. [GitHub-32930](https://github.com/magento/magento2/issues/32930)

<!-- ACP2E-315-->

* El Magento Open Source ya no genera un error al vaciar la caché de imágenes mientras carga simultáneamente imágenes en la tienda.

### Importar/exportar

<!-- AC-1486-->

* `bin/magento remote-storage:sync` ya no falla cuando los nombres de archivo son similares pero solo difieren en uno o dos caracteres. Anteriormente, la primera imagen se almacenaba correctamente, pero la segunda imagen con un nombre similar activaba un error de sincronización y este error: `Notice: Undefined index: media/catalog/product/5/_ in /src/vendor/magento/module-remote-storage/Driver/Adapter/Cache/Generic.php on line 197`. [GitHub-34337](https://github.com/magento/magento2/issues/34337)

<!-- MC-41672 23734-->

* Ahora, el Magento Open Source convierte la marca de tiempo del nombre del archivo de exportación a la zona horaria del usuario después de una exportación programada. Anteriormente, estos valores no se convertían y el Magento Open Source mostraba la marca de tiempo UTC.

<!-- MC-42330-->

* El Magento Open Source ya no crea imágenes duplicadas en el almacenamiento remoto cuando el mismo archivo CSV se importa más de una vez.

<!-- AC-1045-->

* La importación ya no falla con este mensaje: `Import failed: Area code not set: Area code must be set before starting a session`. [GitHub-16171](https://github.com/magento/magento2/issues/16171)

<!-- AC-988-->

* Ahora puede importarse correctamente después de ejecutarse `bin/magento app:config:dump` y edición manual `config.php`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- MC-41672-->

* Los separadores de valores múltiples no predeterminados ahora se pueden usar en atributos personalizados de selección múltiple. Anteriormente, la validación fallaba durante la importación. [GitHub-23156](https://github.com/magento/magento2/issues/23156)

<!-- ACP2E-86-->

* La posición del producto en las categorías ahora se asigna correctamente durante la importación desde CSV.

### Índice

<!-- MC-42791-->

* El Magento Open Source ahora muestra los productos tal como se espera en la tienda después de volver a indexar. Anteriormente, cuando los primeros 500 productos que se estaban reindexando estaban en existencias y los 500 siguientes no estaban en existencias, la tienda no mostraba ningún producto adicional.

<!-- magento/magento2/pull/27212-->

* Problemas de coherencia resueltos en la combinación `indexer.xml` archivos. Los valores permitidos en `classType` ahora son iguales en unmerge y merge `indexer.xml` archivos. [GitHub-29609](https://github.com/magento/magento2/issues/29609)

<!-- AC-190-->

* Se ha implementado un mecanismo de sincronización en los indexadores de categorías para evitar que los indexadores completos y parciales se ejecuten en paralelo. Anteriormente, cuando estos indexadores se ejecutaban en paralelo, los productos se podían omitir temporalmente de las páginas de categoría de tienda o las páginas de categoría podían estar vacíos temporalmente de productos.

### Infraestructura

<!-- AC-1172-->

* No admitido `str_contains` se ha sustituido por una función admitida. Este era un problema conocido para el Magento Open Source 2.4.3. [GitHub-33680](https://github.com/magento/magento2/issues/33680)

<!-- magento/partners-magento2ee/pull/573-->

* Se ha modificado la base de código para corregir el uso de la palabra clave `match`, que es una palabra clave reservada en PHP 8.x. [GitHub-33626](https://github.com/magento/magento2/issues/33626)

* Las etiquetas de HTML ahora están anidadas y cerradas correctamente para cumplir los estándares de JQuery 3.5.x para elementos que no sean void, incluidos los elementos personalizados. <!-- AC-1942-->

<!-- magento/magento2/pull/34234)-->

* Fijo `abs()` y `round()` funciones para la compatibilidad con PHP7.x y PHP8.x.  [GitHub-34322](https://github.com/magento/magento2/issues/34322)

<!-- AC-719-->

* Actualización `symfony/console` ya no causa un error al ejecutar `bin/magento setup:di:compile`. [GitHub-33595 ](https://github.com/magento/magento2/issues/33595)

<!-- magento/magento2/pull/34175-->

* Se ha corregido la restricción para la variable `colinmollenhour/cache-backend-redis` Dependencia del compositor. [GitHub-34177](https://github.com/magento/magento2/issues/34177)

<!-- magento/magento2/pull/33932 magento/magento2/pull/33992-->

* El código base se ha refactorizado para eliminar llamadas a métodos obsoletos de `phpunit/phpunit`. [GitHub-33916](https://github.com/magento/magento2/issues/33916)

<!-- MC-42960-->

* El Magento Open Source ahora muestra un error informativo cuando un administrador con un solo lectura `pubs/media` intenta acceder a la página de detalles del producto de un producto que incluye imágenes. Anteriormente, applicationOpen Source generaba un error de PHP. [GitHub-32819](https://github.com/magento/magento2/issues/32819)

<!-- AC-853-->

* Todos los miembros `@api` las anotaciones se han movido a su clase a través de la base de código.

<!-- AC-1977-->

* `gift-card Cms` los datos del widget se han movido de `Magento/WidgetSampleData` (Magento Open Source) a `Magento/GiftCardSampleData` (Adobe Commerce). Esto ha resuelto problemas de instalación (Magento Open Source) con datos de ejemplo en PHP8.1.

<!-- AC-1001-->

* Se han marcado interfaces en toda la base de código de integración de Adobe Stock con `@api` según sea necesario. [GitHub-32875](https://github.com/magento/magento2/issues/32875)

<!-- AC-1770-->

* Los enteros y flotantes en los conjuntos de resultados ahora se devuelven utilizando tipos PHP nativos en lugar de cadenas al usar instrucciones preparadas emuladas. [GitHub-34625](https://github.com/magento/magento2/issues/34625)

<!-- AC-1697-->

* Se ha deshabilitado la creación automática de matrices a partir de valores falsos para garantizar la compatibilidad con PHP 8.1.

<!-- AC-1338-->

* El ayudante `Magento\Payment\Helper\Data` ya no crea nuevos diseños en constructores. Anteriormente, cuando este asistente se utilizaba en comandos personalizados sin especificar un código de área, la aplicación Open Source generaba un error. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1077-->

* Ahora puede pasar un `data` argumento a un constructor de instancia de bloque por `di.xml`.

<!-- MC-43096-->

* Optimizado `Generator.php` para facilitar la lectura. [GitHub-33809](https://github.com/magento/magento2/issues/33809)

<!-- AC-1313-->

* Se ha mejorado la comprobación de JWK en el `JwsManager` para controlar situaciones en las que el algoritmo está configurado directamente en el encabezado. Anteriormente, esta comprobación ignoraba este escenario válido. [GitHub-32636](https://github.com/magento/magento2/issues/32636)

#### Actualizaciones de dependencias de JavaScript

<!-- magento/magento2/pull/33871-->

* `jquery-validate` biblioteca de terceros [GitHub-33853](https://github.com/magento/magento2/issues/33853)

<!-- ENGCOM-8667-->

* `Less.js` (v3.13.1) [GitHub-32845](https://github.com/magento/magento2/issues/32845)

#### Eliminaciones y desaprobaciones de bibliotecas

* Se han eliminado las bibliotecas siguientes porque todos los exploradores compatibles con Magento Open Source 2.4.x son compatibles con esta funcionalidad:

   * `es6-collections.js`   <!-- AC-18-->
   * `MutationObserver.js` <!-- AC-15-->
   * `Modernizr` <!-- AC-12-->
   * `FormData.js`

* Se ha eliminado el no utilizado `jquery.hoverIntent` Biblioteca JavaScript. [GitHub-33732](https://github.com/magento/magento2/issues/33732) <!-- AC-97-->

* `lib/internal/Magento/Framework/Filter/Money.php` ha quedado obsoleto. Contiene el `money_format()` , que se eliminó en PHP 8.x. [GitHub-33870](https://github.com/magento/magento2/issues/33870)<!-- magento/magento2/pull/34366)-->

* Se ha eliminado el obsoleto y no compatible `grunt-autoprefixer` paquete. [GitHub-34037](https://github.com/magento/magento2/issues/34037) <!-- magento/magento2/pull/34032-->

#### Actualizaciones de bibliotecas

* Las bibliotecas siguientes se han actualizado a versiones más recientes:

   * `script.aculo.us` <!-- AC-363-->
   * `Chart.js`  <!-- AC-361-->
   * `moment.js` <!-- AC-11-->
   * `moment-timezone-with-data.js`   <!-- AC-10-->
   * `matchMedia.js` <!-- AC-8-->
   * `underscore.js`  <!-- AC-13-->
   * `PrototypeJS`  <!-- AC-17-->
   * `RequireJS`
   * `LessCSS`

### Factura

<!-- AC-1564-->

* Pegar a `int` se ha eliminado para los ID de factura autoincrementados cuando se añade el prefijo a una cadena. Como resultado, las facturas ahora muestran un 0 para los números con el prefijo una cadena. [GitHub-34451](https://github.com/magento/magento2/issues/34451)

### Registro

<!-- MC-42360-->

* El Magento Open Source ya no crea entradas de registro para llamadas de API fallidas que ejecutan acciones masivas en **Sistema** > **Acciones masivas**. Anteriormente, se agregaban entradas permanentes para llamadas de API fallidas al registro de acciones en bloque.

<!-- AC-1607-->

* Ya no se permite la creación automática de matrices a partir de valores falsos. [GitHub-34499](https://github.com/magento/magento2/issues/34499), [GitHub-34589](https://github.com/magento/magento2/issues/34589)

### Adobe Commerce estándar

<!-- magento/magento-coding-standard/pull/219-->

* Actualizado `phpunit/ phpunit` a la versión más reciente de `magento-coding-standard` repositorio. [GitHub-33622](https://github.com/magento/magento2/issues/33622)

<!-- magento/magento2/pull/33858-->

* Se ha actualizado el `webonyx/graphql-php` dependencia a la versión ^14.9 del repositorio estándar de codificación de Adobe Commerce. [GitHub-32863](https://github.com/magento/magento2/issues/32863)

<!-- magento/magento-coding-standard/pull/322-->

* Se ha añadido un nuevo sniff `Magento2.PHP.ArrayAutovivification` a Adobe Commerce coding standard para identificar la creación automática de matrices a partir de un valor false. [GitHub-34509](https://github.com/magento/magento2/issues/34509)

<!-- magento/magento-coding-standard/pull/325-->

* Se ha añadido un nuevo sniff `Magento2.Functions.DeprecatedFunction` a Adobe Commerce coding standard. [GitHub-34547](https://github.com/magento/magento2/issues/34547)

<!-- magento/magento-coding-standard/pull/326-->

* Se han agregado funciones obsoletas al sniff `Magento2.Functions.DiscouragedFunction` en Adobe Commerce coding standard. [GitHub-34548](https://github.com/magento/magento2/issues/34548)

<!-- magento/magento-coding-standard/pull/335-->

* La variable `Magento2.Annotation.MethodAnnotationStructure` sniff ya no falla con un falso positivo. [GitHub-34679](https://github.com/magento/magento2/issues/34679)

### Galería de medios

<!-- AC-1054-->

* La variable `bin/magento media-gallery:sync` ya no falla en las implementaciones en las que AWS S3 está habilitado.

<!-- AC-1000-->

* Los títulos de submenú Contenido de la galería de medios recién añadidos ahora se muestran cuando los elementos de menú superan los 11 y la variable **Habilitar galería de medios antigua** está habilitado. [GitHub-33889](https://github.com/magento/magento2/issues/33889)

<!-- MC-42837-->

* Se ha mejorado el tiempo de carga de la ficha Galería de medios al editar un producto con muchas imágenes. [GitHub-33434](https://github.com/magento/magento2/issues/33434)

### MFTF

<!-- AC-516-->

* `CURLOPT_POSTFIELDS` ya no acepta objetos como matrices. Para interpretar un objeto como una matriz, realice una`array`). Esta práctica también se aplica a otras opciones que aceptan matrices. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

* `curl_init()` ahora devuelve un `CurlHandle` en lugar de un recurso. La variable `curl_close()` ya no tiene ningún efecto. En su lugar, la variable `CurlHandle` se destruye automáticamente si ya no se hace referencia a ella. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

<!-- AC-1397-->

* Se corrigieron errores en las pruebas MFTF para productos descargables. [GitHub-34270](https://github.com/magento/magento2/issues/34270)

<!-- magento/magento2/pull/33530-->

* Eliminado `CliCacheFlushActionGroup` from `CatalogSearch`, `GroupedProduct`, `Newsletter`, `Paypal`, `Quote`y `Review` módulos. [GitHub-33531](https://github.com/magento/magento2/issues/33531)

<!-- AC-515-->

* Ahora, las comparaciones no estrictas entre números y cadenas no numéricas funcionan al convertir el número en cadena y comparar las cadenas. Las comparaciones entre números y cadenas numéricas siguen funcionando como antes. Esto significa que 0 == &quot;not-a-number&quot; ahora se considera falso. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-517-->

* `parse_url()` ahora distingue entre consultas y fragmentos ausentes y vacíos. [GitHub-33782](https://github.com/magento/magento2/issues/33782)

<!-- magento/magento2-functional-testing-framework/pull/873-->

* Se ha actualizado la base de código para evitar un error fatal al usar la variable `ReflectionType::isBuiltin()` método. [GitHub-34194](https://github.com/magento/magento2/issues/34194)

#### Nuevos grupos de acciones

`AdminCheckOrderStatusInGridActionGroup` [GitHub-33747](https://github.com/magento/magento2/issues/33747)

`StorefrontSelectFirstShippingMethodActionGroup` [GitHub-33773](https://github.com/magento/magento2/issues/33773)

`AdminClickUpdateChangesOnCreateOrderPageActionGroup` [GitHub-33689](https://github.com/magento/magento2/issues/33689)

#### Grupos de acciones

Las acciones repetitivas se han sustituido por grupos de acción en estas pruebas:

`AdminAddInStockProductToTheCartTest` [GitHub-34512](https://github.com/magento/magento2/issues/34512)

`AdminAddBundleItemsTest` [GitHub-34312](https://github.com/magento/magento2/issues/34312)

`AdminConfigurableProductAddConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductBulkUpdateTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminConfigurableProductDisableAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductOutOfStockAndDeleteCombinationTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductOutOfStockTestDeleteChildrenTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductRemoveAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductRemoveConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminCreateAndEditSimpleProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateAndEditVirtualProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateInactiveFlatCategoryTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminCreateInactiveInMenuFlatCategoryTest` [GitHub-34510](https://github.com/magento/magento2/issues/34510)

`AdminCreateDuplicateCategoryTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminCreateDuplicateProductTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminDeleteSimpleProductTest` [GitHub-33783](https://github.com/magento/magento2/issues/33783)

`AdminEditRelatedBundleProductTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminMassDeleteBundleProductsTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminNavigateMultipleUpSellProductsTest` [GitHub-34314](https://github.com/magento/magento2/issues/34314)

`AdminSimpleProductSetEditContentTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminSimpleProductTypeSwitchingToConfigurableProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminConfigurableProductTypeSwitchingToVirtualProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminCreateConfigurableProductWithDisabledChildrenProductsTest` [GitHub-33775](https://github.com/magento/magento2/issues/33775)

`AdminUpdateFlatCategoryAndAddProductsTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminUpdateTopCategoryUrlWithNoRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`AdminUpdateTopCategoryUrlWithRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`CatalogProductListWidgetOperatorsTest`  [GitHub-34579](https://github.com/magento/magento2/issues/34579)

`CreateProductAttributeEntityWithReservedKeysTest`[GitHub-34422](https://github.com/magento/magento2/issues/34422)

`EnableDisableBundleProductStatusTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`StorefrontCheckRefundGrandTotalActionGroup` [GitHub-34315](https://github.com/magento/magento2/issues/34315)

`StorefrontInactiveCatalogRuleTest` [GitHub-33556](https://github.com/magento/magento2/issues/33556)

`StorefrontConfigurableProductCantAddToCartTest` [GitHub-33786](https://github.com/magento/magento2/issues/33786)

`StorefrontConfigurableProductOptionsTest` [GitHub-33785](https://github.com/magento/magento2/issues/33785)

`StorefrontConfigurableProductCanAddToCartTest` [GitHub-33784](https://github.com/magento/magento2/issues/33784)

`StorefrontConfigurableProductGridViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontConfigurableProductListViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontProductNameWithHTMLEntitiesTest` [GitHub-33806](https://github.com/magento/magento2/issues/33806)

`StorefrontProductNameWithDoubleQuoteTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

#### Nuevas pruebas

`AdminCreateOrderWithCheckedAppendCommentCheckboxTest` [GitHub-32381](https://github.com/magento/magento2/issues/32381)

`CheckoutWithEnabledCaptchaTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

`StorefrontAddProductWithBackordersAllowedOnProductLevelToCartTest` [GitHub-33635](https://github.com/magento/magento2/issues/33635)

`StorefrontGiftMessageForOrderOnCheckoutCartPageTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCaptchaCheckoutWithEnabledCaptchaTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCheckoutWithEnabledMinimumOrderAmountOptionTest` [GitHub-33460](https://github.com/magento/magento2/issues/33460)

#### Pruebas refactorizadas

`CaptchaWithDisabledGuestCheckoutTest` [GitHub-30828](https://github.com/magento/magento2/issues/30828)

### Newsletters

<!-- ACP2E-147-->

* Los usuarios con los permisos adecuados ahora pueden administrar las suscripciones a los boletines de los clientes según lo esperado. Anteriormente, solo los administradores con permisos completos podían administrar las suscripciones a los boletines de los clientes en la página de cuenta del cliente de administración .

### Pedido

<!-- MC-41981-->

* Ahora, los compradores pueden volver a ordenar correctamente un pedido existente que contenga un producto con la combinación de opciones personalizadas de tipo archivo y lista desplegable de tipo desde la tienda y el administrador. Anteriormente, la aplicaciónOpen Source generaba un error y no procesaba la reordenación.

<!-- MC-42332-->

* La página de detalles del pedido de administración ahora se carga según lo esperado. Anteriormente, la aplicaciónOpen Source generaba el siguiente error al cargar la página de detalles del pedido para pedidos con determinados impuestos: `Call to a member function getId() on array`.

<!-- MC-38521-->

* Los administradores con permisos restringidos que incluyen privilegios de pedido y envío ahora pueden ver la página de pedido como se espera. Anteriormente, applicationOpen Source generaba un error cuando un administrador con estos permisos intentaba ver una solicitud. [GitHub-14633](https://github.com/magento/magento2/issues/14633)

<!-- ACP2E-74-->

* Los compradores ahora pueden realizar un pedido que incluya un producto configurable secundario cuando se establece un límite máximo de cantidad permitida.

## Métodos de pago

<!-- AC-1830-->

* Los compradores ahora pueden utilizar el Braintree para realizar un pedido utilizando una dirección de facturación sin una región configurada en implementaciones con 3DS habilitado. Anteriormente, el cierre de compra se congelaba cuando el comprador hacía clic **Realizar pedido**, y no se pudo completar la compra. [GitHub-34204](https://github.com/magento/magento2/issues/34204)

<!-- AC-1229-->

* Ahora se admite la opción de pago Venmo.

<!-- AC-1228-->

* PayPal ahora puede rastrear por código BN.

<!-- AC-493-->

* `bin/magento setup:upgrade` ahora se ejecuta tal como se espera al actualizar desde Magento Open Source 2.4.2-p1. Anteriormente, applicationOpen Source generaba este error: `Unable to apply data patch Magento\Paypal\Setup\Patch\Data\UpdateBmltoPayLater for module Magento_Paypal`. [GitHub-33678](https://github.com/magento/magento2/issues/33678)

<!-- MC-42830-->

* El ID de almacén correcto se utiliza ahora para recuperar las tarjetas de crédito guardadas durante la colocación del pedido de administrador. Las tarjetas de crédito almacenadas ahora se muestran durante la colocación del pedido según la configuración del ámbito del sitio web. Anteriormente, cuando un administrador intentaba crear un pedido para un cliente desde Admin y seleccionaba el método de Tarjetas de crédito almacenadas, no había opciones disponibles para las tarjetas almacenadas.

<!-- AC-344-->

* Se han resuelto las anomalías con PayPal Credit display de las cantidades de tarjetas regalo. Anteriormente, cuando se habilitaba Crédito de PayPal y se configuraban varias cantidades de tarjetas de regalo, si un comprador cambiaba la cantidad por el valor de una tarjeta de regalo, la tienda no actualizaba la cantidad para pagos a plazos. Este era un problema conocido en el Magento Open Source 2.4.3.

### PayPal

<!-- MC-42154-->

* El Magento Open Source ya no muestra un error durante el cierre de compra con el método de pago PayPal Express. Anteriormente, aunque el proceso de cierre de compra se había completado, la aplicación Open Source mostraba este error: `Something went wrong`.

<!-- AC-722-->

* PayPal Express ahora funciona como se espera del carro de compras. Anteriormente, al hacer clic en el **PayPal** para iniciar la compra express desde el carro, la aplicación Open Source lanzó este error:  `To check out, please sign in with your email address`. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42279-->

* PayPal Payflow Pro ahora realiza una captura retrasada con ID de transacción principales correctos en implementaciones en las que la puerta de enlace PayPal Payflow Pro con **Acción de pago** está configurado como **Autorización**. A **Venta** la transacción se envía a Payflow con un ID de transacción principal del token de almacén creado durante el cierre de compra como se esperaba. Anteriormente, un **Captura retrasada**  la transacción fue creada y enviada a PayPal Payflow. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42442-->

* Los compradores ahora son redirigidos a la página de éxito como se espera después de que se complete el pago con PayPal Payments Advanced payment. Anteriormente, los compradores no se redirigían a esta página aunque el pago se procesara correctamente y no se registraran errores.

### Rendimiento

<!-- MC-42158-->

* Se ha mejorado el tiempo de ejecución de la carga de la lista de módulos.

<!-- AC-932-->

* Se ha mejorado el rendimiento de la caché de términos de búsqueda populares. Anteriormente, cuanto más grande fuera la variable `search_query` , cuanto más tardó una consulta de búsqueda en completarse. [GitHub-27559](https://github.com/magento/magento2/issues/27559)

<!-- MC-42892-->

* De forma predeterminada, el Magento Open Source cambia el tamaño de las imágenes sincrónicamente durante el almacenamiento del producto. Los comerciantes ahora pueden cambiar el tamaño de las imágenes como un proceso asincrónico de fondo mediante pequeñas ediciones a un `di.xml` archivo.

<!-- ENGCOM-9168-->

* El rendimiento del indizador de productos de categoría se ha mejorado en implementaciones de varias tiendas. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-1179-->

* La nueva caché en memoria para `glob()` las llamadas al sistema mejoran el rendimiento al reducir el número de `glob()` llamadas a .  [GitHub-34025](https://github.com/magento/magento2/issues/34025)

<!-- ACP2E-63-->

* Se ha mejorado el rendimiento del proceso asincrónico de reindexación de la cuadrícula de pedidos.

<!-- ACP2E-117-->

* Se ha optimizado el consumo de memoria durante la exportación del producto.

### Precio

<!-- MC-42243-->

* La ordenación de precios ahora funciona según lo esperado cuando los precios del producto son cercanos o iguales a cero y los catálogos compartidos están habilitados. Anteriormente, los precios de nivel cero se ignoraban durante la reindexación de precios.

### Alerta del producto

<!-- MC-41917-->

* El nuevo `product_alert` El consumidor mejora el envío de alertas de clientes mediante la creación de mensajes en cola, la ejecución del consumidor y la mejora del tiempo de ejecución. Anteriormente, applicationOpen Source generaba una excepción de memoria insuficiente al enviar más de 100.000 alertas de productos. La aplicación Open Source también tardó más de 20 horas en enviar todas las alertas.

<!-- ACP2E-87-->

* El Magento Open Source ya no genera un error si el filtro de precios de la página Categoría no contiene un segundo valor. Anteriormente, applicationOpen Source arrojaba una excepción en el archivo de registro.

### Vídeo del producto

<!-- MC-42105-->

* El Magento Open Source ahora habilita la variable **Guardar** y rellena automáticamente los campos cuando se introduce una dirección URL incompleta al agregar un vídeo (Administrador **Catálogo**  > **Productos** > **Agregar vídeo**). Anteriormente, la variable **Guardar** se desactivó y los campos no se rellenaron.

### Reseñas

* La vista de lista de productos ahora muestra la clasificación de inicios correcta para los productos. [GitHub-30196](https://github.com/magento/magento2/issues/30196)

<!-- ACP2E-89-->

* Las revisiones ahora están visibles tal como se espera cuando un comprador hace clic **Consulte** en la página de producto de tienda.

<!-- ACP2E-111-->

* La clasificación de estrella del producto ahora es coherente en todas las vistas de cuadrícula y lista de la página de lista de productos de tienda. Anteriormente, el mismo producto podía tener clasificaciones diferentes en los modos de vista de cuadrícula y lista.

### Ventas

<!-- MC-42025-->

* Se ha mejorado el rendimiento de las actualizaciones de la cuadrícula de ventas en modo asíncrono para tablas con grandes conjuntos de datos después de la actualización a MariaDB 10.2.34.

<!-- MC-42531-->

* El Magento Open Source ahora elimina las etiquetas de HTML como se esperaba de la tienda **Cuenta** > **Mis pedidos** > **Ver orden** página. Anteriormente, la aplicaciónOpen Source mostraba las etiquetas de HTML en la sección de comentarios de pedidos de clientes de tienda.

<!-- MC-42377-->

* Cobertura automatizada de las pruebas para verificar la existencia de un índice para `sales_shipment_grid.order_id` se ha añadido.

<!-- MC-43163-->

* `POST V1/orders` Las llamadas a ahora actualizan los atributos de extensión sin error. Anteriormente, se producía un error de sintaxis SQL.

### Buscar {#search-heading}

<!-- MC-42799-->

* Las opciones de navegación por capas para el rango de precios ahora funcionan según lo esperado con atributos de precio personalizados. La aplicación Open Source utiliza la configuración del paso de navegación de precios al filtrar atributos de precio personalizados. Anteriormente, applicationOpen Source utilizaba la configuración de paso manual.

<!-- MC-42545-->

* La tienda ahora muestra todas las subcategorías de la categoría actual en la navegación por capas, independientemente del número de categorías disponibles en el catálogo.

<!-- MC-41706-->

* Las búsquedas en el catálogo de Elasticsearch ahora no distinguen entre diacríticos. Anteriormente, la búsqueda de términos sin acento daba como resultado resultados diferentes a los de las búsquedas del mismo término con acento.

<!-- ACP2E-8-->

* Ahora, el peso de búsqueda se establece correctamente en los atributos de SKU que contienen caracteres especiales.

<!-- ACP2E-36-->

* `category_name` se ha añadido a los códigos de atributos de producto reservados por el sistema. La aplicación de código abierto ahora muestra un error si un usuario intenta crear un atributo de producto con el código de atributo `category_name`. Anteriormente, los productos no aparecían en la categoría esperada y se registraba un error de Elasticsearch.

<!-- ACP2E-68-->

* Los términos de búsqueda populares ahora se actualizan después de cada consulta de búsqueda de GraphQL.

<!-- ACP2E-249-->

* El Magento Open Source ahora agrega campos de precio correctos a la asignación de índice de precios del Elasticsearch. Anteriormente, se agregaban campos de precio incorrectos al índice con el ID de almacén en lugar del ID de sitio web.

### Envío

<!-- MC-42758-->

* El correo electrónico de envío ahora incluye el número de seguimiento solo para el envío actual. Anteriormente, cuando un pedido incluía varios envíos, el correo electrónico de cada envío incluía los números de seguimiento de todos los envíos relacionados con el pedido.

<!-- MC-42396-->

* Ahora, el Magento Open Source actualiza el minicarro correctamente cuando un comprador elimina un producto del carro de compras mientras está en modo de envío múltiple y, a continuación, cambia a una sola dirección de envío. Anteriormente, los precios del producto no se actualizaban según lo esperado.

<!-- AC-267-->

* La importación de tasas de tabla ahora funciona según lo esperado al utilizar el adaptador de almacenamiento S3. Anteriormente, el applicationOpen Source mostraba este error: `File "https://[bucket].s3.eu-central-1.amazonaws.com/[prefix]/tmp/phpLjGmHf" not found`. [GitHub-33072](https://github.com/magento/magento2/issues/33072)

<!-- magento/magento2/pull/33232-->

* Ahora puede desactivar los correos electrónicos de actualización de envío como se espera de **Almacenes**  > **Configuración**  >  **Ventas**  >  **Correos electrónicos de ventas**. [GitHub-33165](https://github.com/magento/magento2/issues/33165)

<!-- ACP2E-31-->

* El Magento Open Source ahora muestra el coste de envío gratuito (0) en los totales de página de facturas de administración y tienda. Anteriormente, cuando el envío era cero para un pedido, la aplicación Open Source no mostraba el importe de envío en totales en el total de envío de la página de factura.

<!-- ACP2E-120-->

* Las solicitudes de tarifas a las compañías de transporte marítimo en línea se han reducido de varias solicitudes a una. El seguro de paquetes y el precio de manipulación por artículo/paquete ahora se calculan correctamente. Anteriormente, la aplicaciónOpen Source mostraba tasas de envío incorrectas para los métodos de envío de FedEx.

<!-- ACP2E-174-->

* El Magento Open Source ahora muestra las tarifas de UPS al crear etiquetas de envío para el envío desde Puerto Rico. Anteriormente, la aplicaciónOpen Source no mostraba estas tasas de UPS.

<!-- ACP2E-227-->

* La dirección de la calle de envío ahora se borra completamente según lo esperado después de eliminarla de la casilla de entrada. Anteriormente, el cuadro de texto conservaba uno o más caracteres después de eliminar la dirección.

### Tienda

<!-- MC-42884-->

* La función Iniciar sesión como cliente ahora funciona según lo esperado en implementaciones que contienen varias tiendas en distintas direcciones URL. Anteriormente, applicationOpen Source no cargaba el almacén correcto, incluso al acceder al dominio de almacén correcto.

### Impuesto

<!-- MC-41924-->

* El Magento Open Source ahora calcula correctamente el subtotal del minicarro cuando un cliente elimina un artículo después de seleccionar el envío a varias direcciones.

<!-- MC-41945-->

* El Magento Open Source ahora muestra la misma tasa de impuesto en todas las páginas de cierre de compra cuando el carro de compras contiene solo productos virtuales.

<!-- AC-714-->

* Los precios de nivel para productos configurables ahora muestran valores impositivos precisos incluidos y excluidos en la tienda. Anteriormente, se mostraban los mismos valores para los impuestos incluidos y excluidos. [GitHub-33673](https://github.com/magento/magento2/issues/33673)

### Prueba

<!-- magento/magento2/pull/34798-->

* Las pruebas de WebAPI ahora son compatibles con PHP 8.1. [GitHub-34653](https://github.com/magento/magento2/issues/34653)

<!-- magento/magento2/pull/34820-->

* Las pruebas de integración ahora son compatibles con PHP 8.1. [GitHub-34567](https://github.com/magento/magento2/issues/34567), [GitHub-34569](https://github.com/magento/magento2/issues/34569)

<!-- AC-1225-->

* Los comerciantes ahora pueden probar la experiencia del comprador del país en el que está situado el comprador, en lugar de la ubicación del comerciante.

* Se han estabilizado las pruebas funcionales para la compatibilidad con PHP 8.x. [GitHub-34327](https://github.com/magento/magento2/issues/34327), [GitHub-34188](https://github.com/magento/magento2/issues/34188)

<!-- magento/magento2/pull/34198-->

* Se han corregido problemas funcionales en las pruebas de WebAPI. [GitHub-34196](https://github.com/magento/magento2/issues/34196)

<!-- AC-1207-->

* Se han corregido errores que provocaban pruebas estáticas de falsos positivos. [GitHub-34056](https://github.com/magento/magento2/issues/34056)

<!-- magento/magento2/pull/34300-->

* La cobertura de la prueba se ha actualizado para `call_user_func_array`. [GitHub-34301](https://github.com/magento/magento2/issues/34301)

<!-- AC-1978-->

* La variable `Magento\GraphQl\CatalogGraphQl\ProductSearchTest` test ya no genera este error cuando se ejecuta con AWS Elasticsearch: `Magento\GraphQl\CatalogGraphQl\ProductSearchTest::testSearchSuggestions Failed asserting that an array is not empty. /var/www/html/dev/tests/api-functional/testsuite/Magento/GraphQl/CatalogGraphQl/ProductSearchTest.php:94 /var/www/html/dev/tests/api-functional/framework/Magento/TestFramework/TestCase/GraphQlAbstract.php:257`.

<!-- magento/magento2/pull/33699-->

* Se corrigieron numerosas advertencias de prueba de unidad no crítica al cambiar el nombre de todas las variables simuladas para incluir la variable `Mock` sufijo y eliminación de referencias a una clase de Object Manager obsoleta. [GitHub-33695](https://github.com/magento/magento2/issues/33695)

* La variable `Magento\Framework\MessageQueue\TopologyTest` la prueba ahora es compatible con AWS MQ para [!DNL RabbitMQ] servicio. Anteriormente, esta prueba producía un error con este mensaje: `Invalid exchange configuration: magento-topic-based-exchange1 Failed asserting that two arrays are equal`. <!-- AC-1248-->

<!-- magento/magento2/pull/34454-->

* Las pruebas unitarias ahora son compatibles con PHP 8.1. [GitHub-34441](https://github.com/magento/magento2/issues/34441)

#### Pruebas unitarias

Se han refactorizado las siguientes pruebas unitarias para su uso `PHPUnit` en lugar de `AspectMock`:

`AllureHelperTest` [GitHub-33294](https://github.com/magento/magento2/issues/33294)

`ObjectHandlerUtil` [GitHub-33584](https://github.com/magento/magento2/issues/33584)

`MockModuleResolverBuilder` [GitHub-33583](https://github.com/magento/magento2/issues/33583)

`MagentoTestCase`  [GitHub-33582](https://github.com/magento/magento2/issues/33582)

`ModuleResolverTest` [GitHub-33308](https://github.com/magento/magento2/issues/33308)

`ParallelGroupSorterTest` [GitHub-33306](https://github.com/magento/magento2/issues/33306)

`SuiteGeneratorTest` [GitHub-33299](https://github.com/magento/magento2/issues/33299)

`OperationDataArrayResolverTest`  [GitHub-33296](https://github.com/magento/magento2/issues/33296)

### Tema

<!-- MC-41887-->

* Los mensajes de notificación ahora se muestran correctamente cuando el Magento Open Source tiene una subruta configurada en su URL base.

<!-- MC-42469-->

* Se ha añadido un `aria-label` a la plantilla de página de tienda para indicar la página a la que navegará el comprador al hacer clic en un vínculo. Anteriormente, el mismo texto de vínculo se utilizaba para vínculos a páginas diferentes. [GitHub-33075](https://github.com/magento/magento2/issues/33075)

<!-- ACP2E-73-->

* El Magento Open Source ya no muestra un mensaje de error al cargar la página principal de un almacén con un tema personalizado preexistente. Anteriormente, applicationOpen Source mostraba este mensaje:  `The store will not work correctly in the case when cookies are disabled`.

### Traducciones y configuraciones regionales

<!-- AC-285-->

* La variable `UserExpiration` el validador ya no falla con `de_DE` y `uk_UA` configuraciones regionales. Anteriormente, el código abierto de la aplicación generaba un error cuando un administrador intentaba establecer una fecha de caducidad al crear un nuevo usuario desde el administrador con configuraciones regionales establecidas en `de_DE` o `uk_UA`. [GitHub-32497](https://github.com/magento/magento2/issues/32497)

<!-- magento/magento2/pull/33787-->

* Los nombres de regiones suizas ahora se presentan de forma coherente en inglés en los formularios de creación o edición de direcciones. [GitHub-32602](https://github.com/magento/magento2/issues/32602)

<!-- magento/magento2/pull/33128-->

* Actualizado `zip_codes.xml` patrones para que Guernsey admita los códigos postcódigos GY10 para la isla de Sark. [GitHub-33144](https://github.com/magento/magento2/issues/33144)

<!-- AC-1080-->

* Se agregaron regiones de Bielorrusia a la `directory_country_region` tabla. [GitHub-33924](https://github.com/magento/magento2/issues/33924)

<!-- AC-1178-->

* Se han resuelto las anomalías de visualización con tiendas que ejecutan las configuraciones regionales de Filipinas (Filipinas). [GitHub-33996](https://github.com/magento/magento2/issues/33996)

<!-- AC-1308-->

* Ahora puede introducir correctamente una fecha de nacimiento del cliente al crear una nueva cuenta en tiendas configuradas como una configuración regional de portugués (Portugal). Anteriormente, el Magento Open Source generaba un error al intentar crear una cuenta. [GitHub-34130](https://github.com/magento/magento2/issues/34130)

<!-- ACP2E-457-->

* La página de detalles del producto ahora se muestra correctamente con la configuración regional en árabe (Arabia Saudita). Anteriormente, esta configuración regional dañaba la página de detalles del producto.

### IU

<!-- AC-258-->

* Se corrigieron errores con pruebas de MFTF que utilizan `maps.googleapis.com`.

<!-- MC-41850-->

* Ahora, el Magento Open Source recorta los caracteres de espacio de no separación del campo de entrada de correo electrónico del formulario Contacto. Anteriormente, el formulario se enviaba sin eliminar los caracteres de espacio de no separación de la entrada de correo electrónico (si se daba), lo que provocaba errores en los archivos de registro. La variable **Responder** también faltaba en el mensaje de correo electrónico de contacto generado al administrador de la tienda.

<!-- MC-42793-->

* Ahora, el Magento Open Source muestra productos relacionados, productos de aumento de ventas y productos de venta cruzada según su posición en el Administrador.

<!-- MC-42502-->

* `.action-close` los botones ahora funcionan como se espera `Multiselect` se utiliza en un modal. Anteriormente, la variable `action-close` no funcionaba porque heredaba el CSS del  `.action-close` del modal. [GitHub-27240](https://github.com/magento/magento2/issues/27240)

<!-- AC-1217-->

* El fragmento enriquecido Ofertas ahora está presente en el campo de precio principal de la vista Producto. Anteriormente, este fragmento faltaba en este campo en el bloque de productos relacionados en la vista de productos, lo que provocaba que los resultados de búsqueda de Google mostraran precios incorrectos. [GitHub-34063](https://github.com/magento/magento2/issues/34063)

<!-- AC-1584-->

* Se han resuelto los problemas con la altura modal en los dispositivos que ejecutan iOS. [GitHub-34467](https://github.com/magento/magento2/issues/34467)

<!-- MC-40106-->

* Los menús desplegables de Acciones ahora están posicionados correctamente en toda la tienda. [GitHub-31379](https://github.com/magento/magento2/issues/31379)

<!-- AC-1589-->

* Se han resuelto los errores de accesibilidad con la navegación en las páginas de carro y cierre de compra. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Los lectores de pantalla ahora pueden leer todos los elementos de formulario relevantes en las páginas de producto.

<!-- AC-872-->

* Ordenador del widget de producto del catálogo de tiendas (**Catálogo** > **Categoría** > **Productos**) ahora coincide con el orden configurado en el Administrador. [GitHub-27126](https://github.com/magento/magento2/issues/27126)

<!-- AC-725-->

* El selector de región ahora funciona según lo esperado en la página Crear una cuenta . [GitHub-30099](https://github.com/magento/magento2/issues/30099)

<!-- MC-42750-->

* La cuadrícula del cliente administrador ahora muestra todos los datos del cliente, incluidos los recién agregados `date` atributos personalizados, según lo esperado. Anteriormente, el código de fuente abierto de la aplicación generaba un error y no mostraba correctamente la cuadrícula del cliente administrador cuando la variable `date` conjunto de atributos se ha definido como una columna.

<!-- AC-1280-->

* Etiquetas de entrada en la variable **Catálogo**  >  **Product** la página de detalles se ha cambiado para reflejar con precisión el propósito de la entrada. Los campos para los que no es necesario introducir datos por parte del usuario ya no muestran las etiquetas con un asterisco.

<!-- AC-1275-->

* Ahora se puede acceder a la barra de herramientas del editor de texto enriquecido mediante la tecla Tab.

<!-- AC-1284-->

* El nombre accesible del control ahora incluye el texto de su etiqueta visible para el número de elementos por menú desplegable de página.

<!-- AC-1287-->

* La tabla controla el **Catálogo** > **Product** la página de detalles ahora tiene etiquetas visibles y un nombre accesible cuando se contrae la tabla.

<!-- AC-1285-->

* Los botones de toda la tienda ahora tienen nombres accesibles descriptivos y únicos. Anteriormente, los botones divididos con un botón de texto y un botón de flecha abajo adyacente tenían el mismo nombre accesible.

<!-- AC-1168-->

* Se ha añadido un **Hoy** consulte los gráficos de tableros Pedidos de administración e Importes para obtener un resumen de las ventas y pedidos durante el día. [GitHub-34008](https://github.com/magento/magento2/issues/34008)

<!-- AC-1481-->

* Estado activo (clic) de la selección múltiple **Cerrar** ahora funciona de forma consistente. [GitHub-34338](https://github.com/magento/magento2/issues/34338)

<!-- magento/magento2/pull/31879-->

* El Magento Open Source ya no muestra este mensaje después de la actualización cuando el modo de restricción de cookies está desactivado: `The store will not work correctly in the case when cookies are disabled`. [GitHub-33811](https://github.com/magento/magento2/issues/33811)

<!-- ACP2E-7-->

* Las imágenes de producto de pantalla completa ahora se muestran correctamente en temas con dirección de navegación en miniatura vertical en dispositivos móviles. Anteriormente, las imágenes de producto se escalaban incorrectamente o eran invisibles en temas con dirección de navegación en miniatura vertical en dispositivos móviles en modo de pantalla completa.

<!-- ACP2E-23-->

* Los mensajes de error de la página de detalles del producto ya no desaparecen rápidamente cuando **Sincronizar productos de utilidades con almacenamiento back-end** está habilitado.

<!-- ACP2E-70-->

* Se ha añadido la validación de valores negativos a la variable **Cantidad a devolver** en el formulario Crear nuevo formulario de devolución .

<!-- ACP2E-105-->

* El Magento Open Source ya no muestra direcciones duplicadas cuando un comprador hace clic en **Cambiar dirección** en la página Revisión y pagos de una implementación en la que **Búsqueda de direcciones** está habilitado.

<!-- ACP2E-136-->

* La variable **Agregar productos** ahora está habilitado como se espera para administradores con permisos restringidos mientras trabajan en el ámbito de vista de tienda en la página Categoría de administración .

<!-- ACP2E-169-->

* La visualización de puntos de interrupción ahora es coherente en todo el Magento Open Source.

<!-- ACP2E-199-->

* El Magento Open Source ahora muestra correctamente los atributos de fecha de cliente personalizados con las configuraciones regionales personalizadas en la página del cliente de administración.

<!-- MC-41760-->

* Las imágenes agregadas mediante el Generador de páginas ya no se duplican en la tienda cuando se muestran con una anchura de ventana del explorador de 768 píxeles. Anteriormente, con el ancho de la ventana del explorador, la aplicación Open Source duplicaba imágenes en la tienda mostrando la versión de las imágenes tanto para móviles como para escritorio.

### Reescrituras de URL

<!-- AC-1510-->

* Las reescrituras de URL ya no se regeneran para todas las vistas de tienda durante la creación de una nueva vista de tienda al ejecutar `bin/magento setup:upgrade`. [GitHub-32954](https://github.com/magento/magento2/issues/32954)

### Marco de API web

<!-- MC-42008-->

* Las solicitudes de API web para recursos de clientes autoautorizados ya no generan errores de autorización cuando el carro de compras persistente está habilitado.

<!-- MC-42313-->

* Ahora puede crear objetos utilizando las clases secundarias de `\Magento\Framework\Api\AbstractSimpleObjectBuilder` en PHP 7.3. Anteriormente, `preg_match` se lanzó este mensaje de advertencia cuando el Magento Open Source estaba alojado en Redhat con PHP 7.3: `Warning: preg_match(): Compilation failed: unrecognized character follows...`.

<!-- MC-24548-->

* Los totales recuperados por el `PUT /V1/guest-carts/:cartId/collect-totals` la solicitud de ahora se actualiza con el `shippingMethod`. [GitHub-18508](https://github.com/magento/magento2/issues/18508)

<!-- MC-30627 AC-796-->

* Al agregar un nuevo deserializador a la API de REST, ya no se eliminan otros deserializadores. Anteriormente, la API de REST aceptaba un nuevo tipo de contenido, pero los tipos de contenido definidos por CORE para las API ya no funcionaban y devolvían un error 400. [GitHub-26433](https://github.com/magento/magento2/issues/26433)

<!-- AC-698-->

* Ahora puede eliminar una anulación de un parámetro definido en una `webapi.xml`archivo. [GitHub-33843](https://github.com/magento/magento2/issues/33843)

<!-- AC-1212-->

* El Magento Open Source ahora genera un `customertoken` por las solicitudes de API de GraphQL o REST tal como se espera después de varios intentos consecutivos de inicio de sesión fallidos. Anteriormente, applicationOpen Source no comprobaba si el valor de `lock_expires_at` en `oauth_token_request_log` era bueno a la fecha y hora actuales y siempre devolvía el número de intentos fallidos, lo que impedía que el cliente iniciara sesión. [GitHub-34067](https://github.com/magento/magento2/issues/34067)

<!-- AC-1190-->

* Adición de un ID de cotización enmascarado a `QuoteRepository::getList` ya no provoca un bucle infinito. Anteriormente, el uso del procesador de pagos que dependía de la API de REST para actualizar pedidos activaba este comportamiento. [GitHub-33675](https://github.com/magento/magento2/issues/33675)

<!-- MC-41612-->

* La variable `/rest/all/V1/categories/<above_created_category_id>`  La llamada del PUT ahora respeta los valores especificados por `available_sort_by`.  Anteriormente, el menú desplegable Ordenar por de la lista de productos disponible se seleccionaba con todas las opciones posibles en la página Categoría y la opción **Usar todo** la casilla de verificación estaba seleccionada. [GitHub-32596](https://github.com/magento/magento2/issues/32596)

<!-- ACP2E-11-->

* Se ha mejorado el rendimiento de las solicitudes de API de REST para crear tokens de cliente.

<!-- ACP2E-91-->

* Se ha corregido un error que se producía al **Agregar código de tienda a direcciones URL** está configurado como **Sí** y una llamada REST no incluía código de tienda. Aunque la carga útil era válida, la llamada devolvía el siguiente error: `Fatal error: Allowed memory size of ********** bytes exhausted (tried to allocate **** bytes) in vendor/magento/module-store/Model/StoreRepository.php on line 75`.

<!-- ACP2E-153-->

* Ahora se pueden crear facturas parciales para el mismo pedido simultáneamente mediante la API de REST.

### Lista de deseos

<!-- MC-41880-->

* El Magento Open Source ya no procesa una lista de deseos en la barra lateral de la categoría cuando la variable **Mostrar en barra lateral** la opción lista de deseos está desactivada. Anteriormente, applicationOpen Source ignoraba esta opción.

### WYSIWYG

<!-- ACP2E-17-->

* Ahora, PageBuilder representa correctamente las utilidades personalizadas con el editor WYSIWYG.

## Problemas conocidos

**Problema**: Los comerciantes pueden notar avisos de reducción de categoría de la versión del paquete durante la actualización de Adobe Commerce 2.4.4 a Adobe Commerce 2.4.4-p1. Estos mensajes se pueden ignorar. La discrepancia en las versiones del paquete se debe a anomalías durante la generación del paquete. No se ha visto afectada la funcionalidad del producto. Consulte la [Paquetes degradados después de actualizar de 2.4.4 a 2.4.4-p1](https://support.magento.com/hc/en-us/articles/8214752983949)  Artículo de la Base de conocimientos para debatir sobre escenarios y soluciones afectados.

**Problema**: Los compradores no pueden agregar un producto al carro cuando no hay opciones seleccionadas en Administración **Tienda** >  **Configuración** > **General** > **Opciones de país** > **Permitir países**. En su lugar, la aplicación Open Source muestra este siguiente error de consola: `Failed to load resource: the server responded with a status of 400 (Bad Request)`. <!-- AC-2564-->

**Problema**: La descripción de Dotdigital en **Buscar socios y extensiones** > **Magento Marketplace** está obsoleto. Esta es una descripción actualizada:

Dotdigital es una plataforma de participación del cliente que ayuda a los especialistas en marketing digital y a los desarrolladores a enviar comunicaciones a través del recorrido del cliente. Aprovechamos el poder de los datos de los clientes, lo que potencia la participación, la conversión y la lealtad de las marcas a medida que crecen y se escalan. A los clientes les encanta nuestra plataforma fácil de usar que conecta datos de origen en todos los sistemas, que proporciona perspectivas poderosas y automatiza los mensajes predictivos entre canales.

Los más de 350 empleados de Dotdigital sirven a empresas del mercado medio y empresariales en todo el mundo y en todas las industrias. Aspiramos a inspirar un marketing responsable y estamos comprometidos con la sostenibilidad, la privacidad y la seguridad. Dotdigital se enorgullece de ser la primera plataforma de automatización de marketing neutral de carbono del mundo, certificada para ISO 14001, ISO 27701 e ISO 27001.

Consulte [Dotdigital: Automatización de marketing](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html) para obtener información de compra y descarga.

## Contribuciones comunitarias

Damos las gracias a la comunidad de Magento Open Source en general y quisiéramos agradecer su contribución a esta versión.

El equipo de ingeniería de la comunidad [Colaboradores Magento](https://magento.com/magento-contributors) mantiene una lista de los principales colaboradores individuales y socios por mes, trimestre y año. Desde esa página de colaboradores, puede seguir los vínculos a sus relaciones públicas combinadas en GitHub.

### Contribuciones de socios

En el siguiente cuadro se destacan las contribuciones realizadas por los Asociados. En esta tabla se muestra el Partner que contribuyó a la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-4-partner.md}}

### Contribuciones de colaborador individual

La siguiente tabla identifica las contribuciones de los miembros de nuestra comunidad. En esta tabla se muestra el miembro de la comunidad que contribuyó a la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-4-issues.md}}

### Requisitos del sistema

Nuestra pila de tecnología está construida en PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](../../../installation/system-requirements.md).

### Instrucciones de instalación y actualización

Puede instalar el Magento Open Source 2.4.4 mediante [Compositor](../../../installation/composer.md).

## Juegos de herramientas de migración

La herramienta de migración de datos ayuda a transferir los datos de almacenamiento de Magento 1.x existentes a Magento 2.x. Esta interfaz de línea de comandos incluye funciones de verificación, seguimiento del progreso, registro y prueba. Para obtener instrucciones de instalación, consulte [Instalación de la herramienta de migración de datos](../../../tools/data-migration-tool/install.md). Considere la posibilidad de explorar o contribuir a la [Repositorio de migración de datos](https://github.com/magento/data-migration-tool).

La variable [Kit de herramientas de migración de código](https://github.com/magento-commerce/code-migration) ayuda a transferir las extensiones y personalizaciones de almacenamiento de Magento 1.x existentes a Magento 2.x. La interfaz de la línea de comandos incluye secuencias de comandos para convertir módulos y diseños de Magento 1.x.
