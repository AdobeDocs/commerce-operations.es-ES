---
title: Notas de la versión de Magento Open Source 2.4.0
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión de Magento Open Source 2.4.5.
recommendations: noCatalog
exl-id: 058f9dfe-7b03-405b-96cc-3904c910e0f6
source-git-commit: 987d65b52437fbd21f41600bb5741b3cc43d01f3
workflow-type: tm+mt
source-wordcount: '17553'
ht-degree: 0%

---

# Notas de la versión de Magento Open Source 2.4.0

Magento Open Source 2.4.0 presenta soporte para PHP 7.4, Elasticsearch 7.6.x y MySQL 8.0. Los cambios sustanciales en la seguridad incluyen la habilitación de la autenticación de doble factor en el Administrador de forma predeterminada.

**Con esta versión, la integración del método Authorize.Net se ha eliminado del código principal. Los comerciantes deben migrar a la extensión oficial disponible en el Commerce Marketplace**.

>[!NOTE]
>
>**integración de pagos de Braintree**: antes de la versión 2.4.0, se recomendaba que los comerciantes instalaran y configuraran la extensión oficial de integración de pagos de Braintree del Commerce Marketplace para reemplazar la integración principal. Con esta versión (2.4.0), la extensión se incluye ahora en la versión. Los comerciantes deben seguir pasos adicionales para asegurarse de que Braintree funciona correctamente en una implementación de 2.4.0. Consulte [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree) para obtener más información sobre cómo migrar a 2.4.0.

Esta versión incluye todas las mejoras en la calidad principal incluidas en la versión 2.3.5-p1, más de 100 nuevas correcciones en el código principal y 30 mejoras de seguridad. Incluye la resolución de 226 problemas de GitHub por parte de los miembros de nuestra comunidad. Estas contribuciones de la comunidad van desde una limpieza menor del código principal hasta mejoras significativas en Inventory management y GraphQL.

>[!NOTE]
>
>Las versiones menores ofrecen mejoras sustanciales en el código. Antes de actualizar a la versión 2.4.0, confirme que su entorno cumple los [requisitos técnicos de la pila](../../../installation/system-requirements.md).

{{bics}}

>[!NOTE]
>
>Los nombres de paquete de las versiones de seguridad suelen adjuntarse con -p1. Sin embargo, no pudimos evitar desviarnos de estas convenciones de nomenclatura con 2.3.5, lo que a su vez ha tenido un efecto dominó temporal en los nombres de paquetes de seguridad subsiguientes. En concreto, la versión 2.3.5 con todas las funciones es 2.3.5-p1. La versión de seguridad que lanzaremos cuando GA 2.4.0 sea 2.3.5-p2. Esperamos volver a las convenciones de nomenclatura habituales en futuras versiones.

## Aplicar `AC-3022.patch` para seguir ofreciendo DHL como transportista

DHL ha introducido la versión de esquema 6.2 y dejará de utilizar la versión de esquema 6.0 en un futuro próximo. Adobe Commerce 2.4.4 y las versiones anteriores compatibles con la integración de DHL solo admiten la versión 6.0. Los comerciantes que implementen estas versiones deben aplicar `AC-3022.patch` lo antes posible para seguir ofreciendo DHL como transportista. Consulte el artículo de la base de conocimiento [Aplicar un parche para seguir ofreciendo DHL como transportista](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) para obtener información sobre cómo descargar e instalar el parche.

## Parche de seguridad disponible

Los comerciantes ahora pueden instalar correcciones de seguridad urgentes sin aplicar los cientos de correcciones y mejoras funcionales que ofrece una versión trimestral completa (por ejemplo, 2.3.5-p2). El parche 2.3.5.2 (Composer package 2.3.5-p2) es un parche de seguridad que proporciona correcciones para vulnerabilidades que se han identificado en nuestra versión trimestral anterior, 2.3.5-p1. Todas las correcciones rápidas aplicadas a la versión 2.3.5 se incluyen en este parche de seguridad. (Una *corrección rápida* proporciona una corrección de una versión publicada que soluciona un problema o error específico).

Para obtener información general acerca de los parches de seguridad, consulte [Presentación de la nueva versión de parches de seguridad](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). Para obtener instrucciones sobre cómo descargar y aplicar parches de seguridad (incluido el parche 2.3.5-p2), consulte [Inicio rápido de la instalación local](../../../installation/composer.md). Los parches de seguridad solo incluyen correcciones de errores de seguridad, no las mejoras de seguridad adicionales que se incluyen en el parche completo.

## Otra información de la versión

Aunque el código de estas funciones está empaquetado con versiones trimestrales , varios de estos proyectos (por ejemplo, Inventory management y Progressive Web Application (PWA) Studio) también se publican de forma independiente. Las correcciones de errores para estos proyectos se documentan en la información de versión independiente y específica del proyecto que está disponible en la documentación de cada proyecto.

## Características destacadas

Busque los siguientes aspectos destacados en esta versión:

### Mejoras sustanciales de seguridad

Esta versión incluye más de 30 correcciones de seguridad y mejoras de seguridad de la plataforma.

#### Más de 30 mejoras de seguridad que ayudan a cerrar las vulnerabilidades de ejecución de código remoto (RCE) y ejecución de scripts en sitios múltiples (XSS)

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, es posible que se aprovechen ciertas vulnerabilidades para acceder a la información de los clientes o hacerse cargo de las sesiones de administrador. La mayoría de estos problemas requieren que un atacante obtenga acceso primero al administrador. Como resultado, le recordamos que tome todas las medidas necesarias para proteger a su administrador, entre las que se incluyen, entre otras, las siguientes: inclusión en la lista de permitidos de IP, [autenticación de doble factor](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), uso de una VPN, uso de una ubicación única en lugar de `/admin` y buena higiene de la contraseña. Consulte [Actualizaciones de seguridad disponibles para el Magento](https://helpx.adobe.com/security/products/magento/apsb20-47.html) para ver una discusión de estos problemas corregidos. para una discusión de estos problemas fijos.

#### Mejoras de seguridad adicionales

* **Implementación de 2FA para cuentas de administrador, cuentas de usuario de magento.com y acceso a Cloud SSH**

   * **Protegiendo su cuenta de administrador**. Ahora se requiere autenticación de doble factor (2FA) para el administrador. Los usuarios administradores deben configurar primero su 2FA antes de iniciar sesión en el administrador a través de la interfaz de usuario o una API web. 2FA está habilitado de forma predeterminada. Se recomienda encarecidamente no deshabilitar el módulo 2FA.  Este paso adicional de autenticación dificulta que los usuarios malintencionados inicien sesión en el administrador sin autorización. Ver [Autenticación de doble factor (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/). <!-- MC-22631-->

   * **Protegiendo su cuenta**. La autenticación de doble factor (2FA) proporciona un nivel de seguridad adicional y opcional para proteger mejor su cuenta de magento.com de usuarios no autorizados que podrían querer usar su cuenta de formas que usted no desea. Ver [Proteger tu cuenta](https://experienceleague.adobe.com/en/docs/commerce-admin/start/commerce-account/commerce-account-secure).

* **Protección del acceso SSH en la nube**. El Adobe en la infraestructura en la nube proporciona aplicación de autenticación de varios factores (MFA) para administrar los requisitos de autenticación para el acceso SSH a los entornos en la nube. La autenticación de varios factores para 2FA no está habilitada de manera predeterminada en un proyecto.  El Adobe recomienda habilitar esta función. Póngase en contacto con Soporte técnico para obtener ayuda. Consulte [Habilitar la autenticación multifactor para el acceso SSH](https://experienceleague.adobe.com/en/docs/commerce-cloud-service/user-guide/project/multi-factor-authentication).

* **El modo estricto de filtro de plantilla ahora está habilitado de manera predeterminada**. Los componentes (incluidas las páginas y los bloques de CMS) que utilizan el filtro de plantilla en el modo heredado pueden ser vulnerables a la ejecución remota de código (RCE). Habilitar el modo estricto de forma predeterminada garantiza que los ataques RCE no se puedan habilitar deliberadamente. <!-- MC-22982-->

* **La representación de datos para los proveedores de datos de la interfaz de usuario está deshabilitada de manera predeterminada**. Esto elimina la oportunidad de que usuarios malintencionados ejecuten JavaScript arbitrario. <!-- MC-17356-->

* **Nueva `\Magento\Framework\Escaper` clase**. Esta clase se proporciona para `.phtml` plantillas y las clases PHP responsables de generar el HTML. Esta clase contiene métodos de saneamiento de HTML relevantes para varios contextos. La variable local `$escaper` está disponible dentro de `.phtml` plantillas y se debe usar en lugar de la variable obsoleta `$block->escape{method}`. Use `$escaper` en lugar de `$block`, ya que el uso de `$block->escape{method}` ha quedado obsoleto.

* **Compatibilidad con el nuevo archivo security.txt**. Este archivo es un archivo estándar del sector en el servidor que ayuda a los investigadores de seguridad a informar de posibles problemas de seguridad a los administradores del sitio.

* **Mejoras en la compatibilidad con la Política de seguridad de contenido (CSP)**. `SecureHtmlRenderer` se ha agregado al marco de trabajo y está disponible en `.phtml` plantillas para incluir en la lista blanca etiquetas `style` y `script` en línea. Los scripts y estilos en línea no están permitidos con la configuración CSP predeterminada, que los archivos XML pueden anular. <!-- MC-34433-->

{{cve-notice}}

### Actualizaciones de plataforma

Las siguientes actualizaciones de la plataforma ayudan a mejorar la seguridad y el rendimiento del sitio web. Las versiones compatibles de PHP y PHPUnit, Elasticsearch, MySQL y otras dependencias se enumeran en [requisitos de pila tecnológica](../../../installation/system-requirements.md).

* **Se introdujo compatibilidad con PHP 7.4 y PHP 7.1 y 7.2 quedaron obsoletas**. 2.4.0 incorpora soporte para PHP 7.4.

* **Compatibilidad con PHPUnit 9.x y desaprobación de PHPUnit 6.5**. PHP 7.4 requiere el uso del último marco de pruebas PHPUnit, que es PHPUnit 9.x. Los proveedores de extensiones de Commerce Marketplace deben confirmar que todas las nuevas versiones de extensión son compatibles con PHP 7.4 y que todas las pruebas de unidad e integración se han configurado para ejecutarse con PHPUnit 9.

* **Compatibilidad con Elasticsearch 7.6.x**. Elasticsearch 7.6.x es ahora el motor de búsqueda de catálogo predeterminado para Adobe Commerce y Adobe Commerce. No puede instalar ni actualizar a la versión 2.4.0 sin instalar también Elasticsearch 7.6.x. Se ha eliminado el código de la versión 2.x del Elasticsearch. Las versiones 5.x y 6.x de Elasticsearch han quedado obsoletas y ya no son compatibles. Consulte [Requisitos previos del motor de búsqueda](../../../installation/prerequisites/search-engine/overview.md).

* **Compatibilidad con MySQL 8.0**. La versión 2.4.x es compatible con MySQL 8.x. (La versión 2.4.0 se ha probado con MySQL 8.0.20). Se recomienda a los comerciantes migrar sus implementaciones a MySQL 8.x para aprovechar su rendimiento, seguridad y fiabilidad mejorados. Aunque MySQL 5.7 sigue siendo compatible con el Magento 2.4.x, MySQL 5.6 ya no es compatible. No se puede alojar 2.4.x con una base de datos MySQL 5.6. Consulte [MySQL](../../../installation/prerequisites/database/mysql.md).

* **Eliminación del motor de búsqueda del catálogo MySQL**. El motor de búsqueda MySQL se ha eliminado de la versión 2.4.0 y se ha sustituido por Elasticsearch como motor de búsqueda predeterminado. Elasticsearch ofrece funciones de búsqueda superiores, así como optimizaciones del rendimiento del catálogo.  Todos los comerciantes deben tener un Elasticsearch para instalar e implementar la versión 2.4.0. Consulte [Comprobar que el Elasticsearch está instalado](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **Compatibilidad con MariaDB 10.4**. El soporte para MySQL 8.0 ofrece a los comerciantes la oportunidad de implementar MariaDB 10.4 con Magento Open Source. Aunque los comerciantes aún pueden utilizar MariaDB 10.2 con 2.4.0, recomendamos actualizar a MariaDB 10.4 para mejorar el rendimiento y la fiabilidad. MariaDB 10.0 y 10.1 ya no son compatibles (como resultado de la eliminación de la compatibilidad con MySQL 5.6 en esta versión).

* **Migración de dependencias de Zend Framework al [proyecto Laminas](https://getlaminas.org/about/foundation)** para reflejar la transición de Zend Framework al proyecto Laminas de la Fundación Linux. Zend Framework ha quedado obsoleto. Ver la [migración de Zend Framework al proyecto Laminas](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) publicación DevBlog.

* La **descomposición de controladores** permite a los desarrolladores de extensiones implementar ActionInterface directamente sin clases de &quot;supertipo de capa&quot;. Ver la publicación de DevBlog [Descomposición de controladores](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883). _Mejora iniciada por Vinai Kopp en la solicitud de extracción [16268](https://github.com/magento/magento2/pull/16268) y finalizada por Lukasz Bajsarowicz en la solicitud de extracción [26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **Eliminación de la integración principal del código de protección contra fraude Signifyd**. Esta función principal ya no es compatible. Los comerciantes deberían migrar a la extensión [Signifyd Fraud &amp; Chargeback Protection](https://marketplace.magento.com/signifyd-module-connect.html) que está disponible en el Commerce Marketplace.

* El módulo del Braintree principal **se ha eliminado de la base de código**. El módulo Pagos a Braintree ahora proporciona el mismo conjunto de funciones. Ver [Pagos de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

* El explorador Internet Explorer 11.x ya no es compatible.

### Mejoras de infraestructura

Esta versión contiene mejoras en la calidad principal, que mejoran la calidad del marco de trabajo y estos módulos: Cuenta de cliente, Catálogo, CMS, Importación, Carro y cierre de compra, y B2B.

* **Eliminación de la integración principal de los métodos de pago de terceros**. Con esta versión, la integración del método de pago Authorize.Net se ha eliminado del código principal. Los comerciantes deben migrar a la extensión oficial que está disponible en el Commerce Marketplace. Ver la publicación de devblog [Deprecation of payment integrations](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445). <!-- MC-29029-->

* **Compatibilidad con la búsqueda de palabras parciales para el Elasticsearch (nuevo motor de búsqueda predeterminado)**. El Elasticsearch ahora admite el uso de palabras parciales en los términos de búsqueda para nombres de productos y SKU al utilizar la búsqueda rápida. Esta capacidad era compatible con el motor de búsqueda MySQL, que ha quedado obsoleto y sustituido por Elasticsearch en esta versión.

* **Actualización del SDK de JavaScript de PayPal**. Hemos migrado la integración de Pago y envío de PayPal Express al SDK de JavaScript de PayPal más reciente, un SDK que recopila y pasa automáticamente a PayPal los parámetros de riesgo necesarios. El comportamiento de la forma de pago PayPal Express Checkout permanece inalterado. Sin embargo, la actualización de este SDK a la versión más reciente permite a los comerciantes acceder a las últimas funciones y mejoras de seguridad. <!-- MC-30962-->

* **Desaprobación y eliminación del Asistente para configuración web**. Debe utilizar la línea de comandos para instalar o actualizar la versión 2.4.0. Consulte [Magento de instalación](../../../installation/advanced.md).

* **Complemento de actualización del compositor**. El complemento Composer optimiza el proceso de actualización al resolver los cambios que deben realizarse en el archivo del proyecto raíz `composer.json` antes de actualizar a una nueva versión. Este complemento protege contra la sobrescritura de las personalizaciones. Consulte [Actualizar mediante el complemento raíz del compositor](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **Compras asistidas por el vendedor**. Esta función permite a los comerciantes ver la tienda en nombre de sus clientes. Los clientes optan por permitir el acceso de tienda a sus cuentas. Esta característica desarrollada por la comunidad incluye una extensión original desarrollada por [MAGEFAN](https://magefan.com/). Ver [Compras asistidas por el vendedor](https://experienceleague.adobe.com/en/docs/commerce-admin/config/customers/login-as-customer). Las funciones incluyen:

   * ACL para controlar qué administradores pueden iniciar sesión en las cuentas de cliente se pueden configurar por sitio web
   * Compatibilidad con varios sitios web y ámbitos de cuenta de cliente
   * Los pedidos realizados en nombre de los clientes se registran en la tienda y en el administrador
   * Todas las sesiones se destruyen tras el cierre de sesión del administrador y los administradores no pueden acceder a las contraseñas de los clientes.

### Mejoras de rendimiento

* **Mejoras en la lógica de invalidación de la sección de datos del cliente**. Esta versión presenta una nueva forma de invalidar todos los datos de secciones de clientes que evita un problema conocido con el almacenamiento local cuando las invalidaciones de `sections.xml` personalizadas están activas.  (Anteriormente, el contenido privado (almacenamiento local) no se rellenaba correctamente cuando tenía un *etc/frontend/sections.xml* personalizado con invalidaciones de acción). Ver [contenido privado](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

* **Varias optimizaciones para mejorar el rendimiento**. Las mejoras minimizan el número de consultas a Redis que se realizan en cada solicitud. Estas optimizaciones incluyen:

   * Reducción del tamaño de las transferencias de datos de red entre Redis y Magento

   * Reducción del consumo de ciclos de CPU de Redis al mejorar la capacidad del adaptador para determinar automáticamente lo que debe cargarse

   * Reducción de las condiciones de carrera en las operaciones de escritura de Redis

  Consulte [Usar Redis para la página y la caché predeterminada](../../../configuration/cache/redis-pg-cache.md) y [Configurar el almacenamiento en caché](../../../configuration/cache/caching-overview.md).

* **Se mejoró el almacenamiento en caché de los resultados de las consultas SQL en las tablas de inventario**. Estas mejoras incluyen:

   * Almacenamiento en caché de consultas SQL en la tabla `inventory_stock_sales_channel` (1 consulta en lugar de 16)

   * Almacenamiento en caché del resultado de las consultas en la tabla `inventory_stock` (1 consulta en lugar de 16)

* **Mejora de hasta un 25 a un 30% en el rendimiento del complemento de pedidos rápidos**.

* Los comerciantes ahora pueden usar [carga diferida](https://en.wikipedia.org/wiki/Lazy_loading) para cargar imágenes.

### Integración de Adobe Stock v2.0

**Capacidad de obtener licencias de vistas previas de imágenes de archivo de la Galería multimedia**. Los comerciantes ahora pueden encontrar cualquier imagen de vista previa de Adobe Stock en la Galería de medios, lo que reduce el número de pasos necesarios para obtener una licencia de la imagen de vista previa de stock.

### Galería de medios nuevos

Este reemplazo de la antigua Galería multimedia ofrece una nueva interfaz en la que se pueden realizar búsquedas de recursos multimedia. Los administradores ahora pueden buscar, filtrar y ordenar imágenes hasta 30 veces más rápido de lo que lo podían hacer en la versión anterior de esta función. Los comerciantes pueden utilizar esta herramienta para evaluar el uso de imágenes de tienda. Los desarrolladores de extensiones deben tener en cuenta que las extensiones desarrolladas para Media Gallery no funcionarán como se espera con la nueva Media Gallery.

### Inventory management

Las mejoras de Inventory management para esta versión incluyen compatibilidad con la recogida en tienda y con el paquete de soporte de productos. Consulte [Notas de la versión de Inventory management](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) para obtener un análisis más detallado de las correcciones de errores recientes de Inventory management.

### GraphQL

Las mejoras de GraphQL incluyen:

* La consulta `pickupLocations` admite la función de recogida en tienda de inventario
* `categories` consulta devuelve una lista de categorías que coinciden con un filtro especificado. Esta consulta difiere de la consulta `categoryList` en que admite paginación.
* La mutación `reorderItems` permite que un usuario que ha iniciado sesión añada todos los productos de un pedido anterior al carro de compras.

Consulte la [Guía para desarrolladores de GraphQL](https://developer.adobe.com/commerce/webapi/graphql/) para obtener más información sobre esta y otras mejoras. Consulte [Notas de la versión](https://developer.adobe.com/commerce/webapi/graphql/release-notes.html) para obtener un análisis detallado de las correcciones de errores recientes de GraphQL.

### PWA Studio

Consulte [compatibilidad](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de versiones de PWA Studio y sus versiones compatibles. Para obtener información acerca de mejoras y correcciones de errores, consulte [Versiones de PWA Studio](https://github.com/magento/pwa-studio/releases).

### Marco de prueba funcional (MFTF)

MFTF v3.0.0 incluye estas nuevas características e incluye soporte para PHP 7.4 y PHPUnit 9:

* Ayudantes MFTF, que pueden crear acciones personalizadas fuera del marco de prueba
* actualizaciones de esquema para entidades de prueba
* subcarpetas en módulos de prueba
* sintaxis de afirmación anidada
* comprobación estática que comprueba e informa de referencias a entidades de prueba obsoletas

Esta versión también elimina las acciones obsoletas y actualiza los scripts que se añadieron a las pruebas de actualización a los requisitos de versión principales de MFTF.

### Mejoras en las extensiones desarrolladas por el proveedor

Esta versión de incluye extensiones desarrolladas por proveedores externos. Introduce mejoras tanto de calidad como de experiencia de usuario en estas extensiones y una expansión de la cobertura de MFTF.

Los proveedores de extensiones de Commerce Marketplace deben confirmar que sus extensiones son compatibles con PHP 7.4 al publicar una nueva versión de su extensión para 2.4.0.

#### Amazon Pay

Esta versión incluye:

* Actualizaciones en listas de permitidos CSP
* Capacidad para realizar varias autorizaciones para un pedido de varios artículos
* Compatibilidad con direcciones en japonés

#### Pagos de Braintree

Esta extensión sustituye a la integración principal de Braintree. Proporciona las mismas funciones que la integración principal de Braintree. Ver [Pagos de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

#### Klarna

Esta versión incluye nuevas opciones de mensajería en el sitio para ayudar a los compradores a comprender las opciones de crédito y financiación disponibles. También incluye mejoras en lo siguiente:

* devoluciones
* Eficiencia de API
* cookies y pruebas unitarias
* descuentos
* Las opciones de configuración ahora contienen la sección Mensajería en el sitio para el control de la visualización de la tienda de mensajes promocionales de Klarna

#### Vértice

Esta versión de Vertex incluye las siguientes nuevas funciones y mejoras:

* Mejoras en la experiencia del usuario de configuración de administración
* Reemplazo de scripts de instalación y actualización con archivos y parches de esquema XML
* Eliminación de código obsoleto (`ApiClient` y `ClientInterface`)

#### Yotpo

Las valoraciones y críticas de Yotpo están integradas con Page Builder.

## Problemas solucionados

Hemos corregido cientos de problemas en el código principal 2.4.0.

### Instalación, actualización e implementación

<!-- MC-23940-->

* Ahora puede quitar correctamente un sitio web junto con las opciones de configuración específicas del ámbito del sitio web en `app/etc/config.php` según lo esperado. Anteriormente, al intentar quitar el sitio web, se produjo un error en la operación y la aplicación mostró este error: `The website with code xxx that was requested wasn't found. Verify the website and try again`. Además, la aplicación mostró este error en la tienda: `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* Las opciones de configuración que están deshabilitadas en `index.php` ya no se pueden editar desde el Administrador.

<!-- MC-32405-->

La instalación del Magento Open Source ahora se completa correctamente y las tiendas se crean según lo esperado, cuando la configuración de la tienda está predefinida en `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` se ha refactorizado para reducir el número de `SHOW TABLE STATUS` consultas que realiza. (Este cambio revierte al comportamiento de esta función mostrado en 2.3.3.)

<!-- MC-23890-->

* Los scripts de datos ya no se vuelven a ejecutar cuando intenta actualizar la base de datos ejecutando `bin/magento setup:upgrade`. Anteriormente, los scripts de actualización se volvían a ejecutar innecesariamente, lo que afectaba al rendimiento. [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* La aplicación ahora muestra los siguientes comportamientos cuando se interrumpe la conexión con Redis. Anteriormente, la aplicación no volvió a cargar la página actual y mostró este error: `An error has happened during application run. See exception log for details`.

   * Las sesiones de administración y tienda caducan
   * Los usuarios administradores y de tienda deben volver a iniciar sesión
   * Los datos de la sesión se guardaron en `var/session/`
   * No se registran errores ni excepciones.

<!-- ENGCOM-6686-->

* El comando `bin/magento setup:di:compile` ya no genera errores con las clases anónimas. _Corrección enviada por Yevhen Sentiabov en la solicitud de extracción [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* Se han resuelto los problemas con la compilación LESS en el tema de Luma de Magento al utilizar un compilador LESS alternativo que el que se envía con la aplicación de forma predeterminada. _Corrección enviada por el host de Pieter en la solicitud de extracción [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* Ya no necesita tener un archivo `env.php` grabable al cambiar al modo de mantenimiento. En su lugar, la aplicación establece los encabezados `no-cache` para todas las solicitudes de front-end en modo de mantenimiento (`Cache-Control`). Anteriormente, no se podía habilitar el modo de mantenimiento cuando `env.php` era de solo lectura y la aplicación intentó deshabilitar el FPC al cambiar al modo de mantenimiento. _Corrección enviada por Marco K̦pcke en la solicitud de extracción [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify` ya no genera un error de índice no definido durante la configuración de `ddev`. _Corrección enviada por Daniel Ruf en la solicitud de extracción [26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* Las dependencias del Compositor se han actualizado para implementar la caducidad de claves de Redis, lo que ha mejorado el rendimiento de Redis. _Corrección enviada por toxix en la solicitud de extracción [25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### Integración de Adobe Stock

<!-- ENGCOM-6507-->

* Se han agregado estilos CSS a la visualización de imagen de Adobe Stock para admitir el resaltado de la imagen seleccionada.  _Corrección enviada por Serhiy Zhovnir en la solicitud de extracción [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* La navegación a través de las imágenes de vista previa de Adobe Stock ya no se activa moviendo el cursor del campo de entrada mediante las teclas de flecha.  _Corrección enviada por Adarsh Manickam en la solicitud de extracción [27138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* La aplicación ahora almacena en caché los mensajes en busca de errores que se producen cuando un cliente intenta aplicar un filtro a las imágenes de Adobe Stock. _Corrección enviada por Shankar Konar en la solicitud de extracción [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* La aplicación ya no guarda una vista previa de una imagen de Adobe Stock cuando mueve el cursor a la barra de desplazamiento vertical izquierda de la ventana después de hacer clic en **Guardar vista previa**, pero sin confirmar la operación de guardado. _Corrección enviada por Serhiy Zhovnir en la solicitud de extracción [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### Servidor

<!-- MC-25036-->

* Ahora se pueden obtener vistas previas de las plantillas de correo electrónico (**Administrador** > **Marketing** > **Comunicaciones** > **Plantillas de correo electrónico**) desde el administrador cuando la minificación de JavaScript esté habilitada. Anteriormente, cuando se intentaba previsualizar una plantilla de correo electrónico, la ventana emergente Vista previa de correo electrónico estaba vacía. [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* Los administradores ahora pueden iniciar sesión en Admin como se espera después de crear una cuenta de administrador con privilegios limitados. Anteriormente, el administrador no era accesible. En su lugar, los usuarios con estos permisos se redirigieron a la tienda con un error 404. _Corrección enviada por Eden Duong en la solicitud de extracción [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* La aplicación ya no duplica datos de SEO, como la clave URL, el meta título, las palabras clave meta y la meta descripción, al duplicar un producto.  _Corrección enviada por Dasharth patel en la solicitud de extracción [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* La aplicación ya no genera un error cuando se elimina una imagen de una página al crearla desde **Admin** > **Contenido** > **Páginas** >  **Agregar nueva página**. Anteriormente, la aplicación arrojaba este error en la consola de desarrollador: `500 (Internal Server Error)`. _Corrección enviada por Eden Duong en la solicitud de extracción [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### Paquete de productos

<!-- MC-25251-->

* Se ha mejorado el rendimiento de la operación de reindexación de `catalog_product_price` para los productos agrupados.

<!-- MC-29633-->

* Los administradores ya no pueden introducir manualmente una clase de impuestos en el Administrador para un producto agrupado cuando la configuración de **Clase de impuestos** y **Precio dinámico** del producto agrupado está deshabilitada para la vista de tienda predeterminada. Anteriormente, cuando un administrador desmarcaba la opción **Usar valor predeterminado** junto a **Clase de impuesto**, la aplicación habilitaba la opción, lo que permitía a un administrador introducir otro valor y guardar el producto.

<!-- MC-30257-->

* Los precios de los paquetes de productos ahora se calculan correctamente en las páginas de productos.

<!-- MC-29745-->

* Ahora puede agregar cualquier cantidad de productos agrupados al carro de compras sin errores. Anteriormente, cuando se agregaba un producto agrupado al carro y se navegaba hasta él, la aplicación mostraba este error: `Please correct the quantity for some products`.

### Caché

<!-- ENGCOM-7114-->

* El esquema `cache.xsd` de `Magento\Framework\Cache` se ha refactorizado para que un tipo de caché sin un atributo `instance` ya no genere excepciones cuando se deshabilita un módulo mediante la administración de caché. Anteriormente, cuando se creaba un tipo de caché con `cache.xml` sin el argumento `instance`, la aplicación generaba una excepción al intentar deshabilitarla.  _Corrección enviada por Andrii Beziazychnyi en la solicitud de extracción [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` ya no falla si se configura un motor de caché de base de datos en la implementación. _Corrección enviada por Andrii Beziazychnyi en la solicitud de extracción [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### Carro y cierre de compra

<!-- MC-23870-->

* La aplicación ya no genera un error durante la desprotección cuando la opción de configuración **Sincronizar con servidor** está habilitada. [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* Los botones de opción para los métodos de envío ahora están activados según lo esperado en el flujo de trabajo de cierre de compra.

<!-- MC-30258-->

* La página de revisión de pedidos del flujo de trabajo de cierre de compra ahora se carga correctamente para un pedido que se envía a varias direcciones cuando los Términos y condiciones con la configuración **Aplicado manualmente** están habilitados. Anteriormente, la página Revisar no pasaba la validación y la aplicación mostraba un error 404.

<!-- MC-32330-->

* La aplicación ahora muestra el icono giratorio mientras los precios se actualizan en el carro de compras.

<!-- MC-33230-->

* La aplicación ahora muestra un mensaje informativo cuando un producto del minicarrito se queda sin existencias antes del cierre de compra. Una vez que hayas eliminado el artículo agotado, la aplicación mostrará el botón **Continuar con la compra**. Anteriormente, la aplicación no mostraba este botón.

<!-- MC-31391-->

* La aplicación ahora muestra un mensaje de error informativo cuando intenta agregar un producto haciendo clic en **Ordenar por SKU** cuando el archivo para cargar está dañado. Anteriormente, la aplicación mostraba una página en blanco.

<!-- MC-32962-->

* La aplicación ahora aplica reglas de precio de carro de compras solo a los productos secundarios de paquete que coinciden con los criterios de regla. Anteriormente, la aplicación aplicaba la regla de precio del carro de compras a todos los productos secundarios que pertenecían al producto del paquete.

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` se ha reemplazado por `StorefrontMinicartSection` en pruebas MFTF.   _Corrección enviada por Andrii Kalinich en la solicitud de extracción [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* Se han eliminado las referencias codificadas al componente selector de país en el formulario de dirección de envío.  _Corrección enviada por Mateusz Krzeszowiak en la solicitud de extracción [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* La aplicación ya no subraya el icono Eliminar del carro de compras cuando el cursor se pasa por encima del icono mientras ve la tienda en Internet Explorer.  _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* Al cambiar la calle de facturación ya no se cambia la dirección de envío de un cliente cuando se ha seleccionado una sola dirección tanto para la facturación como para la de envío. _Corrección enviada por Yurii Tvardyi en la solicitud de extracción [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* La región de promoción del minicarrito ahora se representa según lo esperado. _Corrección enviada por Matti Vapa en la solicitud de extracción [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### Regla de precio del carro

<!-- MC-23986-->

* Las reglas de precios del carro de compras basadas en métodos de pago ahora se aplican durante el flujo de trabajo de cierre de compra. [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* Se ha corregido el comportamiento del elemento de página Selector de fecha en **Administración** > **Marketing** > **Promociones** > **Regla de precio de catálogo**. _Corrección enviada por Hitesh en la solicitud de extracción [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` ha sido reemplazado por `StorefrontMinicartSection` en pruebas MFTF.   _Corrección enviada por Andrii Kalinich en la solicitud de extracción [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* Se ha desactivado la cuadrícula de cupones no utilizada en el flujo de trabajo Crear nueva regla de precios del carro de compras. _Corrección enviada por Eden Duong en la solicitud de extracción [24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* Al cambiar la calle de facturación ya no se cambia la dirección de envío de un cliente cuando se ha seleccionado una sola dirección tanto para la dirección de facturación como para la de envío. _Corrección enviada por Yurii Tvardyi en la solicitud de extracción [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### Catálogo

<!-- MC-25235-->

* La aplicación ya no genera un error cuando cambia el nombre de un producto interconectado que se incluye en una actualización programada. Anteriormente, al intentar guardar el producto con un nombre nuevo, la aplicación mostraba este error: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* Ahora, los valores de atributo personalizados se pueden guardar según lo esperado desde el administrador.

<!-- MC-29775-->

* La función Productos de vista reciente ahora muestra productos que están asociados solamente con la vista de tienda actual en implementaciones de varias tiendas cuando **Tiendas** > **Configuraciones** > **Catálogo** > **Productos vistos o comparados recientemente** > **Mostrar para actual** está establecido en **Vista de tienda**. Anteriormente, la aplicación mostraba productos vistos recientemente de todos los sitios web, independientemente del sitio web al que estuviera asignado el producto.

<!-- MC-29896-->

* La aplicación ahora muestra imágenes de productos en el minicarrito sin distorsión. Anteriormente, la aplicación ampliaba la imagen en el minicarrito para rellenar toda la anchura y altura del contenedor de imágenes.

<!-- MC-29866-->

* La función `getBasePrice` ahora devuelve un valor flotante como se esperaba en lugar de una cadena.

<!-- MC-30229-->

* La función de comparación de productos ahora funciona según lo esperado. Ahora solo muestra los productos de la lista de comparación del usuario actual.

<!-- MC-30234-->

* Ahora puede asignar una marca de agua predeterminada a una temática. Anteriormente, después de asignar la marca de agua, la aplicación arrojaba un error grave.

<!-- MC-30540-->

* Ahora puede editar correctamente un producto configurable con muchas variantes (aproximadamente 5000) del administrador. Anteriormente, al intentar editar un producto configurable con muchos subproductos, la aplicación mostraba este error: `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* La ordenación en conjuntos de atributos en **Administración** > **Catálogo** > **Productos** ahora se basa en el orden alfabético esperado.

<!-- MC-30794-->

* La función Productos vistos recientemente ahora funciona como se espera en implementaciones de varias tiendas.

<!-- MC-31838-->

* La casilla de verificación **Producto en sitios web** de la nueva página de producto ahora está habilitada de manera predeterminada para administradores restringidos en implementaciones de varios sitios. Anteriormente, la casilla de verificación del sitio web no predeterminado no estaba preseleccionada y, si el administrador dejaba la casilla de verificación sin seleccionar, la aplicación mostraba un mensaje de error.

<!-- MC-32772-->

* `addToCart` eventos ahora se rastrean como se espera en la capa de datos. Anteriormente, después de cambiar las opciones configurables de un producto y hacer clic en **Agregar al carro**, el nuevo evento `addToCart` no se agregó a la capa de datos.

<!-- MC-29449-->

* El minicarrito y el carro de compras del administrador (**Administrador** > **Clientes** > **Administrar carro de compras**) ahora muestran los precios de productos correctos cuando se aplica una regla de precios de catálogo. Anteriormente, el carro de compras de la tienda mostraba el precio de producto correcto, pero el carro de compras del administrador y el minicarrito mostraban el precio de producto original.

<!-- MC-30777-->

* El filtrado en la columna del sitio web de la cuadrícula de productos de administración ahora funciona según lo esperado. Anteriormente, los resultados de los filtros no mostraban el número correcto de productos, pero mostraban de forma coherente el número total de productos como 1.

<!-- MC-31432-->

* La condición de precio usa `catalog_product_entity_decimal` para filtrar por precio. Sin embargo, esta tabla no contiene registros para productos configurables, dinámicos del paquete y agrupados, porque estos productos no tienen un precio fijo. La tabla correcta que se va a usar para filtrar por precio es `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* El catálogo de administración y las listas de productos ahora muestran símbolos de moneda en las columnas MSRP, Coste y Precio especial. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* La ventana emergente Agregar precio de grupo de clientes (**Administrador** > **Catálogo** > **Productos** > **Nuevo producto** > **Precios avanzados**) ahora se cierra según lo esperado al hacer clic en el icono de cierre. _Corrección enviada por Ashna-Jahan en la solicitud de extracción [25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* La descripción de ejemplo proporcionada para la descripción y el título del nuevo producto ya no contiene comillas dobles.  _Corrección enviada por Nathan Morgan en la solicitud de extracción [25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* La aplicación ya no genera un error cuando intenta filtrar productos en la página Categoría utilizando un precio no válido. Anteriormente, la aplicación registraba este error en el registro del sistema. _Corrección enviada por Ihor Sviziev en la solicitud de extracción [25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* Ahora puede navegar por los resultados de búsqueda de categorías de varias páginas. Anteriormente, la aplicación creaba páginas duplicadas de resultados de búsqueda cuando se intentaba usar el botón Atrás para volver a la primera página de resultados. _Corrección enviada por Douglas Radburn en la solicitud de extracción [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* Se corrigió el tipo devuelto a `string|null` para el método `getSourceModel` en la clase `Eav\Attribute.php`. _Corrección enviada por Mychailo en la solicitud de extracción [25333](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* Guardar un nuevo producto (duplicado) ya no resulta en la duplicación de imágenes del producto cientos de veces. _Corrección enviada por Jeroen en la solicitud de extracción [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* La aplicación ya no genera un error de JavaScript cuando se elimina un producto con una opción personalizada de tipo `file` durante la creación de un pedido del administrador.  _Corrección enviada por adrian-martinez-interactive4 en la solicitud de extracción [24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* Si crea un producto sin imagen con `product_page_image_large` en el diseño, la imagen del marcador de posición se mostrará según lo esperado. Anteriormente, la aplicación arrojó este error: `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* Puede usar el extremo `POST /V1/:sku/links` para establecer vínculos de producto con una matriz vacía de productos cuando el producto tiene vínculos existentes. Anteriormente, la aplicación arrojaba un error. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* Ahora puede utilizar el menú desplegable Acciones de la cuadrícula Productos para especificar si un producto tiene peso al actualizar los atributos de varios productos desde el Administrador.  _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* La lógica de validación se ha agregado a los campos **Valores permitidos por cuadrícula por página** y **Productos por página en valor predeterminado de cuadrícula** de la página de configuración de la tienda. Anteriormente, los administradores de tiendas podían introducir valores no disponibles en estos campos.  _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### Widget del catálogo

<!-- MC-29167-->

* La lista de productos `CatalogWidget` ahora funciona según lo esperado con categorías de anclaje, y los productos de las categorías de anclaje ahora coinciden y se muestran. Anteriormente, al seleccionar una categoría principal que era un anclaje, pero que no contenía productos asignados, los productos no eran visibles en el widget.

<!-- MC-30260-->

* La aplicación ahora muestra todos los elementos secundarios de una categoría principal seleccionada según lo esperado. Anteriormente, si seleccionaba una categoría principal que era un anclaje, pero que no contenía productos asignados, la aplicación no mostraba todos los productos anidados.

<!-- MC-31171-->

* El widget de productos vistos recientemente ahora funciona correctamente cuando **Tiendas** > **Configuración** > **Catálogo** > **Catálogo** > **Vistos o comparados recientemente** > **Sincronizar productos del widget con almacenamiento back-end** se establece en **Sí**.

### Cleanup

<!-- ENGCOM-6573-->

* Se ha eliminado una etiqueta de cierre adicional del XML del módulo. _Corrección enviada por Tejash Kumbhare en la solicitud de extracción [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* Se ha corregido la desalineación de **Mis direcciones de facturación y envío son la misma** casilla de verificación en la sección de la página Revisar y pagos del flujo de trabajo de pago.  _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* Se ha eliminado el espacio en blanco innecesario entre las etiquetas de campo y los asteriscos de la sección Dirección de envío del flujo de trabajo de cierre de compra.  _Corrección enviada por Daniel Ruf en la solicitud de extracción [26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* Se ha corregido la desalineación de los botones de opción de la sección Métodos de envío del flujo de trabajo de cierre de compra.  _Corrección enviada por Hitesh en la solicitud de extracción [25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* Se corrigió un espaciado de menú incoherente en la vista móvil. _Corrección enviada por Hitesh en la solicitud de extracción [26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* Se ha corregido la desalineación de los iconos de edición y eliminación del minicarrito en la vista móvil.  _Corrección enviada por Vasili Burlacu en la solicitud de extracción [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* Se ha corregido la desalineación del intervalo y la casilla de verificación del código postal de la tasa de impuestos en la página Agregar nueva tasa de impuestos/código postal (**Administrador** > **Tienda** > **Impuestos** > **Zonas fiscales y tasas**). _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* El vínculo del Asistente de configuración al administrador ahora funciona según lo esperado. _Corrección enviada por Oleh Usik en la solicitud de extracción [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* La ordenación se ha deshabilitado en la columna de estado de la cuadrícula Administración de caché en el Administrador. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* Se ha corregido la desalineación de los elementos de página en **Administración** > **Tiendas** > **Atributos** > **Clasificaciones** > **Agregar nuevas clasificaciones** del cuadro de diálogo. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [27014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* Se ha corregido la desalineación del icono de calendario en la página Agregar cambio de diseño. _Corrección enviada por Eduard Chitoraga en la solicitud de extracción [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* Se ha eliminado el espacio innecesario en la visualización del submenú en el menú de desplazamiento de la página principal. _Corrección enviada por Hitesh en la solicitud de extracción [25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* Se ha corregido la desalineación de las etiquetas de precio en la página de detalles del producto de la tienda. _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* Se ha corregido la desalineación del texto sin existencias en relación con el botón **Agregar al carro** de la página de lista de productos en la vista móvil.  _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* El mensaje de integración correcta que se muestra en **Administración** > **Sistema** > **Extensiones** > **Integraciones** ahora se muestra correctamente. _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### Contenido de CMS

<!-- MC-29619-->

* Ahora puede guardar y duplicar todas las páginas de CMS. Anteriormente, la aplicación produjo esta excepción al intentar duplicar determinadas páginas: `Unique constraint violation found`.

<!-- MC-30963-->

* La aplicación ahora permite crear bloques de CMS con nombres idénticos si los bloques están asignados a diferentes vistas de tienda.

<!-- MC-30103-->

* Las miniaturas seleccionadas de la Galería ahora se almacenan en caché según lo esperado. Anteriormente, estas imágenes cambiaban de tamaño sobre la marcha.

<!-- MC-32275-->

* La aplicación ya no genera un error al guardar una página de CMS que se ha asignado a varias tiendas. Anteriormente, al crear o editar una página de CMS, la aplicación guardó la página pero también arrojó este error: `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* Las nuevas páginas de CMS ahora se añaden según lo esperado a la jerarquía de páginas de tienda de un sitio web.

<!-- ENGCOM-7033-->

* Se ha mejorado la lógica de actualización del diseño personalizado de la página CMS. La aplicación ahora aplica cambios de diseño específicos de `cms_page_view_selectable_home_somechanges.xml`. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### Productos configurables

<!-- MC-23546-->

* Los productos secundarios de un producto configurable ahora se pueden deshabilitar correctamente a través de la API.

<!-- MC-30391-->

* Las reglas de precios del carro de compras con una **condición establecida como Categoría (solo principal)** ahora funcionan de manera consistente según lo esperado.

<!-- MC-30989-->

* Ahora puede agregar un producto configurable al carro de compras desde la pestaña Ventas cruzadas. Al seleccionar un producto y hacer clic en **Agregar al carro de compras** desde esta pestaña, ahora se le redirige a la página de detalles del producto, donde puede seleccionar opciones específicas de productos. Anteriormente, la aplicación le redirigía a una página de error 404.

<!-- MC-32411-->

* La aplicación ya no vincula un producto simple a un producto configurable cuando falla la llamada de API para vincular estos productos.

<!-- ENGCOM-6483-->

* Se ha corregido el procesamiento de los SKU en la lista Variaciones actuales de un producto configurable. _Corrección enviada por KaushikChavda en la solicitud de extracción [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* Ahora puede guardar la información de configuración de `system.xml` introduciendo valores en **Administración** > **Sistema** > **Configuración** en campos que no tienen etiquetas asociadas. _Corrección enviada por Andrii Chorniy en la solicitud de extracción [25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* Se ha optimizado el rendimiento de `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable`.  _Corrección enviada por Stanislav Ilnytskyi en la solicitud de extracción [26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* Se ha mejorado la lógica responsable de actualizar las imágenes de productos configurables. Anteriormente, los productos simples asociados a un producto configurable solo mostraban la imagen predeterminada asociada con el producto configurable y, a veces, la aplicación mostraba la imagen principal incorrecta para el producto. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* La aplicación ahora muestra el precio especial de un producto como se espera cuando se selecciona una opción de descuento de un producto configurable. Anteriormente, `class="normal-price"` no se cambiaba a `class="special-price"` cuando se seleccionaba una opción de descuento. _Corrección enviada por Ravi Chandra en la solicitud de extracción [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookies

<!-- MC-24182-->

* Las funciones `setRedirectCookie` y `clearRedirectCookie` ahora funcionan según lo esperado. Anteriormente, estas funciones enviaban cookies al explorador, pero faltaban todos los parámetros de las cookies. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- ENGCOM-6891-->

* Se han agregado metadatos a las funciones `setRedirectCookie` y `clearRedirectCookie`.  _Corrección enviada por Alexander Lukyanov en la solicitud de extracción [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### Atributos del cliente personalizados

<!-- MC-32301-->

* La aplicación ya no genera un error cuando se incluye un campo de atributo de cliente vacío en el campo **Forms que se usará en** al crear una cuenta de compañía en la tienda. Anteriormente, la aplicación arrojó este error: `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

### Cliente

<!-- MC-29102-->

* Los clientes suscritos a boletines como invitados ya no cancelan la suscripción después de registrarse para obtener una nueva cuenta.

<!-- MC-29841-->

* La aplicación ahora usa un nuevo(a) `PHPSession` para cada cambio de contraseña.

<!-- MC-30650-->

* Ahora puede crear correctamente un cliente y asociarlo a un sitio web en particular mediante el menú desplegable Asociar a sitio web en **Clientes** > **Todos los clientes** > **Agregar nuevo cliente**. Anteriormente, al intentar asociar un nuevo cliente con el sitio web no predeterminado en una implementación de varios sitios, la aplicación mostraba este error: `The store view is not in the associated website`.

<!-- MC-29946-->

* La aplicación ahora guarda la información que un cliente introduce en los campos de facturación y envío predeterminados durante el cierre de compra cuando la transacción se rechaza inicialmente debido a una tarjeta de crédito no válida, pero se completa correctamente más tarde. Anteriormente, aunque la aplicación creaba el pedido cuando el cliente especificaba la información de pago válida, no actualizaba las direcciones de facturación o envío predeterminadas en la sección Mi cuenta del flujo de trabajo de cierre de compra.

<!-- MC-32325-->

* La aplicación ahora respeta la configuración del grupo de clientes cuando crea un nuevo cliente desde el administrador en una implementación de varios sitios.

<!-- MC-31481-->

* La aplicación ahora importa correctamente los datos del cliente mediante la opción **Cliente y direcciones (un solo archivo)** cuando `cron` está habilitado y el indizador de cuadrícula del cliente está establecido en **Actualizar según el horario**. Después de que `cron` se ejecute, la información de clientes importada estará disponible en el Administrador según lo esperado. Anteriormente, la aplicación importaba los datos del cliente, pero no actualizaba la cuadrícula del cliente con los registros del cliente recién importados.

<!-- MC-31117-->

* Ahora puede crear un nuevo cliente a partir de la tienda cuando se requiera la fecha de nacimiento. Anteriormente, no se podía crear un nuevo cliente cuando este campo era necesario, incluso cuando se introducían valores DOB válidos. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La creación de clientes desde Admin ahora respeta la configuración predeterminada del grupo de clientes según lo esperado.

<!-- MC-31425-->

* El `PHPSessionId` ahora cambia según lo esperado después de que un cliente cierre la sesión y luego la vuelva a iniciar.

<!-- MC-32152-->

* La vista Administrador de un carro de compras de clientes ahora muestra todos los productos que se agregaron al carro de compras desde varios sitios web en una implementación de varios sitios web. Anteriormente, cuando un cliente agregaba un producto al carro de compras desde un sitio web no predeterminado, el producto no se mostraba en el Administrador aunque **Compartir cuenta de cliente** estuviera establecida en **Global**.

<!-- ENGCOM-6667-->

* La aplicación ahora muestra únicamente los productos que el cliente ha colocado en el carro de compras cuando este se ve desde el administrador. Anteriormente, el carro de compras de un cliente mostraba todos los productos del catálogo cuando se visualizaban desde el administrador. _Corrección enviada por Ravinder en la solicitud de extracción [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-7036-->

* La validación ahora funciona según lo esperado para el campo **Fecha de nacimiento** al editar un cliente desde el administrador. Anteriormente, la aplicación no tenía en cuenta la configuración regional del usuario y para algunos cumpleaños se mostraba este error: `The Date of Birth should not be greater than today`.   _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* El campo de correo electrónico ya no es necesario al realizar un pedido desde el administrador.  _Corrección enviada por solwininfotech en la solicitud de extracción [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6423-->

* El panel Mi cuenta ahora muestra correctamente los valores de las direcciones de correo electrónico en la vista móvil. _Corrección enviada por Eden Duong en la solicitud de extracción [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Si hace clic varias veces en el botón **Crear una cuenta** del formulario de registro de cliente, ya no se enviará la solicitud de registro más de una vez. _Corrección enviada por princeCB en la solicitud de extracción [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

<!-- MC-29102-->

* Los clientes suscritos a boletines como invitados ya no cancelan la suscripción después de registrarse para obtener una nueva cuenta.

<!-- MC-29841-->

* La aplicación ahora usa un nuevo(a) `PHPSession` para cada cambio de contraseña.

<!-- MC-30650-->

* Ahora puede crear correctamente un cliente y asociarlo a un sitio web en particular mediante el menú desplegable Asociar a sitio web en **Clientes** > **Todos los clientes** > **Agregar nuevo cliente**. Anteriormente, al intentar asociar un nuevo cliente con el sitio web no predeterminado en una implementación de varios sitios, la aplicación mostraba este error: `The store view is not in the associated website`.

<!-- MC-29946-->

* La aplicación ahora guarda la información que un cliente introduce en los campos de facturación y envío predeterminados durante el cierre de compra cuando la transacción se rechaza inicialmente debido a una tarjeta de crédito no válida, pero se completa correctamente más tarde. Anteriormente, aunque la aplicación creaba el pedido cuando el cliente especificaba la información de pago válida, no actualizaba las direcciones de facturación o envío predeterminadas en la sección Mi cuenta del flujo de trabajo de cierre de compra.

<!-- MC-32325-->

* La aplicación ahora respeta la configuración del grupo de clientes cuando crea un nuevo cliente desde el administrador en una implementación de varios sitios.

<!-- MC-31481-->

* La aplicación ahora importa correctamente los datos del cliente mediante la opción **Cliente y direcciones (un solo archivo)** cuando `cron` está habilitado y el indizador de cuadrícula del cliente está establecido en **Actualizar según el horario**. Después de que `cron` se ejecute, la información de clientes importada estará disponible en el Administrador según lo esperado. Anteriormente, la aplicación importaba los datos del cliente, pero no actualizaba la cuadrícula del cliente con los registros del cliente recién importados.

<!-- MC-31117-->

* Ahora puede crear un nuevo cliente a partir de la tienda cuando se requiera la fecha de nacimiento. Anteriormente, no se podía crear un nuevo cliente cuando este campo era necesario, incluso cuando se introducían valores DOB válidos. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La creación de clientes desde Admin ahora respeta la configuración predeterminada del grupo de clientes según lo esperado.

<!-- MC-31435-->

* El `PHPSessionId` ahora cambia según lo esperado después de que un cliente cierre la sesión y luego la vuelva a iniciar.

<!-- MC-32152-->

* La vista Administrador de un carro de compras de clientes ahora muestra todos los productos que se agregaron al carro de compras desde varios sitios web en una implementación de varios sitios web. Anteriormente, cuando un cliente agregaba un producto al carro de compras desde un sitio web no predeterminado, el producto no se mostraba en el Administrador aunque **Compartir cuenta de cliente** estuviera establecida en **Global**.

<!-- ENGCOM-7036-->

* La validación ahora funciona según lo esperado para el campo **Fecha de nacimiento** al editar un cliente desde el administrador. Anteriormente, la aplicación no tenía en cuenta la configuración regional del usuario y para algunos cumpleaños se mostraba este error: `The Date of Birth should not be greater than today`.   _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* El campo de correo electrónico ya no es necesario al realizar un pedido desde el administrador.  _Corrección enviada por solwininfotech en la solicitud de extracción [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* La aplicación ahora muestra únicamente los productos que el cliente ha colocado en el carro de compras cuando este se ve desde el administrador. Anteriormente, el carro de compras de un cliente mostraba todos los productos del catálogo cuando se visualizaban desde el administrador. _Corrección enviada por Ravinder en la solicitud de extracción [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* El panel Mi cuenta ahora muestra correctamente los valores de direcciones de correo electrónico en la vista móvil. _Corrección enviada por Eden Duong en la solicitud de extracción [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Si hace clic varias veces en el botón **Crear una cuenta** del formulario de registro de cliente, ya no se enviará la solicitud de registro más de una vez. _Corrección enviada por princeCB en la solicitud de extracción [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### Directorio

<!-- MC-33168-->

* El menú desplegable Estado predeterminado ahora se rellena con datos basados en los países permitidos que se han asignado al sitio web seleccionado al configurar un valor para el campo **Cálculo predeterminado de destino de impuestos**. Anteriormente, este menú desplegable enumeraba los países asignados al sitio web predeterminado.

### Descargable

<!-- MC-32306-->

* Ahora puede utilizar un archivo de importación para actualizar los productos descargables de forma masiva por SKU y descripción. Anteriormente, se producían errores de validación y la importación fallaba.

### EAV

<!-- MC-29999-->

* La aplicación ahora respeta la configuración específica de la tienda que determina si el campo del número de teléfono del flujo de trabajo de cierre de compra es necesario en una implementación de varios sitios. Anteriormente, en implementaciones en las que un almacén requería este campo en el flujo de trabajo de cierre de compra y otro almacén no, los clientes que no completaban este campo mientras desprotegían el almacén que no lo requería encontraban este error: `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* El criterio de ordenación EAV de `attribute option_id` ahora funciona según lo esperado. _Corrección enviada por Tan Sezer en la solicitud de extracción [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* Ahora puede crear un nuevo producto después de agregar un nuevo atributo a través de REST y asignarlo a un conjunto de atributos desde Admin. Anteriormente, la aplicación arrojaba un error 500.  _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### Correo electrónico

<!-- MC-32842-->

* Los correos electrónicos de autorización enviados a un cliente cuando solicita una devolución ahora contienen el estado de RMA esperado. Anteriormente, este correo electrónico mostraba una cadena vacía en lugar del estado de retorno esperado.

<!-- MC-32864-->

* Los clientes ya no son redirigidos fuera del sitio web actual cuando informan de una contraseña olvidada en implementaciones de varios sitios en las que se comparten cuentas de clientes de forma global. Anteriormente, los clientes se redirigían al sitio web en el que se creaba la cuenta.

<!-- MC-31544-->

* Los correos electrónicos de confirmación de pedido que se envían a los clientes ahora incluyen la lista de artículos pedidos según lo esperado. Anteriormente, cuando se creaba una plantilla de correo electrónico en Admin al cargar y guardar la plantilla predeterminada, los correos electrónicos generados a partir de esta plantilla no incluían la lista de elementos pedidos. [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### Marcos

* Las dependencias de Zend Framework se han migrado al [proyecto Laminas](https://getlaminas.org/about/foundation) para reflejar la transición de Zend Framework al proyecto Laminas de la Fundación Linux. Zend Framework ha quedado obsoleto. _Corrección enviada por Ihor Sviziev en la solicitud de extracción [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* La configuración de rango de precios especiales (fechas de/a) ahora funciona correctamente para cuentas de administrador que utilizan una configuración regional neerlandesa.

<!-- MC-29388-->

* `php bin/magento cron:run` ya no procesa elementos de la tabla de registro de cambios varias veces. Anteriormente, cuando había más de 100000 versiones nuevas en la tabla de registro de cambios, se podía llamar varias veces a las acciones para el mismo `entity id`.

* El comando `php bin/magento setup:cron:run` se ha eliminado. Las referencias a esto en crontabs deben eliminarse al actualizar.

* El archivo `update/cron.php` se quitó en la versión 2.4.0; si existe en la instalación, se puede quitar de forma segura. Además, quite las referencias a este archivo en crontabs al actualizar.

<!-- MC-30544-->

* La acción Actualizar atributo ahora actualiza correctamente la marca de tiempo de `updated_at column` de un producto de `catalog_product_entity` cuando actualiza el producto desde la página de producto de edición de administrador.

<!-- MC-30834-->

* La configuración `'persistent' => '1'` en `env.php` ya no genera un error cuando ejecuta `setup:upgrade`.

<!-- MC-32243-->

* Clave De Formulario **No Válida. Actualice la cadena de texto de la página** en la página de inicio de sesión y ahora se traduzca según lo esperado.

<!-- MC-33278-->

* Hemos mejorado el rendimiento de la función `Magento\Framework\App\DeploymentConfig\Reader::load`. Anteriormente, cuando se realizaba una solicitud al Magento, se realizaba una llamada repetitiva a esta función, lo que provocaba que se cargaran `config.php` y `env.php config` archivos cada vez que se realizaba una llamada al método.

<!-- MC-31728-->

* La aplicación ya no descarga una página de `blank.html` cuando un administrador hace clic en un producto al crear un pedido del administrador.

<!-- MC-31729-->

* Los bloques no almacenables en caché añadidos al diseño predeterminado en las instrucciones de referencia para componentes inexistentes (no declarados) en la página ya no afectan al almacenamiento en caché de la página. Al agregar bloques no almacenables en caché a los controladores de diseño predeterminados, todas las páginas se vuelven no almacenables en caché. Esto es el resultado del proceso de generación de diseños: durante la generación de diseños, la aplicación recopila todos los controladores de diseño disponibles para una página en particular y combina las instrucciones de los mismos en la estructura de diseño final de la página. El controlador de diseño predeterminado se utiliza como controlador básico para cada página. Como resultado, las actualizaciones de diseño declaradas para el controlador predeterminado aparecen en todas las páginas. [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* El administrador de bloqueos MySQL es ahora el administrador de bloqueos principal. Como resultado, la versión mínima requerida de MySQL es 5.7.9.

<!-- ENGCOM-6431-->

* `queue_consumer.xml` ahora permite números en la clase `handler`. Anteriormente, cuando un controlador contenía un número en su ruta, se producía un error de validación de XSD. _Corrección enviada por Eden Duong en la solicitud de extracción [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* Se ha corregido una referencia `@var` incorrecta en el bloque `doc` de la variable miembro de clase `$queueIterator` de la clase `\Magento\Framework\MessageQueue\Topology\Config`. _Corrección enviada por Artem Voloznov en la solicitud de extracción [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* Los oyentes de carga de página de JavaScript ahora se activan para activarse cuando un documento ya no es `loading` en lugar de esperar hasta que se marque como `complete` como esperando hasta que el documento se marque como `complete` puede provocar retrasos graves en la representación del contenido de JavaScript. _Corrección enviada por John Hughes en la solicitud de extracción [23313](https://github.com/magento/magento2/pull/23313) y la solicitud de extracción [50](https://github.com/magento/partners-magento2ee/pull/50)_. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* La aplicación ahora muestra el siguiente mensaje informativo cuando intenta agregar un producto a su lista de deseos con una cantidad de 0 o un número negativo: `Please enter a valid number in this field`. Anteriormente, la aplicación mostraba este error: `We can't update your Wish List right now`. _Corrección enviada por Pawe Tylek en la solicitud de extracción [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* La aplicación ya no admite la herencia de clases DTO de la clase `Magento\Framework\Api\AbstractExtensibleObject`. Falta la anotación PHP `@api`  se ha agregado a `AbstractExtensibleModel`, y falta `@deprecated`  se ha agregado la anotación a `AbstractExtensibleObject`.  _Corrección enviada por Alexander Taranovsky en la solicitud de extracción [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* Ahora puede guardar los productos como se espera después de cambiar una fecha relacionada con el producto (por ejemplo, `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`) en tiendas que implementan configuraciones regionales que no están en inglés. Anteriormente, la aplicación arrojó un error similar a este: `Invalid input datetime format of value '22/5/2019`.

### Correcciones generales

<!-- MC-21347-->

* El módulo Cliente ya no depende del módulo Revisar. Anteriormente, no se podía deshabilitar el módulo Revisar debido a esta dependencia.

<!-- MC-25250-->

* La página de edición del producto ahora se carga correctamente cuando el conjunto de atributos predeterminado de la página contiene un atributo desplegable con la etiqueta de selección.

<!-- MC-25260-->

* El gráfico de pedidos al que se puede acceder desde la pestaña Pedidos de la Admin ahora refleja con precisión la cantidad de pedidos.

<!-- MC-29273-->

* La URL de administración de una tienda ya no redirige a la URL de la tienda cuando estas dos URL difieren.

<!-- MC-29658-->

* La generación de reescritura de URL para subcategorías ahora funciona correctamente al utilizar el perfil del kit de herramientas de rendimiento con más de un sitio web.

<!-- MC-30224-->

* Ahora puede eliminar un modelo de usuario vacío sin eliminar la función Administradores a la que está asignado.

<!-- MC-30636-->

* El editor TinyMCE4 ahora es compatible con todas las etiquetas de HTML.

<!-- MC-31128-->

* Al hacer clic en el botón **Reembolsar sin conexión** en el flujo de trabajo Crear una nota de abono, ahora se genera una nota de abono según lo esperado. Anteriormente, un error de JavaScript deshabilitaba este botón y la aplicación no creaba una nota de crédito.

<!-- MC-31832-->

* Los comerciantes ahora pueden crear un atributo de producto de tipo `Decimal`. Anteriormente, debido a una corrección de errores anterior, la aplicación no mostraba el tipo de atributo de producto `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* La aplicación ya no devuelve el error 500 al intentar abrir una página Categoría en la tienda cuando **Diseño = Producto - Anchura completa** se ha establecido desde la pestaña Diseño de la página Categoría.

<!-- MC-32697-->

* Se corrigió un error en `AbstractSimpleObjectBuilder.php`.

<!-- MC-33427-->

* MAP (precio mínimo anunciado) ahora funciona como se espera para los productos del grupo.

<!-- MC-29998-->

* La aplicación ahora le redirige a la página principal de la vista de tienda adecuada cuando cambia de idioma en páginas de CMS en una implementación de varias tiendas. Anteriormente, la aplicación mostraba una página 404 cuando se cambiaba de idioma en determinadas páginas de CMS.

<!-- MC-30162-->

* Las consultas de pedidos (`SalesOrderIndexGridAsyncInsertCron`) se han refactorizado para reducir el tamaño del conjunto de datos devuelto y la frecuencia de las consultas.

<!-- MC-32371-->

* Ahora puede crear correctamente una página de CMS y asignarla a la categoría raíz del sitio web en la jerarquía de CMS.

<!-- MC-32783-->

* Los invitados ahora pueden mostrar un precio de producto o agregar un producto al carro de compras cuando los permisos de categoría están habilitados (por ejemplo, cuando el grupo de clientes **No ha iniciado sesión** tiene concedidos estos privilegios).

<!-- MC-32815-->

* Las reglas de producto ahora se aplican a productos sin existencias según lo esperado. Anteriormente, la aplicación no mostraba productos sin existencias en la lista de productos relacionados aunque la regla se configurara para mostrar productos sin existencias.

<!-- MC-33222-->

* Al hacer clic en el botón **Seguimiento del envío** de un pedido del administrador, ahora se muestra la información de seguimiento en una ventana emergente, según lo esperado. Anteriormente, este vínculo llevaba al administrador a la página Iniciar sesión.

<!-- MC-31305-->

* La aplicación ahora muestra un mensaje de error informativo y continúa mostrando el formulario de registro como se espera si se produce un error cuando un cliente intenta completar un formulario de registro que contiene un atributo de cliente de selección múltiple. Anteriormente, la aplicación mostraba un error 500.

<!-- MC-32224-->

* La solicitud ahora muestra el botón **Nota de crédito** después del reembolso parcial de un pedido. Anteriormente, la aplicación no mostraba este botón después de crear una devolución parcial y no se podía crear una nota de abono para el resto del pedido.

<!-- MC-31878-->

* Las actualizaciones de pedidos masivos a través de REST ahora modifican el estado del pedido según lo esperado. Anteriormente, la aplicación arrojó este error: `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* Los filtros de atributo ahora se muestran según lo esperado en el bloque Opciones de compra de la página Categoría.

<!-- ENGCOM-7175-->

* Las direcciones de facturación y envío del cliente ahora se muestran según lo esperado en la pestaña Direcciones de la página Admin Customer Edit cuando se muestra en Internet Explorer. _Corrección enviada por Vasili Burlacu en la solicitud de extracción [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* Todas las vistas de marcadores ahora permanecen editables cuando se elimina una. Anteriormente, todas las vistas de marcadores no se podían editar después de eliminar la primera vista de las cuentas con varias vistas de marcadores. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* La navegación por capas ya no interrumpe la validación HTML 5 del módulo de muestras. Anteriormente, se producían errores de validación del HTML para atributos que no estaban definidos en el [servicio de validación de marcado W3C](https://validator.w3.org/), pero esos atributos se han cambiado a atributos de datos. _Corrección enviada por Nirav Patel en la solicitud de extracción [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* Un alias `require.JS` sin usar (`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`). _Corrección enviada por Tu Nguyen en la solicitud de extracción [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* La aplicación ahora implementa la [interfaz lanzable](https://www.php.net/manual/en/class.throwable.php) de PHP7.x para habilitar la captura de todos los errores que podrían exponer potencialmente información confidencial como contraseñas. _Corrección enviada por miszyman en la solicitud de extracción [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* Al pulsar la tecla ESC al introducir el nombre de una nueva carpeta en la ventana emergente Crear una nueva carpeta, ahora se cierra la ventana emergente como se espera sin crear la carpeta.  _Corrección enviada por Shankar Konar en la solicitud de extracción [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* Se ha corregido una estructura de HTML anidada incorrectamente. Anteriormente, esta estructura provocaba un diseño roto para la lista de productos relacionados, de mejora de ventas o de venta cruzada. _Corrección enviada por el host de Pieter en la solicitud de extracción [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* Se quitó la llamada duplicada a `addToolbarBlock`, lo que resultó en dos condiciones similares en `ORDER BY`.  _Corrección enviada por Vasili Burlacu en la solicitud de extracción [27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* Los comerciantes ahora pueden establecer una fecha de caducidad para las cuentas de usuario de administrador. _Corrección enviada por Laura Folco en la solicitud de extracción [22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* Hemos agregado la anotación PHP `@api` a `AbstractExtensibleModel`, la anotación PHP `@deprecated` a `AbstractExtensibleObject` y `@see` a `AbstractExtensibleModel`.  _Corrección enviada por Alexander Taranovsky en la solicitud de extracción [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### GraphQL

<!-- ENGCOM-7074-->

* La aplicación ahora devuelve el mensaje de GraphQL `The cart isn't active` en lugar de `Current user does not have an active cart` en determinadas circunstancias cuando un carro de compras se vuelve inactivo y se crea un nuevo ID de carro de compras. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* Se ha eliminado un código que provocaba un error al usar GraphQL para agregar productos a un carro de compras cuando un producto añadido anteriormente estaba agotado. _Corrección enviada por AleksLi en la solicitud de extracción [27015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* Se ha corregido un problema en GraphQL en el cual la aplicación no devolvía toda la información necesaria al utilizar fragmentos en la consulta de productos. _Corrección enviada por Riccardo Tempesta en la solicitud de extracción [26218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* La mutación de GraphQL `setShippingMethodsOnCart` ya no recupera los datos incorrectos en el atributo `available_shipping_methods`. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### Productos agrupados

<!-- ENGCOM-6115-->

* Ahora puede agregar un producto simple que pertenezca a un producto de grupo al carro de compras cuando otro producto simple que pertenezca a ese mismo grupo esté agotado.  _Corrección enviada por Gihovani Filipp Pereira Dem̩trio en la solicitud de extracción [24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* La aplicación ahora envía correos electrónicos a los clientes sobre los productos del grupo reembolsados según lo esperado.  _Corrección enviada por Alexander Taranovsky en la solicitud de extracción [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* Ahora puede agregar al carro de compras un producto secundario de un producto agrupado cuando uno de los demás productos secundarios del producto agrupado esté agotado. Anteriormente, cuando un producto secundario estaba agotado, no se podía agregar ningún otro producto secundario al carro de compras.

### Imágenes

<!-- MC-29523-->

* Las imágenes ahora se guardan en `pub/media/catalog/category` como se espera cuando se guardan imágenes de categoría. Anteriormente, la aplicación guardó estas imágenes en `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* Las imágenes de filigrana ya no oscurecen la imagen del producto que superponen. Anteriormente, cuando la imagen de marca de agua era más grande que la imagen de producto a la que se aplicaba, la imagen del producto no era visible.

<!-- MC-32273-->

* Ahora puede guardar correctamente una imagen en una categoría desde el Administrador. Anteriormente, después de guardar la imagen, faltaba parte de la dirección URL y no se podía volver a abrir la imagen.

<!-- MC-31727-->

* La aplicación ahora muestra `.png` imágenes como se espera después de la carga.

<!-- ENGCOM-7063-->

* Si utiliza REST para agregar o actualizar una imagen, ahora se crea una miniatura de imagen según lo esperado. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* Los atributos personalizados de las imágenes generadas por `Block\Product\ImageFactory` ahora se representan correctamente. Anteriormente, no se podían agregar atributos personalizados propios al marcado de atributos debido a un escape incorrecto de la salida del HTML. _Corrección enviada por Alexander-aleman en la solicitud de extracción [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* Las imágenes ya no se difuminan cuando se ve una tienda desde una iPhone.  _Corrección enviada por Dmitriy en la solicitud de extracción [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* Las imágenes de la tienda ahora responden. Anteriormente, la altura de la imagen se distorsionaba.  _Corrección enviada por Sean van Zuidam en la solicitud de extracción [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* El logotipo de tienda predeterminado ahora está visible en la tienda cuando se usa el tema `Magento_blank`. _Corrección enviada por Vasili Burlacu en la solicitud de extracción [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### Importar/exportar

<!-- MC-25206-->

* La aplicación ya no genera un error durante la importación cuando los datos importados incluyen una clave de vista de almacén `swatch_image` con un valor de `no_selection`. Anteriormente, la aplicación arrojó este error: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* La aplicación ahora actualiza las imágenes según lo esperado cuando se usa la configuración `hide_from_product_page` al importar productos en implementaciones con varias vistas de tienda.

<!-- MC-29677-->

* Las opciones personalizables ahora se importan como se espera cuando `row_id` no es igual a `entity_id` de un producto. Anteriormente, la aplicación no importaba opciones personalizables cuando `row_id` no era igual a `entity_id` de un producto, lo que provocaba que no se importaran determinados productos.

<!-- MC-29916-->

* Las imágenes asociadas con productos configurables ahora se cargan correctamente durante la importación y están disponibles para su visualización según lo esperado en la página de edición del producto.

<!-- MC-30304-->

* Los archivos exportados de `.csv` ahora reflejan la configuración del filtro para incluir productos en existencia o sin existencias. Anteriormente, la aplicación exportaba todos los productos, independientemente de la configuración de stock que seleccionara.

<!-- MC-30323-->

* Ahora puede importar o actualizar correctamente los clientes mediante la opción Cliente y direcciones de un solo archivo del flujo de trabajo de importación. Anteriormente, al seleccionar esta opción, la aplicación no importaba los datos del cliente y mostraba este error: `Invalid data for insert`.

<!-- MC-30357-->

* El Indexador de valores ahora se activa como se espera después de importar y actualizar el estado del producto. Anteriormente, el Indexador de cotizaciones no indizaba los datos de inventario de productos modificados.

<!-- MC-30528-->

* La aplicación ahora importa correctamente todas las opciones personalizadas para los productos secundarios de un producto configurable cuando se especifica `store_view_code`. Esto funciona tanto si elige importar productos configurables de forma individual como colectiva. Anteriormente, la aplicación no importaba correctamente todas las opciones personalizadas cuando el archivo de importación contenía más de un elemento y se especificaba `store_view_code`.

<!-- MC-30672-->

* La aplicación ahora proporciona un mensaje durante la importación del producto que identifica qué productos del archivo `.csv` importado tienen claves duplicadas. Los comerciantes pueden utilizar esta información para resolver conflictos. Anteriormente, la aplicación mostraba este error: `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* La aplicación muestra ahora un mensaje de error más informativo y no muestra un vínculo de descarga cuando intenta eliminar un directorio de la lista **Sistema** > **Exportar**. Anteriormente, cuando se intentaba eliminar un directorio de esta lista, la aplicación seguía mostrando un vínculo de descarga para los archivos que no se podían descargar y mostraba un mensaje de error no informativo.

<!-- MC-29959-->

* El archivo `.csv` que se usa durante la importación ahora contiene los vínculos correctos para los productos descargables y ahora tiene el formato correcto para admitir la importación y actualización de productos descargables.

<!-- MC-30189-->

* La aplicación ahora exporta correctamente un archivo `.csv` cuando establece el comportamiento de importación para Reemplazar, selecciona un archivo `.csv` exportado anteriormente y hace clic en **Comprobar datos**. Anteriormente, la aplicación mostraba este error: `Data validation failed. Please fix the following errors and upload the file again` y `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* El Indexador de valores ahora se activa como se espera después de importar y actualizar el estado del producto. Anteriormente, el Indexador de cotizaciones no indizaba los datos de inventario de productos modificados.

<!-- MC-31198-->

* `.csv` archivos generados durante la importación de productos ahora contienen títulos de grupo para productos descargables según lo esperado. Anteriormente, la validación innecesaria de `group_title` durante la importación impedía que se mostraran los títulos de grupos de los productos descargables.

<!-- MC-32153-->

* Cuando `cron` está habilitado y usted realiza una importación de cliente utilizando la opción **(Cliente y direcciones (un solo archivo))**, la aplicación rellena los datos en la cuadrícula del cliente de administración según lo esperado. La cuadrícula cliente muestra los clientes una vez que se completa la reindexación manual de `customer_grid indexer`. Anteriormente, la aplicación no actualizaba la cuadrícula del cliente con direcciones de clientes recién importadas.

<!-- MC-32154-->

* La aplicación ahora muestra la lista de clientes como se espera después de la reindexación automática. Anteriormente, aunque la ejecución manual de `bin/magento index:reindex` funcionaba, la cuadrícula del cliente no mostraba información del cliente después de la reindexación automática.

<!-- MC-30148-->

* La aplicación ahora elimina los archivos temporales de `<Magento_home>/var` como se esperaba después de que la importación del producto se haya completado.

<!-- MC-31879-->

* La aplicación ya no crea SKU duplicadas en el administrador cuando los productos se importan mediante el archivo `.csv`.

<!-- ENGCOM-6141-->

* La importación ya no falla cuando el atributo configurable importado incluye un signo igual (=) en su valor. _Corrección enviada por dhoang89 en la solicitud de extracción [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* Ahora, todos los datos de cuadrícula exportados (tanto los datos de Magento Open Source como los personalizados) tienen rótulos de opciones en lugar de valores de opciones para todas las columnas con el tipo `Select` o `Multiselect`. Anteriormente, al exportar estos datos, la hoja de cálculo exportada contenía Columnas con Id. en lugar de los valores mostrados en la cuadrícula. _Corrección enviada por Maksym Novik en la solicitud de extracción [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* La aplicación ahora muestra los productos agrupados en la tienda como se espera después de actualizar un producto importando un archivo de `.csv`. _Corrección enviada por Pavel Bystritsky en la solicitud de extracción [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### Índice

<!-- MC-25236 30779-->

* Hemos mejorado el rendimiento de `indexer_update_all_views`. La indexación ahora es más rápida, ya no se procesan reglas inactivas y las cachés se borran de las entradas solo para los productos modificados.

<!-- MC-29917-->

* Los precios de los productos en la tienda ahora reflejan con precisión la aplicación de una actualización programada de la regla de precios de catálogo. Anteriormente, los precios no reflejaban la regla de precios del carro de compras programada hasta que se volvió a indexar manualmente (`php bin/magento indexer:reindex catalogrule_rule`).

<!-- MC-30588-->

* Ahora puede reindexar correctamente la base de datos de productos después de agregar un atributo que no se puede buscar (es decir, los atributos `is_searchable`, `is_filterable`, `is_visible_in_advanced_search` están deshabilitados).

<!-- ENGCOM-6533-->

* La aplicación ahora muestra un mensaje que identifica el indizador y el tiempo que tardó la operación de indización cuando falla una operación de reindexación. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* Los productos que se guardan en tiendas donde el indizador `onthefly` y las tablas planas están habilitados ahora respetan las asignaciones de sitios web. Anteriormente, si se eliminaban todas las asignaciones de sitios web de un producto y después se guardaba, todas las tablas planas incluían el producto, a pesar de las asignaciones de sitios web especificadas.  _Corrección enviada por Abel Truong en la solicitud de extracción [27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### Infraestructura

* El explorador Internet Explorer 11.x ya no es compatible.

<!-- MC-32223-->

* La lógica de validación asociada con el campo **Fecha de nacimiento** del formulario de registro de cliente ya no déclencheur un error de JavaScript.

<!-- ENGCOM-7000-->

* Se agregó una prueba de integración para cubrir `$storeId` para el método de Repositorio de categorías `get()`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* Si habilita la configuración **Bloquear todas las cookies** en Safari, ya no se producirán errores de JavaScript y la aplicación mostrará el mensaje `cookies disabled` según lo esperado. Anteriormente, la aplicación mostraba varios errores `SecurityError (DOM Exception 18): The operation is insecure` en la consola. _Corrección enviada por Ra̼l Verdugo Lorenzo en la solicitud de extracción [25324](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* La aplicación ya no genera este error al ejecutar pruebas de integración: `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. Anteriormente, un problema con `AutoloaderRegistry::getAutoloader` provocaba que las pruebas de integración fallaran aleatoriamente. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* La etiqueta `date` de `/module-sales/view/frontend/templates/order/order_date.phtml` se ha corregido a `span`. Anteriormente, la aplicación registraba un error en el archivo `exception.log` al hacer clic en **Ver pedido** en la página de la tienda **Mi cuenta** > **Mis pedidos**. _Corrección enviada por Andrii Chorniy en la solicitud de extracción [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* El módulo de mezcla de JavaScript se ha refactorizado para mejorar la carga y aplicación de mezclas para módulos agrupados avanzados. Anteriormente, la aplicación no cargaba ni aplicaba mezclas para módulos agrupados avanzados.  _Corrección enviada por Mateusz Krzeszowiak en la solicitud de extracción [25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* El comando `grunt clean` ahora limpia el código generado y las carpetas de metadatos según lo esperado. _Corrección enviada por Andrii Beziazychnyi en la solicitud de extracción [25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* El resultado `getVersion` (`ProductMetadata::getVersion`) ahora se almacena en caché, lo que mejora el rendimiento del método `ProductMetadata::getVersion`.  _Corrección enviada por Lukasz Lewandowski en la solicitud de extracción [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* Se ha agregado un establecedor que falta para `additional_information` a `OrderPaymentInterface`, lo que resuelve una incoherencia entre su declaración de esquema y las propiedades aceptadas. _Corrección enviada por Antonino Bonumore en la solicitud de extracción [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### Navegación por capas

<!-- MC-31763-->

* La aplicación ahora procesa el atributo **Yes/No** en la página Categoría cuando **Usar en navegación por capas: filtrable (con resultados)** para las propiedades de tienda está habilitado.

<!-- ENGCOM-6807-->

* La redundancia `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` ha quedado obsoleta en favor de `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _Corrección enviada por Adarsh Manickam en la solicitud de extracción [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### Galería de medios

<!-- ENGCOM-6993-->

* Al hacer clic en **Introducir** después de asignar un nombre a una nueva carpeta en la Galería multimedia, ahora se guardarán todos los cambios que haya realizado. Anteriormente, al hacer clic en **Entrar** en lugar de usar el mouse para seleccionar **Aceptar**, se perdieron todos los cambios.  _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* Ahora puede crear una subcarpeta en la Galería multimedia que tenga el mismo nombre que la carpeta principal. Anteriormente, no se podía guardar la subcarpeta con el mismo nombre. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### Almacenamiento de medios

<!-- MC-32593-->

* `var/resource_config.json` ya no se regenera cada vez que `get.php` solicita una imagen. Anteriormente, este archivo se reescribía en cada llamada a `get.php`.

### Newsletter

<!-- MC-31768-->

* Los clientes ahora pueden suscribirse según lo esperado a los boletines informativos. Anteriormente, cuando un cliente intentaba confirmar su suscripción, la aplicación mostraba este error: `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* El campo de entrada de la newsletter del pie de página de la tienda ahora se representa de forma idéntica en cualquier navegador compatible.  _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* Los mensajes de tienda sobre las suscripciones al boletín informativo ahora se representan como se espera en HTML. _Corrección enviada por Oleh Usik en la solicitud de extracción [26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### Pedidos

<!-- MC-33456-->

* Los subtotales de resumen de pedidos ya no muestran los impuestos excluidos cuando la configuración de visualización del sitio web especifica que se deben excluir los impuestos. Anteriormente, cuando se configuraban varios sitios web con diferentes configuraciones de visualización, se utilizaba la configuración definida en la variable del servidor para la tienda a pesar de las configuraciones en el nivel de tienda.

### Métodos de pago

<!-- MC -->

* Se ha eliminado la integración de métodos de pago de terceros Authorize.Net, eWay, CyberSource, Braintree y Worldpay en el código principal. Los comerciantes deben migrar a las extensiones oficiales disponibles en el Commerce Marketplace.

<!-- MC -->

* Ya no se admite la implementación central de la protección contra fraudes significativa. Los comerciantes deberían migrar a la extensión de [Protección contra fraudes y recargos significativa](https://marketplace.magento.com/signifyd-module-connect.html) que está disponible en Commerce Marketplace.

<!-- MC-32546-->

* Ahora puede completar correctamente un pedido y regresar a la página de inicio del comerciante cuando se configure **Solución hospedada de Website Payments Pro**. Anteriormente, al hacer clic en **Volver al comerciante**, la aplicación arrojó este error: `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* Cambiar la dirección de facturación ya no hace que el texto de la función de JavaScript se represente en la sección de pago del flujo de trabajo de cierre de compra de la tienda. _Corrección enviada por Chris Pook en la solicitud de extracción [26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* Las notas de abono ahora muestran el importe correcto en el campo **Reembolso por ajuste** de la descripción general de las notas de abono.  _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* Ahora puede quitar información adicional de la tabla `quote_payment column additional_information` después de guardar un presupuesto. Anteriormente, no se podía quitar esta información después de guardar el presupuesto porque el método `unsAdditionalInformation` de `\Magento\Payment\Model\Info` no inicializaba los datos correctamente.  _Corrección enviada por Marco Oliveira en la solicitud de extracción [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* Las instrucciones de pago ahora se derivan de la vista de tienda desde la que se realizó un pedido. Anteriormente, las instrucciones de pago se usaban en la vista de tienda predeterminada porque el método `BeforeOrderPaymentSaveObserver` recuperaba las instrucciones de pago de la vista de tienda predeterminada. _Corrección enviada por Karyna Tsymbol en la solicitud de extracción [26399](https://github.com/magento/magento2/pull/26399)_. [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* La aplicación ahora recopila la información de pago que se muestra en el Administrador y en las facturas de factura y envío del almacén en el que se realizó el pedido en implementaciones con varias tiendas. Anteriormente, la aplicación derivaba información de pago de la tienda predeterminada.  _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* La aplicación ahora muestra un mensaje de error informativo cada vez que un cliente hace clic en **Pagar con PayPal** después de escribir una dirección de envío no válida en el flujo de trabajo de pago. Anteriormente, la aplicación solo mostraba un mensaje de error cuando el cliente hacía clic en el botón por primera vez, no para los clics posteriores.

<!-- MC-30639-->

* La aplicación ya no cambia el estado de un pedido a `Processing` en la sección Revisión de pago del flujo de trabajo de pago cuando falla un pago con PayPal.

<!-- MC-30864-->

* Ahora puede completar correctamente un pedido utilizando el método de pago de enlace de flujo de pago. Anteriormente, el método de pago Vínculo de flujo de pago siempre rechazaba el pago porque el estado del pedido permanecía en el estado de pago `Pending`, aunque el estado del pedido en los registros del método de pago era `Approved`.

<!-- MC-32494-->

* Los pedidos que se realizan con PayPal Payflow Pro ahora se establecen en estado `Suspected Fraud` cuando se activan los filtros de fraude.

<!-- MC-33110-->

* Ahora puedes usar Pago y envío mediante PayPal Express con cualquier tarjeta de crédito compatible. Anteriormente, al hacer clic en un botón de tarjeta de crédito mientras se utilizaba Pago y envío de PayPal Express para completar un pedido, se bloqueaba la solicitud y no se podía introducir ningún dato de tarjeta de crédito.

<!-- MC-33117-->

* Los pedidos realizados dentro de PayPal Payflow Pro ahora se establecen en el estado `Suspected Fraud` cuando se activan los filtros de fraude. Anteriormente, el estado de la transacción de pago en PayPal no se validaba antes de que se aprobara en el lado de la solicitud.

<!-- MC-33294-->

* Payflow Pro ahora funciona como se espera cuando las restricciones del sitio web están habilitadas.

<!-- MC-31196-->

* La aplicación ahora procesa correctamente los pedidos realizados con Pago y envío mediante PayPal Express, donde la dirección de envío del pedido especifica una región del país que el cliente ha introducido manualmente en el campo de texto en lugar de seleccionar en el menú desplegable de la página Envío. Anteriormente, la aplicación mostraba este error en la página de revisión de pedidos: `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* El método de pago PayPal Pro ahora funciona como se espera en el navegador Chrome 80. Anteriormente, este método de pago invocaba un extremo de llamada de retorno que necesitaba acceso a la sesión del cliente, acceso que la nueva funcionalidad de cookie predeterminada de Chrome SameSite no permite. [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* Ahora puedes usar PayPal Express correctamente para pagar un pedido cuando se haya habilitado el carro de compras persistente y la configuración **Borrar persistencia al cerrar la sesión** esté establecida en **no**. Anteriormente, la aplicación le redirigía a la página Inicio de sesión.

<!-- ENGCOM-6383-->

* Los pagos de Paypal Express y Web Payments Pro ahora pasan al estado `Processing` tal como se esperaba una vez que se ha iniciado el procesamiento. Anteriormente, los pagos de Paypal Web Payments Pro permanecían en el estado de pago `Pending` incluso cuando la información de pago estaba en el estado `Processing`. _Corrección enviada por Azambon en la solicitud de extracción [25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### Rendimiento

<!-- MC-31499-->

* Se ha mejorado la lógica de invalidación de la sección de datos del cliente. Esta versión presenta una nueva forma de invalidar todos los datos de secciones de clientes que evita un problema conocido con el almacenamiento local cuando las invalidaciones de `sections.xml` personalizadas están activas. (Anteriormente, el contenido privado (almacenamiento local) no se rellenaba correctamente cuando tenía un *etc/frontend/sections.xml* personalizado con invalidaciones de acción). Ver [contenido privado](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

<!-- MC-31449-->

* Se ha refactorizado la importación de cuentas de cliente para mejorar la velocidad de importación.

<!-- MC-23383 ENGCOM-7006-->

* Los comerciantes ahora pueden usar [carga diferida](https://en.wikipedia.org/wiki/Lazy_loading) para cargar imágenes. _Corrección enviada por Timon de Groot en la solicitud de extracción [27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* Los gráficos del panel se han migrado a la biblioteca `chart.js`.  _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* El rendimiento de las operaciones que se ejecutan en catálogos grandes que contienen muchos atributos de producto (en una escala de 3000 a 23000 opciones) se ha mejorado mediante la refactorización del modo en que se crean las matrices de opciones de atributos. _Corrección enviada por Behnam Shayani en la solicitud de extracción [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### Precio

<!-- ENGCOM-6647-->

* La aplicación ahora guarda y muestra el precio correcto para los productos clasificados incluso después de haber editado los productos varias veces. Anteriormente, la aplicación no guardaba las últimas ediciones realizadas en el precio del producto. _Corrección enviada por Ravi Chandra en la solicitud de extracción [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* Tanto el porcentaje de ahorro fijo como el de descuento ahora se aplican correctamente al precio final de un pedido. Anteriormente, la aplicación mostraba un porcentaje de ahorro de precio de nivel incorrecto (tanto fijo como de descuento) en la página de detalles del producto. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

<!-- MC-30255-->

* El correo electrónico de alerta de existencias enviado a los clientes sobre el reabastecimiento de un producto configurable ahora contiene el precio de producto correcto. Anteriormente, este correo electrónico contenía un precio de producto de 0.

<!-- MC-32873-->

* La cancelación de la suscripción a la alerta de existencias de productos ahora funciona cuando la sesión de un usuario ha caducado. Anteriormente, al hacer clic en el vínculo **Haga clic aquí para detener las alertas de este producto**, la aplicación mostraba un error 404.

<!-- MC-31979-->

* Las acciones de cancelación de suscripción para alertas de productos ahora funcionan según lo esperado. Anteriormente, cuando un cliente hacía clic en el vínculo **Haga clic aquí para detener las alertas de este producto**, la aplicación mostraba un error 404.

### Vídeo del producto

<!-- MC-23743-->

* Ahora puede usar REST para actualizar vídeos de YouTube (PUT `rest/V1/products/{SKU}`). Anteriormente, la aplicación mostraba una miniatura del vídeo, pero el reproductor de vídeo no se cargó al hacer clic en el botón **Reproducir**. [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### Informes

<!-- ENGCOM-6635-->

* Las listas de productos ahora solicitan productos configurables por SKU, que agrupa los productos configurables por variaciones. Anteriormente, el informe agrupaba los productos por `product_id`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* La tabla **Administración** > **Informes** > **Actualizar estadísticas** ahora muestra **Actualizado en = Nulo** estado como **Nunca** en la columna **Actualizado** en lugar de **indefinido**. _Corrección enviada por Eden Duong en la solicitud de extracción [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* El informe Bajo stock ya no incluye productos desactivados. _Corrección enviada por Mohamed-Asar en la solicitud de extracción [26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* La aplicación ahora muestra un valor preciso para el campo **Comienza el año hasta la fecha** en **Administración** > **Tiendas** > **Configuración** > **General** > **Informes**. _Corrección enviada por Priya-V-Panchal en la solicitud de extracción [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### Críticas

<!-- MC-29578-->

* La aplicación ahora deshabilita el botón **Enviar revisión** después de que el usuario haga clic en el botón una vez. Anteriormente, la aplicación no deshabilitaba este botón después del primer clic y creaba varias revisiones cuando el usuario hacía clic en el botón **Enviar revisión** varias veces.

<!-- MC-31293-->

* La lista de filtros **Administración** > **Informes** > **Críticas** > **Por productos** ahora muestra los resultados según lo esperado. Anteriormente, cuando se intentaba filtrar esta lista, la aplicación no mostraba ningún resultado.

<!-- ENGCOM-6938-->

* El elemento de menú Revisiones pendientes ahora está activado como se espera en **Administrador** > **Marketing** > **Contenido de usuario** > **Revisiones pendientes**.  _Corrección enviada por Ravinder en la solicitud de extracción [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### Ventas

<!-- MC-29426-->

* Los pedidos completados ahora aparecen tanto en el sistema de pago como en el Magento Open Source. Anteriormente, los pedidos aparecían en el sistema de pago, pero no en el Magento Open Source. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* La aplicación respeta ahora la dirección de envío predeterminada de un cliente. Anteriormente, la aplicación no respetaba las direcciones de facturación y envío predeterminadas según la configuración, y la opción **Igual que la dirección de facturación** no se habilitaba automáticamente.

<!-- MC-30299-->

* La aplicación ahora calcula correctamente los reembolsos de los pedidos que incluyen descuentos. Anteriormente, la aplicación calculaba incorrectamente el impuesto de envío y el descuento de envío, y el total reembolsado no coincidía con el total pagado.

<!-- MC-33165-->

* La aplicación ahora asigna el ID de grupo correcto cuando un nuevo cliente crea un pedido en implementaciones de varios sitios. Anteriormente, la aplicación aplicaba la configuración del grupo de clientes predeterminado.

<!-- MC-31786-->

* Los administradores con permisos restringidos que incluyen permiso de visualización para notas de abono, facturas y envíos ahora pueden ver facturas y envíos desde la página Pedidos según lo esperado. Anteriormente, cuando un administrador restringido intentaba ver un pedido, la aplicación mostraba este error: `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* La aplicación ya no muestra un error cuando un cliente agrega una cantidad de un producto al carro de compras que supera la mitad del stock de productos existente, pero no supera el stock total. Anteriormente, en estas circunstancias, la aplicación mostraba este error: `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* Ahora puede añadir correctamente un producto al carro de compras desde el Administrador cuando la cantidad de stock es 1. Anteriormente, la aplicación no agregaba el producto al carro y mostraba este mensaje: `The requested qty is not available`. _Corrección enviada por Serhii Petrychenko en la solicitud de extracción [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* La aplicación ahora muestra un mensaje de error informativo cuando un administrador de tienda intenta reordenar un producto cuya opción personalizada tiene un nombre que supera el número máximo de caracteres. Anteriormente, en estas condiciones, la aplicación mostraba la página Informe, no un mensaje. _Corrección enviada por Mudit Shukla en la solicitud de extracción [26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* El diseño del formulario de edición de la información de la dirección del pedido de ventas se ha refactorizado para que coincida con las convenciones de la biblioteca del formulario de administración. _Corrección enviada por Alexey Rakitin en la solicitud de extracción [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* Las casillas de verificación de la sección Productos de la página **Catálogo** > **Categorías** ahora funcionan según lo esperado.  _Corrección enviada por Denis Kopylov en la solicitud de extracción [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* El método `getCustomer` ahora devuelve el objeto cliente como se define en el bloque `phpdoc`. Anteriormente, este método devolvió `NULL` y el bloque `phpdoc` no resaltó que este método pudiera devolver `NULL`. _Corrección enviada por Fanis Strezos en la solicitud de extracción [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* Los repedidos ahora están deshabilitados como se espera cuando un comerciante deshabilita **Administración** > **Tienda** > **Configuración** > **Ventas** > **Reordenar** > **Permitir pedido**.  _Corrección enviada por Eden Duong en la solicitud de extracción [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* El método `getPrice()` ahora devuelve un valor flotante o nulo en lugar de una cadena al establecer un precio personalizado para un pedido en el Administrador.  _Corrección enviada por Andrii Chorniy en la solicitud de extracción [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* La columna **Código de estado y Título** de **Administración** > **Tiendas** > Configuración > **Estado del pedido** ahora muestra el estado en lugar del estado esperado.  _Corrección enviada por Oleh Usik en la solicitud de extracción [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* Las facturas de PDF ahora registran la fecha de compra correcta cuando se crean en una configuración regional GB. _Corrección enviada por Eden Duong en la solicitud de extracción [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### Regla de ventas

<!-- MC-30155-->

* `quote_item.applied_rule_ids` se ha actualizado según lo esperado después de deshabilitar una regla de precios del carro de compras. [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* La aplicación ahora muestra los árboles de categorías como se espera cuando se intenta crear o editar una regla de precios del carro de compras. Anteriormente, al seleccionar una categoría en la sección Condición mientras se creaba o editaba una regla, se producían errores de JavaScript.

<!-- ENGCOM-6824-->

* La aplicación ahora calcula correctamente los descuentos fijos en el nivel del carro de compras mediante las reglas de precios del carro de compras cuando se agrega por primera vez un producto configurable al carro de compras. _Corrección enviada por Lachlan Turner en la solicitud de extracción [26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### Buscar {#search-heading}

* Elasticsearch 7.6.x es ahora el motor de búsqueda de catálogo predeterminado para Adobe Commerce y Magento Open Source. No puede instalar ni actualizar a la versión 2.4.0 sin instalar también Elasticsearch 7.6.x. Se ha eliminado el código de la versión 2.x del Elasticsearch. Las versiones 5.x y 6.x de Elasticsearch han quedado obsoletas y ya no son compatibles. Consulte [Requisitos previos del motor de búsqueda](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* La aplicación ahora procesa correctamente los símbolos **&lt;** y **>** en las cadenas de búsqueda del catálogo de tiendas.

<!-- MC-25010-->

* Los productos ahora se muestran como se espera en las categorías después de ejecutar `cron:run` en implementaciones implementando el Elasticsearch.

<!-- MC-25254-->

* La aplicación ya no requiere un reíndice de búsqueda completo para que se pueda buscar un nuevo atributo de producto en la tienda.

<!-- MC-29545-->

* Ahora, el Elasticsearch funciona según lo esperado al ordenar una lista de productos que contiene paquetes de productos por nombres de productos alfabetizados.

<!-- MC-29951-->

* Los resultados del filtrado ya no incluyen opciones sin existencias al filtrar productos configurables en una categoría.

<!-- MC-30131-->

* Ahora, al seleccionar todos los productos de la página de lista de productos mediante el Elasticsearch, se muestran todos los productos en los resultados de búsqueda según lo esperado. Anteriormente, la aplicación no mostraba resultados de búsqueda.

<!-- MC-30201-->

* El Elasticsearch ahora muestra correctamente los resultados de las páginas de categoría cuando cambia el número de resultados de búsqueda vistos por página. Anteriormente, cuando se cambiaba la cantidad de resultados de búsqueda que deberían mostrarse en la página de resultados, la aplicación mostraba una página en blanco y este error: `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* La clasificación de precios ahora funciona correctamente para productos configurables sin existencias.

<!-- MC-25176-->

* La aplicación ya no genera una excepción cuando un cliente utiliza la búsqueda rápida de tiendas en implementaciones de varios sitios web.

<!-- ENGCOM-6842-->

* La aplicación ya no muestra una advertencia cuando un comerciante abre la página del término de búsqueda haciendo clic en la opción Términos de búsqueda en el pie de página de **Marketing** > **SEO y búsqueda** > **Términos de búsqueda**.  _Corrección enviada por vishal-webkul en la solicitud de extracción [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* La aplicación ya no cambia el tamaño de la ventanilla móvil al hacer clic en el cuadro de entrada de búsqueda al ejecutar Safari en la vista móvil.  _Corrección enviada por Pawe Tylek en la solicitud de extracción [27603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Las versiones de los Elasticsearch ahora se identifican con la notación X.x en lugar de la notación X.0+ en el administrador (**Almacenes** > Configuración > **Configuración** > **Catálogo** > **Catálogo** > **Búsqueda en el catálogo**). _Corrección enviada por Andreas Mautz en la solicitud de extracción [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### Envío

<!-- MC-32782-->

* Ahora puede enviar un pedido a varias direcciones si uno de los productos pedidos es un producto virtual. Anteriormente, la aplicación realizaba correctamente el pedido de los productos físicos, pero el pedido del producto virtual estaba vacío.

<!-- MC-29276-->

* La aplicación ahora aplica descuentos de cantidad fija y de todo el carro de compras correctamente para pedidos que se envían a varias direcciones. Anteriormente, este tipo de descuento se aplicaba varias veces cuando un cliente retiraba un pedido mediante el método de extracción con varias direcciones. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* La lista desplegable disponible para seleccionar métodos de envío durante el proceso de creación de una regla de precio de carro de compras ahora solo contiene valores válidos. Anteriormente, esta lista desplegable contenía valores vacíos o adicionales.

<!-- MC-30186-->

* La aplicación ahora imprime las etiquetas de envío como un archivo de `.pdf`, tal como se espera cuando selecciona **Imprimir etiqueta de envío** en la lista desplegable Acción de un pedido de la lista de archivos de pedidos. Anteriormente, la aplicación mostraba un error 404.

<!-- MC-31396-->

* Las reglas de precios de envío gratuito ahora afectan únicamente a los productos relevantes cuando un carro de compras contiene productos de categorías que están incluidas en la regla de precios de envío gratuito, así como productos de categorías no incluidas en la regla. Anteriormente, cuando un carro de compras incluía productos de las categorías de envío gratuito, así como otras categorías no incluidas en la regla de precio, el envío gratuito no se aplicaba a ningún producto.

<!-- ENGCOM-6436-->

* La aplicación ya no muestra una página en blanco en lugar de mostrar todos los transportistas en el cuadro desplegable/de selección múltiple. Anteriormente, se produjo un error en la función `toOptionArray` de `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php`. _Corrección enviada por Marc Rodríguez en la solicitud de extracción [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* La aplicación ya no aplica un descuento de importe fijo varias veces cuando un cliente crea un pedido que se enviará a varias direcciones.  _Corrección enviada por Mahesh Singh en la solicitud de extracción [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* Los complementos de `Magento\Ups\Model\Carrier` que implementan `di.xml` personalizado ahora funcionan correctamente en el modo de desarrollador. Anteriormente, la aplicación arrojó este error: `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Sitemap

<!-- MC-29362-->

* La aplicación ahora utiliza la dirección URL base del proyecto como se espera cuando se genera un mapa del sitio.

<!-- ENGCOM-6670-->

* Los mapas de sitio generados ahora incluyen la dirección URL de la página principal. _Corrección enviada por deepaksnair en la solicitud de extracción [26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### Almacenar

<!-- MC-25187-->

* Las sesiones de los clientes ahora persisten según lo esperado cuando un cliente inicia sesión en una tienda, agrega productos al carro de compras y, a continuación, cambia a una nueva tienda en una implementación de varias tiendas. Anteriormente, cuando el cliente navegaba a la segunda tienda, la aplicación cerraba la sesión del cliente y vaciaba el carro de compras.

<!-- ENGCOM-4781-->

* La aplicación ahora elimina los registros relacionados con una vista de almacén eliminada de las tablas `sale_sequence_meta` y `sales_sequence_profile` según lo esperado. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [22296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* El conmutador de tiendas ahora funciona según lo esperado al cambiar entre tiendas que tienen distintas URL base. Anteriormente, cuando un cliente utilizaba el conmutador de tiendas para cambiar entre tiendas, la solicitud fallaba si el almacén de destino tenía una dirección URL base diferente a la del almacén actual. _Corrección enviada por Tobias Nilsson en la solicitud de extracción [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### Muestras

<!-- MC-30294-->

* Los comerciantes ahora pueden agregar correctamente atributos de muestra de color a los productos usando la opción **Muestra visual** en **Tiendas** > **Atributos** > **Producto** > **Nuevo atributo**. Anteriormente, se activaba un error de JavaScript al intentar abrir el atributo de muestra recién creado.

<!-- ENGCOM-6750-->

* El precio mínimo anunciado ahora cambia según lo esperado cuando un cliente selecciona una nueva opción de muestra para un producto configurable. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* La aplicación ya no duplica el precio mínimo anunciado de un producto configurable al seleccionar una nueva opción de muestra. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* Se han corregido problemas con el comportamiento del menú desplegable en el área Administrar muestra (Valores de su atributo) de la página Nuevo atributo de producto.  _Corrección enviada por Oleh Usik en la solicitud de extracción [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* El bloque de productos relacionado que se muestra para un producto en la tienda ahora muestra los productos que cumplen los criterios definidos en la regla de productos relacionados. Anteriormente, la aplicación no mostraba ningún producto relacionado.

### Impuestos

<!-- MC-29579-->

* La aplicación ahora actualiza las tarifas y los precios de envío según lo esperado cuando un cliente cambia el país de destino de un pedido durante el cierre de compra.

<!-- MC-30546-->

* El envío gratuito ahora se aplica según lo esperado según la regla de precio del carro de compras aplicable. Anteriormente, las reglas de precios del carro de compras no tenían en cuenta los impuestos al calcular si un pedido cumplía los criterios de envío gratuito.

### Prueba

>[!NOTE]
>
>**MFTF ahora usa Google Authenticator para ejecutar pruebas con 2FA habilitado. MFTF no funcionará con 2.4.0 sin pasos de configuración adicionales para habilitar Google Authenticator**. Consulte [Configuración de MFTF para autenticación de doble factor (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* Las direcciones URL codificadas en pruebas y grupos de acciones se han sustituido por referencias de página. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción 117 en el repositorio privado partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* Las pruebas ahora cubren la tarea de registrar acciones de administración relacionadas con páginas de CMS. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción 172 en el repositorio privado partners-magento2ee_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* Se han revisado nombres de pruebas funcionales no válidos para seguir las prácticas recomendadas. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [27118](https://github.com/magento/magento2/pull/27118) y la solicitud de extracción 151 en el repositorio privado partners-magento2ee. [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* El Magento Open Source `cron` se usa ahora para volver a indexar después de crear los datos de prueba y, cuando corresponda, `cache:flush config` reemplaza a `cache:flush`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* Las pruebas de aceptación ahora siguen las convenciones de nomenclatura de los módulos `Magento/Indexer` y `Magento/Backup`.  _Corrección enviada por Shankar Konar en la solicitud de extracción [27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* La prueba `AdminReorderWithCatalogPrice` se ha refactorizado y ya no da error durante el proceso de validación de CI. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción 135 en el repositorio privado partners-magento2ee_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* Las pruebas `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` y `StorefrontApplyPromoCodeDuringCheckout` se han refactorizado y ya no dan error durante el proceso de validación de CI. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26611](https://github.com/magento/magento2/pull/26611) y la solicitud de extracción [26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* Las pruebas `DeleteProduct and DeleteCustomer Action Groups` se han refactorizado y ya no dan error durante el proceso de validación de CI. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* Las pruebas `AdminMoveAnchoredCategoryTest.xml` se han refactorizado y ya no dan error durante el proceso de validación de CI. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### Pruebas de integración

<!-- ENGCOM-7143-->

* Las solicitudes consecutivas en las pruebas de integración ya no fallan. Anteriormente, las pruebas fallaban porque los objetos de solicitud se compartían entre las entregas. El método `resetRequest` ahora vacía el estado de `request`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* Se agregaron pruebas de integración adicionales para cubrir las características de correo electrónico de `Magento_Customer`. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### Pruebas unitarias de PHP

<!-- ENGCOM-7435 7306-->

* Las pruebas unitarias de PHP ya no generan este error irrecuperable: `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _Corrección enviada por Lukasz Bajsarowicz en las solicitudes de extracción 178 en los socios de repositorio privados-magento2ee y [27701](https://github.com/magento/magento2/pull/27701)_. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* Las pruebas de `Offline_Payments` ahora son compatibles con PHPUnit 8.  _Corrección enviada por Cristiano Pacheco en la solicitud de extracción [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* Las pruebas unitarias de `Framework`, `AdminAnalytics`, `AdminNotification` y `AMPQ` se han actualizado para PHPUnit 8. _Corrección enviada por Ihor Sviziev en solicitudes de extracción [27522](https://github.com/magento/magento2/pull/27522), [27521](https://github.com/magento/magento2/pull/27521), [27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* Ahora puede ejecutar la prueba unitaria `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` sin estar conectado a Internet.  _Corrección enviada por aleromano89 en la solicitud de extracción [26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* Se agregó la prueba unitaria para `app/code/Magento/Fedex/Model/Source/Generic.php`. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` se ha agregado a varias pruebas, lo que déclencheur la reindexación parcial. Este cambio resuelve los problemas que crearon falsos negativos en las pruebas funcionales que abarcaban `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree` y `Captcha`. _Corrección enviada por Lukasz Bajsarowicz en las solicitudes de extracción [27322](https://github.com/magento/magento2/pull/27322), [27323](https://github.com/magento/magento2/pull/27323), [27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* Todos los usos incorrectos de `<amOnPage>` se han reemplazado con un `<actionGroup>` apropiado para que el administrador cierre la sesión cuando corresponda en las pruebas. _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción 116 en el repositorio privado partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* Cada grupo de acción de una prueba se ha movido a un archivo independiente para seguir las prácticas recomendadas de MFTF, y se han revisado nombres de archivo incoherentes. Las pruebas para los siguientes módulos se han visto afectadas:

   * module-catalog-permissions
   * module-shared-catalog
   * module-catalog-event
   * module-banner
   * module-admin-gws
   * module-advanced-checkout
   * envío de módulos
   * module-ui
   * envío de módulos
   * module-checkout-address-search
   * module-sales
   * module-catalog
   * module-catalog-rule-staging
   * module-visual-merchandiser
   * module-customer

  _Corrección enviada por Lukasz Bajsarowicz en las solicitudes de extracción [25800](https://github.com/magento/magento2/pull/25800), [26323](https://github.com/magento/magento2/pull/26323), [26321](https://github.com/magento/magento2/pull/26321), [26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319), [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) (y las solicitudes de extracción 104, 105, 106, 107, 108, 109, 111 1, 119, 120, 121 en el repositorio privado partners-magento2ee)_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### Tema

<!-- MC-29804-->

* Se ha resuelto un error en `JsFooterPlugin.php` que afectaba a la visualización de bloques dinámicos. Anteriormente, la aplicación mostraba este error cuando se tenía acceso directo a `/banner/ajax/load/url`: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* El método `i18n` proporciona la capacidad de agregar una cadena a plantillas de guiones bajos.  _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* El módulo `section-config` se ha refactorizado. Esta refactorización ha reducido los errores causados por módulos de terceros que realizan solicitudes de POST o solicitan datos de clientes directamente antes de que `data-mage-init` inicializara el módulo. _Corrección enviada por Mateusz Krzeszowiak en la solicitud de extracción [25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* Se han corregido `LoadCssAsync` errores de formato del HTML. _Corrección enviada por Sathish Subramanian en la solicitud de extracción [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* Cuando crea `default.xml` y `catalog_product_view.xml` archivos como parte de la creación de un nuevo tema, la aplicación crea estas páginas o registra los errores en los archivos de registro según lo esperado. Anteriormente, la aplicación registraba errores en el archivo `vendor/magento/framework/View/Page/Config/Renderer.php`. _Corrección enviada por Vinh Le en la solicitud de extracción [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### Traducción y configuraciones regionales

<!-- MC-24186-->

* La traducción en línea ahora funciona como se espera en la tienda cuando se establece **Administración** > **Tiendas** > **Configuración** > **Avanzado** > **Desarrollador** > **Traducir en línea** > **Habilitado para tienda**.

<!-- MC-31663-->

* La traducción en línea ahora funciona según lo esperado cuando se habilita para una tienda.

<!-- ENGCOM-7064-->

* Las claves URL del producto ahora se transliteran según lo esperado. _Corrección enviada por DanieliMi en la solicitud de extracción [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* Ahora se admite la configuración regional `es_US Spanish (United States)`. _Corrección enviada por Vinh Le en la solicitud de extracción [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* El recuento numérico de marcadores de posición y el recuento de marcadores de posición de código JavaScript ahora son iguales. Anteriormente, el código JavaScript suponía 0% mientras que el recuento numérico de marcadores de posición empezaba por %1.  _Corrección enviada por korostii en la solicitud de extracción [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* Ahora puede deshabilitar la traducción del título de página de la página Detalles del producto (`page.main.title`), que está habilitada de manera predeterminada. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* Se han resuelto los problemas con la representación del árabe y el hebreo en los PDF de facturas. _Corrección enviada por Ihor Sviziev en la solicitud de extracción [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* El orden de herencia de los paquetes de idioma ahora se aplica en una primera lista, según lo esperado y tal como se describe en la documentación.  _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* La aplicación ahora muestra este mensaje de error cuando se escribe un carácter no latino para un nombre de carpeta en configuraciones regionales donde sólo se admiten letras latinas: `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _Corrección enviada por Eden Duong en la solicitud de extracción [25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* La longitud de la columna `locale` de `directory_country_region_name` ha aumentado de 8 a 16 para admitir configuraciones regionales como `zh_Hans_CN`. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### IU

<!-- ENGCOM-7490-->

* El botón Atrás ahora funciona como se espera de **Administración** > **Tiendas** > **Estado del pedido** > **Editar el estado del pedido**. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* La vista previa de imágenes ya no cambia inesperadamente cuando se usan las teclas de dirección para mover el cursor en el campo **Nombre de archivo** de la lista Adobe Stock. _Corrección enviada por Adarsh Manickam en la solicitud de extracción [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* El campo **Su contraseña** de la sección Verificación de identidad del usuario actual de la página **Administración** > **Sistema** > **Integraciones** ahora hereda los estilos según lo esperado. _Corrección enviada por Eduard Chitoraga en la solicitud de extracción [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* La entrada validada por el validador de JavaScript en la tienda también superará la validación en el administrador. Anteriormente, el validador de JavaScript contabilizaba las líneas nuevas como un solo carácter en la tienda, pero en el servidor, `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` contabilizaba las líneas nuevas como dos caracteres. _Corrección enviada por Grzegorz Bogusz en la solicitud de extracción [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* La etiqueta `subTitle` ya no se borra al cambiar un título modal mediante la llamada `setTitle()`. Anteriormente, cuando intentaba crear un modal emergente o personalizado con un título y un subtítulo y, a continuación, cambiaba el título con el método `setTitle()`, se borraba `subTitle`. _Corrección enviada por Andrea Parmeggiani en la solicitud de extracción [26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* El submenú de la pestaña Admin Marketing ahora se ajusta automáticamente a la longitud de los elementos de menú según lo esperado.  Ahora también puede desplazarse horizontalmente.  _Corrección enviada por Paweł Tylek en la solicitud de extracción [26034](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* La columna `customer_note` de la tabla `quote` ahora usa el tipo `text` como se esperaba. Anteriormente, utilizaba el tipo `varchar(255)`. _Corrección enviada por Ravi Chandra en la solicitud de extracción [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* Se corrigieron los problemas de visualización con el encabezado de tabla en la tabla **Mi cuenta** > **Libreta de direcciones** Entradas de direcciones.  _Corrección enviada por Abrar Pathan en la solicitud de extracción [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* El símbolo de moneda utilizado en el paso de precio de navegación por capas ahora se basa en la configuración predeterminada según lo esperado.  _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* El símbolo de la moneda bielorrusa (BYR) se ha actualizado a BYN. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* La sección Comparar productos de la página Catálogo ahora se muestra como se espera en la vista móvil en pantallas con resoluciones inferiores a 767 px. _Corrección enviada por Hitesh en la solicitud de extracción [26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* El desplazamiento por las páginas de productos ahora funciona según lo esperado en la vista móvil.  _Corrección enviada por Mateusz Krzeszowiak en la solicitud de extracción [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* Ahora puede desplazarse por las imágenes en miniatura de la galería en la página del producto en la vista móvil según lo esperado. _Corrección enviada por iGerchak en la solicitud de extracción [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* Si hace clic en el título del tema en **Admin** > **Contenido** > **Temas**, ya no se generarán registros duplicados. _Corrección enviada por Eden Duong en la solicitud de extracción [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* El diseño de la página Dirección de facturación/dirección de envío del administrador se ha refactorizado para cumplir con las convenciones de visualización del formulario del administrador. _Corrección enviada por Alexey Rakitin en la solicitud de extracción [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* El vínculo Agregar para comparar de la página de detalles del producto ahora se representa correctamente en la vista móvil en pantallas con menos de 640 píxeles de resolución. _Corrección enviada por Pawe Tylek en la solicitud de extracción [26424](https://github.com/magento/magento2/pull/26424) y Tejash Kumbhare en la solicitud de extracción [26365](https://github.com/magento/magento2/pull/26365)_. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* La etiqueta **Ordenar por** ya no se superpone con el botón **Comprar por** de la página de categoría en la vista móvil. _Corrección enviada por Andrii Kartavtsev en la solicitud de extracción [26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* Ahora puede actualizar el valor de la muestra y el título del vínculo de un producto descargable activando la casilla de verificación **Usar valor predeterminado**. _Corrección enviada por Abel Truong en la solicitud de extracción [27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* Se ha corregido el espaciado entre el botón **Actualizar** y el campo **Cantidad** del minicarrito.  _Corrección enviada por Hitesh en la solicitud de extracción [26234](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* El color del borde inferior de la tabla Entradas de direcciones adicionales de la página Libreta de direcciones coincide ahora con el color del borde `thead` y `tbody`. _Corrección enviada por Tejash Kumbhare en la solicitud de extracción [26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* Los modelos de mensajes ya no realizan una acción de confirmación cuando un usuario hace clic en la superposición modal. _Corrección enviada por Serhiy Zhovnir en la solicitud de extracción [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* Se ha refactorizado el repositorio de categorías (método de guardado), lo que anteriormente impedía crear rutas únicas al cambiar una clave URL de categoría. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* Se ha mejorado la validación de la lógica de clave de URL de la categoría. _Corrección enviada por Sergiy Vasiutynskyi en la solicitud de extracción [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### Reescrituras de URL

<!-- MC-31147-->

* Los clientes que cambian de idioma en una página de CMS ahora pueden navegar correctamente a la vista de tienda que han seleccionado. Anteriormente, la aplicación mostraba un error 404.

<!-- ENGCOM-6997-->

* La generación de reescritura de URL para las direcciones URL de producto para las que ha habilitado la inclusión de rutas de categoría ahora funciona según lo esperado. Anteriormente, en implementaciones con varias vistas de tienda, la aplicación a veces generaba reescrituras de URL incorrectas utilizando el valor predeterminado de la ruta de URL de categoría en lugar de la ruta de URL específica de la vista de tienda. _Corrección enviada por el host de Pieter en la solicitud de extracción [26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* Se ha añadido una comprobación para evitar que la dirección URL se redirija si la ruta de solicitud es la misma que la de destino. _Corrección enviada por Bartomiej Szubert en la solicitud de extracción [26902](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* Las operaciones de reescritura de URL ya no eliminan una cadena de consulta de una URL cuando esta tiene una barra diagonal.  _Corrección enviada por Alexey Arendarenko en la solicitud de extracción [25603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### IVA

<!-- ENGCOM-7458-->

* Se ha corregido la URL de validación de IVA para [números de IVA de la UE](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Corrección enviada por Shikha Mishra en la solicitud de extracción [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Marco de API web

<!-- MC-29891-->

* Se corrigieron problemas con las llamadas al POST `/rest/default/async/bulk/V1/orders`.

<!-- MC-30675-->

* Se corrigieron problemas con las llamadas al POST `/rest/default/async/bulk/V1/products`.

<!-- ENGCOM-6945-->

* El método `getList` se ha refactorizado para recuperar la extensión `is_subscribed`. Anteriormente, no se podía recuperar este atributo al recuperar una entidad de cliente mediante la API. _Corrección enviada por enriquei4 en la solicitud de extracción [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* Al actualizar la información del cliente mediante `/V1/customers/:id`, ya no se restablece `group_id` de forma innecesaria. Anteriormente, cuando se actualizaba un cliente mediante REST, el grupo de clientes se cambiaba a 1 si el cuerpo no contenía un grupo de clientes. _Corrección enviada por MaxRomanov4669 en la solicitud de extracción [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* Los captadores que aceptan valores NULL en los contratos de servicio ya no generan errores de reflexión cuando se utilizan en la API web. Los métodos que pueden devolver un tipo nulo y válido ahora funcionan correctamente, independientemente del orden, también.  _Corrección enviada por Marco K̦pcke en la solicitud de extracción [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* Ahora puede usar el POST `/V1/guest-carts/:cartId/items` para agregar productos a un carro de compras específico. Anteriormente, cuando se utilizaba esta llamada, la aplicación ignoraba el valor de `cartId`. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* Ahora puede usar el extremo `PUT /V1/cmsPage/:id` para guardar un título de página de CMS sin cambiar los valores de otros campos. _Corrección enviada por Vadim Malesh en la solicitud de extracción [27237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* La paginación de los resultados de las solicitudes REST ahora es precisa. Anteriormente, cuando se solicitaban resultados de una página específica (por ejemplo, `page_size` = 1 y un valor `current_page` que estaba fuera de ámbito), la llamada devolvía repetía la última página de resultados en lugar de un mensaje informativo  _Corrección enviada por Lukasz Bajsarowicz en la solicitud de extracción [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* El resultado de la GET `/V1/orders/items/{id}` ahora incluye un elemento de atributo de extensión que incluye datos de mensajes de regalo. _Corrección enviada por Laura Folco en la solicitud de extracción [25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### Lista de deseos

<!-- MC-29988-->

* Una lista de deseos ahora funciona como se espera cuando se activa en el nivel de vista de tienda y se desactiva en el nivel global. Anteriormente, cuando esta configuración estaba activa, la adición de un producto a una lista de deseos provocaba un error 404.

<!-- ENGCOM-6518-->

* Hemos mejorado el mensaje de error que se muestra cuando un cliente intenta compartir su lista de deseos con más direcciones de correo electrónico de las permitidas.  _Corrección enviada por divyajyothi5321 en la solicitud de extracción [26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* La aplicación ahora muestra la página Mi lista de deseos como se espera en pantallas con una resolución mayor de 768 px y menor de 1023 px. _Corrección enviada por Hitesh en la solicitud de extracción [26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* El correo electrónico generado al hacer clic en **Compartir lista de deseos** ahora muestra las mismas imágenes de producto que la página Lista de deseos. _Corrección enviada por Michael Bottens en la solicitud de extracción [27125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* Los clientes ahora pueden agregar a una lista de deseos un producto simple que forme parte de un producto agrupado y el mismo producto simple con una cantidad diferente.  _Corrección enviada por MaxRomanov4669 en la solicitud de extracción [26258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### WYSIWYG

<!-- ENGCOM-6275-->

* El cargador de imágenes de WYSIWYG ahora usa `pub/media/wysiwyg` como raíz de almacenamiento. Anteriormente, el subido usaba `pub/media` como su raíz de almacenamiento, lo que hacía que esas imágenes cargadas no fueran accesibles después de los cambios recientes en el código del cargador de imágenes. _Corrección enviada por el host de Pieter en la solicitud de extracción [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* TinyMCE4 en el navegador Chrome ahora gestiona los caracteres de doble byte según lo esperado. Anteriormente, TinyMCE4 no administraba correctamente los caracteres de doble byte (como los que se usaban en chino) en Chrome. _Corrección enviada por Hirokazu Nishi en la solicitud de extracción [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## Problemas conocidos: general

**Problema**: Las anomalías en los mensajes de error de tienda ocurren en implementaciones donde está instalado PHP 7.4.2. Cuando 2.4.0 se implementa con PHP 7.4.2, los símbolos de espacio en los mensajes de error de tienda se sustituyen por caracteres más (+).  Este error es nativo de PHP 7.4.2 y no puede ser corregido por el Magento Open Source. **Solución alternativa**: Se recomienda usar otras versiones de PHP 7.4.x. Consulte [Visualización de datos de mensajes sin procesar en la tienda](https://support.magento.com/hc/en-us/articles/360045804332) artículo de la Base de conocimiento. <!-- MC-34170-->

**Problema**: los comerciantes no pueden agregar productos pedidos a un paquete desde la página Crear paquete de administración y guardar el paquete. Consulte [Creación de etiquetas de envío](https://support.magento.com/hc/en-us/articles/360046750171) artículo de la Knowledge Base. La revisión **MC-35514-2.4.0-CE-composer.patch** para este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- MC-35514-->

**Problema**: La aplicación muestra este mensaje de error durante la instalación con extensiones de terceros que dependen de las API para el módulo `Store` en los comandos CLI: `The default website isn't defined. Set the website and try again`. **Solución alternativa**: elimine las dependencias de las extensiones de terceros del Compositor, instale el Magento y, a continuación, instale las extensiones de terceros.

**Problema**: El botón **Agregar selecciones a mi carro** en la parte inferior del carro de compras no funciona. **Solución alternativa**: use el botón **Agregar selecciones a mi carro** en la parte superior de la página. Ver [El botón Agregar selecciones a mi carro de compras no funciona](https://support.magento.com/hc/en-us/articles/360045838312) Artículo de la Base de conocimiento. <!-- MC-35313-->

**Problema**: los comerciantes no pueden crear un nuevo pedido del administrador debido a que **Agregar productos por SKU** y **Agregar productos**  faltan botones en la página de creación de pedidos cuando el agrupamiento de JavaScript está habilitado.  **Solución alternativa**: deshabilite el paquete de JavaScript para su implementación. <!-- MC-36044-->

**Problema**: La aplicación generó un error de `404 not found` cuando un cliente intenta eliminar puntos de recompensa al retirar un pedido que se envía a varias direcciones. <!-- MC-35955-->

**Problema**: al editar un producto configurable desde la lista de deseos de un cliente, se produce el siguiente comportamiento inesperado: aparece un campo inesperado en la página Configurar producto y la página Configurar producto no desaparece después de hacer clic en **Aceptar**. La aplicación también muestra este mensaje: `Please load Wish List item`. **Solución alternativa**: vuelva a cargar la página Configurar producto. <!-- MC-35617-->

**Problema**: los clientes no pueden cambiar el número de pedidos mostrados por página cuando la lista Pedidos abarca varias páginas. Actualmente, la aplicación muestra este mensaje cuando se desplaza a la última página de pedidos e intenta cambiar el número de pedidos mostrados por página: `You have placed no orders`. Consulte el artículo de la base de conocimiento [Pedidos con error](https://support.magento.com/hc/en-us/articles/360046802271).  **Solución alternativa**: si vuelve a abrir la página Mis pedidos, se mostrará la lista Pedidos. <!-- MC-34153-->

**Problema**: Al hacer clic directamente en el botón **Exportar tasas de impuestos** de la página Agregar nueva regla fiscal (**Tiendas** > **Reglas fiscales**), no se descarga el archivo `tax_rates.csv` como se esperaba. **Solución alternativa**: haga clic en el borde del botón **Exportar tasas de impuestos**.  Consulte el artículo de la Base de conocimiento [Exportar tasas de impuestos no funciona](https://support.magento.com/hc/en-us/articles/360045850032). <!-- MC-35345-->

**Problema**: Los botones **Actualizar** de las secciones Últimos artículos pedidos, Productos en lista de comparación y Productos comparados recientemente de la página de Administración de actividades del cliente no funcionan según lo esperado. Actualmente, la aplicación desplaza la página cada vez que se hace clic en el botón **Actualizar** y no muestra el nombre del producto. Ver [La actualización de las actividades del cliente no funciona](https://magento.zendesk.com/hc/en-us/articles/360046091332) Artículo de la base de conocimiento. <!-- MC-35296-->

## Problemas conocidos: VBE

### Amazon Pay

* **Problema**: faltan métodos de pago en el flujo de trabajo de cierre de compra cuando un cliente hace clic en **Volver al cierre de compra estándar** durante el cierre de compra con Amazon Pay. **Solución alternativa**: actualice la página de desprotección para mostrar los métodos que faltan.  <!-- BUNDLE-2661-->

* **Problema**: la aplicación muestra dos métodos de pago Amazon idénticos en la lista desplegable Método de pago que está disponible al crear una nueva regla de precio del carro de compras.  <!-- BUNDLE-2685-->

### Braintree

* **Problema**: La aplicación muestra un error cuando un administrador intenta obtener acceso a la página Informe de liquidación de Braintree (**Administrador** > **Informes** ). Actualmente, la aplicación muestra este mensaje: `An error has happened during application run. See exception log for details`. Consulte [Error en el informe de liquidación de Braintree al cargar](https://support.magento.com/hc/en-us/articles/360046798251) artículo de la base de conocimiento. La revisión **BUNDLE-2683_SettlementReport.patch** para este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **Problema**: Los comerciantes no pueden crear facturas parciales para pedidos en implementaciones en las que Venmo está habilitado y la configuración **Habilitar Vault para pagos con tarjeta** está deshabilitada. Actualmente, la aplicación muestra este error: `The "vault_capture" command doesn't exist. Verify the command and try again`. <!-- BUNDLE-2647-->

* **Problema**: la aplicación muestra dos métodos de PayPal idénticos en la lista desplegable Método de pago que está disponible al crear una nueva regla de precio del carro de compras.   <!-- BUNDLE-2686-->

* **Problema**: La aplicación encontró un error al abrir **Ventas** > **Terminal virtual de Braintree**. Aunque el formulario contiene elementos de interfaz de usuario dañados, sigue aceptando pagos. **Solución alternativa**: guarde las credenciales de Braintree correctas, lo que corregirá los campos de entrada contraídos. Ver [La página Terminal virtual de Braintree está dañada](https://support.magento.com/hc/en-us/articles/360046800071) Artículo de la Base de conocimiento. La revisión **BUNDLE-2670_VirtualTerminal.patch** para este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **Problema**: la aplicación muestra un mensaje de error en los siguientes países cuando un cliente selecciona un método de pago local durante el pago: Bélgica, Países Bajos, Italia, España y Polonia.  **Solución alternativa**: ignora el mensaje de error y continúa con el pago.

### Klarna

* **Problema**: Si se deja en blanco el campo **Tema de diseño** en la mensajería en el sitio de Klarna (**Administrador** > **Tiendas** > **Configuración** > **Configuración de Klarna**), se generará una página en blanco.  **Solución alternativa**: seleccione un tema de diseño y guárdelo.  <!-- BUNDLE-2623-->

### Vértice

* **Problema**: la aplicación muestra un botón **Verificación de direcciones** en la sección de envío del flujo de trabajo de cierre de compra incluso cuando la validación de direcciones está deshabilitada. El validador de direcciones no vuelve a comprobar la dirección actualizada y continúa mostrando un mensaje que indica que la dirección no es válida cuando un cliente introduce una dirección correcta después de introducir por primera vez una dirección incorrecta, incluso cuando la validación de direcciones está habilitada. **Solución alternativa**: deshabilitar la validación de direcciones de Vértice. <!-- BUNDLE-2604-->

## Contribuciones comunitarias

Agradecemos a la comunidad Magento Open Source en general y quisiéramos agradecer sus aportaciones a esta versión. Consulte las siguientes maneras de obtener información sobre las contribuciones de la comunidad a nuestras versiones actuales:

* Si un miembro de la comunidad ha proporcionado una corrección para esta versión, identificamos la corrección en la sección Problema corregido de estas notas con la frase &quot;*Corrección proporcionada por el miembro de la comunidad @member_name*&quot;.

* El equipo de ingeniería de la comunidad [Colaboradores Magento](https://magento.biterg.io/app/kibana) mantiene una lista de las principales personas y socios que aportan contribuciones por mes, trimestre y año. Desde esa página de colaboradores, puede seguir los vínculos a sus PR fusionadas en GitHub.

### Contribuciones de socios

En el cuadro siguiente se destacan las contribuciones de los asociados. Esta tabla enumera el socio que contribuyó con la solicitud de extracción, la solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### Contribuciones de colaborador individual

La siguiente tabla identifica las contribuciones de los miembros de nuestra comunidad. En esta tabla se enumeran las solicitudes de extracción externas, el número de problema de GitHub asociado a ellas (si está disponible) y el miembro de la comunidad que contribuyó con la solicitud de extracción.

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### Requisitos del sistema

Nuestra pila de tecnología está construida sobre PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](../../../installation/system-requirements.md).

### Instrucciones de instalación y actualización

Puede instalar Magento Open Source 2.4.0 con Composer.

## Kits de herramientas de migración

La herramienta de migración de datos ayuda a transferir los datos del almacén de Magento 1.x existente al Magento 2.x. Esta interfaz de línea de comandos incluye funciones de verificación, seguimiento de progreso, registro y prueba. Para obtener instrucciones de instalación, consulte [Instalar la herramienta de migración de datos](../../../tools/data-migration-tool/install.md). Considere la posibilidad de explorar o contribuir al [repositorio de migración de datos](https://github.com/magento/data-migration-tool).

El [Kit de herramientas de migración de código](https://github.com/magento/code-migration) ayuda a transferir las personalizaciones y extensiones de almacén de Magento 1.x existentes a Magento 2.x. La interfaz de línea de comandos incluye secuencias de comandos para convertir módulos y diseños de Magento 1.x.
