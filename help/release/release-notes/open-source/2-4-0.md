---
title: Notas de la versión de Magento Open Source 2.4.0
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos en la versión del Magento Open Source 2.4.5.
source-git-commit: 4c3a5b6462668993dcfb0ecb9327a7ffc47ced44
workflow-type: tm+mt
source-wordcount: '19098'
ht-degree: 0%

---


# Notas de la versión de Magento Open Source 2.4.0

Magento Open Source 2.4.0 presenta compatibilidad con PHP 7.4, Elasticsearch 7.6.x y MySQL 8.0. Los cambios de seguridad sustanciales incluyen la habilitación de la autenticación de dos factores en el Administrador de forma predeterminada.

**Con esta versión, la integración del método Authorize.Net se ha eliminado del código principal. Los comerciantes deberían migrar a la extensión oficial disponible en el Commerce Marketplace**.

>[!NOTE]
>
>**Integración de pagos del Braintree**: Antes de la versión 2.4.0, se recomendaba que los comerciantes instalaran y configuraran la extensión oficial de integración de pagos de Braintree del Commerce Marketplace para reemplazar la integración principal. Con esta versión (2.4.0), la extensión ahora se incluye en la versión . Los comerciantes deben seguir pasos adicionales para garantizar que el Braintree funcione correctamente en una implementación 2.4.0. Consulte [Braintree](https://docs.magento.com/user-guide/payment/braintree.html) para obtener más información sobre cómo migrar a 2.4.0.

Esta versión incluye todas las mejoras de la calidad principal incluidas en 2.3.5-p1, más de 100 nuevas correcciones en el código principal y 30 mejoras de seguridad. Incluye la resolución de 226 problemas de GitHub por parte de los miembros de nuestra comunidad. Estas contribuciones de la comunidad van desde una pequeña limpieza del código principal hasta mejoras significativas en Inventory management y GraphQL.

>[!NOTE]
>
>Las versiones menores proporcionan mejoras sustanciales en el código. Antes de actualizar a 2.4.0, confirme que su entorno cumple los requisitos mínimos [requisitos técnicos de pila](../../../installation/system-requirements.md).

{{bics}}

>[!NOTE]
>
>Los nombres de paquetes de las versiones de seguridad suelen añadirse con -p1. Sin embargo, no podemos evitar desviarnos de estas convenciones de nomenclatura con 2.3.5, que a su vez han tenido un efecto dominó temporal en los nombres de paquetes de seguridad subsiguientes. Específicamente, la versión completa de la versión 2.3.5 es 2.3.5-p1. La versión de seguridad que publicaremos cuando 2.4.0 GA sea 2.3.5-p2. Esperamos volver a las habituales convenciones de nomenclatura en futuras versiones.

## Aplicar `AC-3022.patch` seguir ofreciendo DHL como transportista marítimo

DHL ha introducido la versión de esquema 6.2 y dejará de utilizar la versión de esquema 6.0 en un futuro próximo. Adobe Commerce 2.4.4 y versiones anteriores compatibles con la integración de DHL solo admiten la versión 6.0. Los comerciantes que implementen estas versiones deben aplicar `AC-3022.patch` lo antes posible para seguir ofreciendo DHL como transportista marítimo. Consulte la [Aplique un parche para seguir ofreciendo DHL como transportista de envío](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Artículo de la Base de conocimiento para obtener información sobre cómo descargar e instalar el parche.

## Parche de seguridad disponible

Los comerciantes ahora pueden instalar correcciones de seguridad que distinguen el tiempo sin aplicar los cientos de correcciones funcionales y mejoras que proporciona una versión trimestral completa (por ejemplo, 2.3.5-p2). El parche 2.3.5.2 (paquete Composer 2.3.5-p2) es un parche de seguridad que proporciona correcciones para vulnerabilidades que se han identificado en nuestra versión trimestral anterior, 2.3.5-p1. Todas las correcciones que se aplicaron a la versión 2.3.5 se incluyen en este parche de seguridad. A *hot fix* proporciona una corrección a una versión publicada que aborda un problema o error específico).

Para obtener información general sobre los parches de seguridad, consulte [Presentación de la nueva versión de parches de seguridad](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287).Para obtener instrucciones sobre cómo descargar y aplicar parches de seguridad (incluido el parche 2.3.5-p2), consulte [Instalación local de inicio rápido](../../../installation/composer.md). Los parches de seguridad incluyen correcciones de errores de seguridad únicamente, no las mejoras de seguridad adicionales que se incluyen en el parche completo.

## Otra información de la versión

Aunque el código de estas funciones está empaquetado con versiones trimestrales , varios de estos proyectos (por ejemplo, Inventory management y Progressive Web Application (PWA) Studio) también se publican de forma independiente. Las correcciones de errores de estos proyectos se documentan en la información de versión específica del proyecto que está disponible en la documentación de cada proyecto.

## Puntos destacados

Busque los siguientes aspectos destacados en esta versión:

### Mejoras sustanciales de seguridad

Esta versión incluye más de 30 correcciones de seguridad y mejoras de seguridad de la plataforma.

#### Más de 30 mejoras de seguridad que ayudan a cerrar las vulnerabilidades de ejecución de código remoto (RCE) y scripts entre sitios (XSS)

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, algunas vulnerabilidades se pueden aprovechar para acceder a la información del cliente o para hacerse cargo de las sesiones del administrador. La mayoría de estos problemas requieren que un atacante obtenga primero acceso al administrador. Como resultado, le recordamos que siga todos los pasos necesarios para proteger a su administrador, incluidos, entre otros, estos esfuerzos: INCLUSIÓN EN LA LISTA DE PERMITIDOS IP, [autenticación de dos factores](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html), el uso de una VPN, el uso de una ubicación única en lugar de `/admin`, y buena higiene de las contraseñas. Consulte [Actualizaciones de seguridad disponibles para el Magento](https://helpx.adobe.com/security/products/magento/apsb20-47.html) para debatir estas cuestiones fijas. para debatir estas cuestiones fijas.

#### Mejoras de seguridad adicionales

* **Implementación de 2FA para cuentas de administrador, cuentas de usuario de magento.com y acceso SSH de Cloud**

   * **Protección de la cuenta de administrador**. Ahora se requiere autenticación de dos factores (2FA) para el administrador. Los usuarios administradores deben configurar primero su 2FA antes de iniciar sesión en el administrador a través de la interfaz de usuario o una API web. 2FA está habilitado de forma predeterminada. Se recomienda no desactivar el módulo 2FA.  Este paso adicional de autenticación dificulta a los usuarios malintencionados iniciar sesión en el administrador sin autorización. Consulte [Autenticación de dos factores (2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html). <!-- MC-22631-->

   * **Protección de la cuenta**. La autenticación de dos factores (2FA) proporciona una capa de seguridad adicional y opcional para proteger mejor su cuenta de magento.com de usuarios no autorizados que puedan querer usar su cuenta de formas que no desee. Consulte [Protección de la cuenta](https://docs.magento.com/user-guide/magento/magento-account-secure.html).

* **Protección del acceso SSH de Cloud**. El Adobe en la infraestructura de la nube proporciona una aplicación de autenticación multifactor (MFA) para administrar los requisitos de autenticación para el acceso SSH a los entornos de la nube. La autenticación multifactor para 2FA no está habilitada de forma predeterminada en un proyecto.  Adobe recomienda habilitar esta función. Póngase en contacto con el servicio de asistencia técnica para obtener ayuda. Consulte [Habilitar la autenticación multifactor para el acceso SSH](https://devdocs.magento.com/cloud/project/project-enable-mfa-enforcement.html).

* **El modo estricto del filtro de plantilla ahora está habilitado de forma predeterminada**. Los componentes (incluidas las páginas y los bloques de CMS) que utilizan el filtro de plantilla en el modo heredado pueden ser vulnerables a la ejecución remota de código (RCE). Habilitar el modo estricto de forma predeterminada garantiza que los ataques RCE no se puedan habilitar deliberadamente. <!-- MC-22982-->

* **El procesamiento de datos de los proveedores de datos de la interfaz de usuario ahora está desactivado de forma predeterminada**. Esto elimina la oportunidad para que los usuarios malintencionados ejecuten JavaScript arbitrario. <!-- MC-17356-->

* **Nuevo `\Magento\Framework\Escaper` class**. Esta clase se proporciona para `.phtml` plantillas y las clases PHP responsables de la generación de HTML. Esta clase contiene métodos de saneamiento HTML relevantes para varios contextos. La variable `$escaper` la variable local está disponible dentro de `.phtml` plantillas y deben usarse en lugar del obsoleto `$block->escape{method}`. Uso `$escaper` en lugar de `$block` como uso de `$block->escape{method}` ha quedado obsoleto.

* **Compatibilidad con el nuevo archivo security.txt**. Este archivo es un archivo estándar del sector en el servidor que ayuda a los investigadores de seguridad a informar sobre posibles problemas de seguridad a los administradores del sitio.

* **Mejoras en la compatibilidad con la Política de seguridad de contenido (CSP)**. `SecureHtmlRenderer` se ha añadido al marco y está disponible en `.phtml` plantillas a la lista blanca en línea `style` y `script` etiquetas. Los scripts y estilos en línea no están permitidos con la configuración CSP predeterminada, que se puede anular con archivos XML. <!-- MC-34433-->

{{cve-notice}}

### Actualizaciones de plataforma

Las siguientes actualizaciones de plataforma ayudan a mejorar la seguridad y el rendimiento del sitio web. Las versiones compatibles de PHP y PHPUnit, Elasticsearch, MySQL y otras dependencias se enumeran en [requisitos de pila de tecnología](../../../installation/system-requirements.md).

* **Se ha introducido compatibilidad con PHP 7.4 y PHP 7.1 y 7.2 ha quedado obsoleto**. 2.4.0 presenta soporte para PHP 7.4.

* **Soporte para PHPUnit 9.x y desaprobación de PHPUnit 6.5**. PHP 7.4 requiere el uso del último marco de pruebas PHPUnit, que es PHPUnit 9.x. Los proveedores de extensiones de Commerce Marketplace deben confirmar que todas las versiones de extensión nuevas son compatibles con PHP 7.4 y que todas las pruebas de unidad e integración se han configurado para ejecutarse con PHPUnit 9.

* **Compatibilidad con Elasticsearch 7.6.x**. Elasticsearch 7.6.x es ahora el motor de búsqueda de catálogo predeterminado para Adobe Commerce y Adobe Commerce. No puede instalar ni actualizar a la versión 2.4.0 sin instalar también Elasticsearch 7.6.x. Se ha eliminado el código de la versión 2.x del Elasticsearch. Las versiones de Elasticsearch 5.x y 6.x han quedado obsoletas y ya no son compatibles. Consulte [Requisitos previos del motor de búsqueda](../../../installation/prerequisites/search-engine/overview.md).

* **Compatibilidad con MySQL 8.0**. La versión 2.4.x es compatible con MySQL 8.x. (2.4.0 se probó con MySQL 8.0.20.) Se recomienda a los comerciantes migrar sus implementaciones a MySQL 8.x para aprovechar su rendimiento, seguridad y fiabilidad mejorados. Aunque MySQL 5.7 sigue siendo compatible con Magento 2.4.x, MySQL 5.6 ya no es compatible. No se puede alojar 2.4.x con una base de datos MySQL 5.6. Consulte [MySQL](../../../installation/prerequisites/database/mysql.md).

* **Eliminación del motor de búsqueda del catálogo MySQL**. El motor de búsqueda MySQL se ha eliminado de la versión 2.4.0 y se ha sustituido como motor de búsqueda predeterminado por Elasticsearch. Elasticsearch proporciona funciones de búsqueda superiores, así como optimizaciones del rendimiento del catálogo.  Todos los comerciantes deben tener un Elasticsearch para instalar e implementar 2.4.0. Consulte [Verificar que el Elasticsearch esté instalado](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **Compatibilidad con MariaDB 10.4**. La compatibilidad con MySQL 8.0 ofrece a los comerciantes la oportunidad de implementar MariaDB 10.4 con Magento Open Source. Aunque los comerciantes aún pueden utilizar MariaDB 10.2 con 2.4.0, recomendamos actualizar a MariaDB 10.4 para mejorar el rendimiento y la fiabilidad. MariaDB 10.0 y 10.1 ya no son compatibles (como resultado de eliminar la compatibilidad con MySQL 5.6 en esta versión).

* **Migración de dependencias en Zend Framework al [Proyecto Laminas](https://getlaminas.org/about/foundation)** para reflejar la transición de Zend Framework al Proyecto Laminas de la Fundación Linux. El marco de Zend ha quedado obsoleto. Consulte la [Migración del marco Zend al proyecto Laminas](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) DevBlog.

* **Descomposición de controladores** permite a los desarrolladores de extensiones implementar ActionInterface directamente sin clases &quot;supertype de capa&quot;. Consulte la [Descomposición de controladores](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) DevBlog. _Mejora iniciada por Vinai Kopp en la solicitud de extracción [16268](https://github.com/magento/magento2/pull/16268) y finalizado por Lukasz Bajsarowicz en solicitud de extracción [26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **Eliminación de la integración básica del código de protección contra el fraude Signifyd**. Esta función principal ya no es compatible. Los comerciantes deberían migrar al [Extensión de protección contra fraudes y cobros de Signifyd](https://marketplace.magento.com/signifyd-module-connect.html) que está disponible en el Commerce Marketplace.

* La variable **el módulo del Braintree principal se ha eliminado de la base de código**. El módulo Braintree Payments ahora proporciona el mismo conjunto de funciones. Consulte [Pagos de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

* El explorador Internet Explorer 11.x ya no es compatible.

### Mejoras en la infraestructura

Esta versión contiene mejoras en la calidad del núcleo, que mejoran la calidad del Marco y de estos módulos: Cuenta del cliente, catálogo, CMS, importación, carro y cierre de compra y B2B.

* **Eliminación de la integración básica de métodos de pago de terceros**. Con esta versión, la integración del método de pago Authorize.Net se ha eliminado del código principal. Los comerciantes deberían migrar a la extensión oficial disponible en el Commerce Marketplace. Consulte la [Obsolescencia de las integraciones de pagos](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445) publicación de devblog. <!-- MC-29029-->

* **Compatibilidad con la búsqueda de palabras parciales para el Elasticsearch (nuevo motor de búsqueda predeterminado)**. Ahora, el Elasticsearch admite el uso de palabras parciales en términos de búsqueda de SKU y nombres de producto al utilizar la búsqueda rápida. Esta funcionalidad fue admitida por el motor de búsqueda MySQL, que ha sido obsoleto y reemplazado por Elasticsearch en esta versión.

* **Actualización del SDK de JavaScript de PayPal**. Hemos migrado la integración de PayPal Express Checkout al último SDK de JavaScript de PayPal, un SDK que recopila y pasa automáticamente los parámetros de riesgo necesarios a PayPal. El comportamiento del método de pago PayPal Express Checkout no ha cambiado. Sin embargo, si actualiza este SDK a la última versión, los comerciantes podrán acceder a las últimas funciones y mejoras de seguridad. <!-- MC-30962-->

* **Obsolescencia y eliminación del Asistente para configuración web**. Debe utilizar la línea de comandos para instalar o actualizar 2.4.0. Consulte [Instalar Magento](../../../installation/advanced.md).

* **Complemento de actualización del compositor**. El complemento Composer optimiza el proceso de actualización resolviendo los cambios que deben realizarse en el proyecto raíz `composer.json` antes de actualizar a una nueva versión. Este complemento protege contra la sobrescritura de las personalizaciones. Consulte [Actualización mediante el complemento raíz del compositor](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **Compras asistidas por vendedores**. Esta función permite a los comerciantes ver la tienda en nombre de sus clientes. Los clientes optan por permitir el acceso a sus cuentas a la tienda. Esta función desarrollada por la comunidad incluye una extensión original desarrollada por [MAGEFAN](https://magefan.com/). Consulte [Compra asistida por el vendedor](https://docs.magento.com/user-guide/configuration/customers/login-as-customer.html). Las funciones incluyen:

   * ACL para controlar qué administradores pueden iniciar sesión en cuentas de cliente y se pueden configurar por sitio web
   * Compatibilidad con varios sitios web y ámbitos de cuenta de cliente
   * Los pedidos realizados en nombre de los clientes se registran en la tienda y en el administrador
   * Todas las sesiones se destruyen tras cerrar la sesión del administrador y los administradores no pueden acceder a las contraseñas de los clientes.

### Mejoras en el rendimiento

* **Mejoras en la lógica de invalidación de la sección de datos del cliente**. Esta versión introduce una nueva forma de invalidar todos los datos de las secciones del cliente que evita un problema conocido con el almacenamiento local cuando se personaliza `sections.xml` las invalidaciones están activas.  (Anteriormente, el contenido privado (almacenamiento local) no se rellenaba correctamente cuando tenía una variable personalizada *etc/frontend/sections.xml* con invalidaciones de acción). Consulte [Contenido privado](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

* **Varias optimizaciones para el rendimiento de Redis**. Las mejoras minimizan el número de consultas a Redis que se realizan en cada solicitud. Estas optimizaciones incluyen:

   * Disminución del tamaño de las transferencias de datos de red entre Redis y el Magento

   * Reducción del consumo de ciclos de CPU de Redis al mejorar la capacidad del adaptador para determinar automáticamente lo que debe cargarse

   * Reducción de las condiciones de carrera en las operaciones de escritura de Redis
   Consulte [Usar Redis para la página y la caché predeterminada](../../../configuration/cache/redis-pg-cache.md) y [Configurar el almacenamiento en caché](../../../configuration/cache/caching-overview.md).

* **Se ha mejorado el almacenamiento en caché de los resultados de las consultas SQL en tablas de inventario**. Estas mejoras incluyen:

   * Almacenamiento en caché de consultas SQL en la variable `inventory_stock_sales_channel` tabla (1 consulta en lugar de 16)

   * Almacenamiento en caché del resultado de las consultas al `inventory_stock` tabla (1 consulta en lugar de 16)

* **Mejora de hasta un 25-30% en el rendimiento de complementos de pedidos rápidos para el carro de compras**.

* Los comerciantes ahora pueden utilizar [carga diferida](https://en.wikipedia.org/wiki/Lazy_loading) para cargar imágenes.

### Integración de Adobe Stock v2.0

**Capacidad para obtener una licencia para las vistas previas de imágenes de existencias desde la Galería de medios**. Los comerciantes ahora pueden encontrar cualquier imagen de vista previa de Adobe Stock en la Galería multimedia, lo que reduce el número de pasos necesarios para obtener la licencia de la imagen de vista previa de existencias.

### Nueva galería de medios

Este reemplazo de la antigua Galería de medios ofrece una nueva interfaz en la que se pueden buscar recursos de medios. Los administradores ahora pueden buscar, filtrar y ordenar imágenes hasta 30 veces más rápido de lo que podían en la versión anterior de esta función. Los comerciantes pueden utilizar esta herramienta para evaluar el uso de imágenes de tienda. Los desarrolladores de extensiones deben tener en cuenta que las extensiones desarrolladas para la Galería de medios no funcionarán del modo esperado con la nueva Galería de medios.

### Inventory management

Las mejoras de Inventory management para esta versión incluyen compatibilidad con la recogida en la tienda y la compatibilidad con el producto del paquete. Consulte [Notas de la versión de Inventory management](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) para obtener un análisis más detallado de las recientes correcciones de errores de Inventory management.

### GraphQL

Las mejoras de GraphQL incluyen:

* `pickupLocations` query admite la función de recogida en tienda de inventario
* `categories` query devuelve una lista de categorías que coinciden con un filtro especificado. Esta consulta difiere de la `categoryList` en que admite paginación.
* `reorderItems` la mutación permite que un usuario que ha iniciado sesión añada todos los productos de un pedido anterior al carro de compras.

Consulte la [Guía para desarrolladores de GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) para obtener más información sobre esta y otras mejoras. Consulte [Notas de la versión](https://devdocs.magento.com/guides/v2.4/graphql/release-notes.html) para ver un análisis detallado de las recientes correcciones de errores de GraphQL.

### PWA Studio

Consulte [compatibilidad](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de versiones de PWA Studio y sus versiones compatibles. Para obtener información sobre las mejoras y correcciones de errores, consulte [Versiones de PWA Studio](https://github.com/magento/pwa-studio/releases).

### Marco de pruebas funcionales (MFTF)

MFTF v3.0.0 incluye estas nuevas funciones e incluye compatibilidad con PHP 7.4 y PHPUnit 9:

* Ayuda de MFTF, que puede crear acciones personalizadas fuera del marco de pruebas
* actualizaciones de esquema para entidades de prueba
* subcarpetas en módulos de prueba
* sintaxis de afirmación anidada
* comprobación estática que comprueba y genera informes de referencias a entidades de prueba obsoletas

Esta versión también elimina las acciones en desuso y actualiza los scripts que se añadieron a las pruebas de actualización a los requisitos principales de la versión de MFTF.

### Mejoras de extensión desarrolladas por proveedores

Esta versión de incluye extensiones desarrolladas por proveedores externos. Introduce mejoras de calidad y experiencia de usuario en estas extensiones y una expansión de la cobertura de MFTF.

Los proveedores de extensiones de Commerce Marketplace deben confirmar que sus extensiones son compatibles con PHP 7.4 al publicar una nueva versión de su extensión para 2.4.0.

#### Amazon Pay

Esta versión incluye:

* Actualizaciones en las listas de permitidos CSP
* Capacidad para realizar varias autorizaciones para una solicitud de varios elementos
* Compatibilidad con direcciones en japonés

#### Pagos de Braintree

Esta extensión reemplaza nuestra integración principal con el Braintree. Proporciona las mismas funciones que la integración principal de Braintree. Consulte [Pagos de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

#### Klarna

Esta versión incluye nuevas opciones de mensajería in situ para ayudar a los compradores a comprender las opciones de crédito y financiación disponibles. También incluye mejoras en:

* restituciones
* Eficiencia de la API
* cookies y pruebas unitarias
* descuentos
* los ajustes de configuración ahora contienen la sección Mensajería in situ para el control de la visualización de tienda de la mensajería promocional de Klarna. Consulte [Configuración de Klarna](https://docs.magento.com/user-guide/payment/klarna-setup.html).

#### Vértice

Esta versión de Vertex incluye las siguientes nuevas funciones y mejoras:

* Mejoras en la experiencia del usuario en la configuración de administración
* Sustitución de las secuencias de comandos de instalación y actualización por archivos y parches de esquema XML
* Eliminación del código obsoleto (`ApiClient` y `ClientInterface`)

#### Yotpo

Las clasificaciones y revisiones de Yotpo están integradas con el Creador de páginas.

## Problemas solucionados

Hemos corregido cientos de problemas en el código principal 2.4.0.

### Instalación, actualización, implementación

<!-- MC-23940-->

* Ahora puede eliminar correctamente un sitio web junto con los ajustes de configuración específicos del ámbito del sitio web en `app/etc/config.php` según lo esperado. Anteriormente, cuando intentaba eliminar el sitio web, la operación fallaba y la aplicación mostraba este error: `The website with code xxx that was requested wasn't found. Verify the website and try again`. Además, la aplicación mostraba este error en la tienda: `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* Ajustes de configuración deshabilitados en `index.php` ya no se pueden editar desde el administrador.

<!-- MC-32405-->

La instalación del Magento Open Source ahora se completa correctamente y las tiendas se crean según lo esperado, cuando la configuración del almacén está predefinida en `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` se ha refactorizado para reducir el número de `SHOW TABLE STATUS` consultas que realiza. (Este cambio vuelve al comportamiento que esta función mostraba en 2.3.3.)

<!-- MC-23890-->

* Los scripts de datos ya no se vuelven a ejecutar cada vez que se intenta actualizar la base de datos ejecutando `bin/magento setup:upgrade`. Anteriormente, los scripts de actualización se volvían a ejecutar innecesariamente, lo que afectaba al rendimiento. [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* La aplicación ahora muestra los siguientes comportamientos cuando se interrumpe la conexión a Redis. Anteriormente, la aplicación no volvía a cargar la página actual y mostraba este error: `An error has happened during application run. See exception log for details`.

   * Las sesiones de administración y tienda caducan
   * Los usuarios administradores y de tienda deben iniciar sesión de nuevo
   * Los datos de sesión se guardan en `var/session/`
   * No se registran errores ni excepciones.

<!-- ENGCOM-6686-->

* La variable `bin/magento setup:di:compile` ya no falla con clases anónimas. _Corrección presentada por Yevhen Sentiabov en la solicitud de extracción [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* Se han resuelto los problemas con la compilación LESS en el tema de Luma de Magento al utilizar un compilador LESS alternativo que el que se envía con la aplicación de forma predeterminada. _Corrección enviada por el alojamiento de Pieter en la solicitud de extracción [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* Ya no necesita tener una capacidad de escritura `env.php` al cambiar al modo de mantenimiento. En su lugar, la aplicación configura la variable `no-cache` encabezados para todas las solicitudes de front-end en modo de mantenimiento (`Cache-Control`). Anteriormente, no se podía activar el modo de mantenimiento cuando `env.php` era de solo lectura y la aplicación intentó deshabilitar el FPC al cambiar al modo de mantenimiento. _Corrección presentada por Marco K̦ pcke en la solicitud de extracción [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify`  ya no resulta en un error de índice no definido durante un `ddev` configuración. _Corrección presentada por Daniel Ruf en la solicitud de extracción [26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* Se han actualizado las dependencias del Compositor para implementar la caducidad de claves Redis, lo que ha mejorado el rendimiento de Redis. _Corrección enviada por toxix en la solicitud de extracción [25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### Integración de Adobe Stock

<!-- ENGCOM-6507-->

* Se han agregado estilos CSS a la visualización de la imagen de Adobe Stock para admitir el resaltado de la imagen seleccionada.  _Corrección presentada por Serhiy Zhovnir en la solicitud de extracción [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* La navegación a través de las imágenes de vista previa de Adobe Stock ya no se activa moviendo el cursor del campo de entrada mediante teclas de flecha.  _Corrección presentada por Adarsh Manickam en la solicitud de extracción [27 138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* La aplicación ahora almacena en caché mensajes para detectar errores que se producen cuando un cliente intenta aplicar un filtro a imágenes de Adobe Stock. _Corrección presentada por Shankar Konar en la solicitud de extracción [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* La aplicación ya no guarda una previsualización de una imagen de Adobe Stock cuando mueve el cursor a la barra de desplazamiento vertical izquierda de la ventana después de hacer clic en **Guardar vista previa** pero no confirma la operación de guardado. _Corrección presentada por Serhiy Zhovnir en la solicitud de extracción [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### Back-end

<!-- MC-25036-->

* Plantillas de correo electrónico (**Administrador** > **Marketing** > **Comunicaciones** > **Plantillas de correo electrónico**) ahora se puede obtener una vista previa desde Admin cuando la minificación de JavaScript está habilitada. Anteriormente, cuando intentaba obtener una vista previa de una plantilla de correo electrónico, la ventana emergente Vista previa del correo electrónico estaba vacía. [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* Los administradores ahora pueden iniciar sesión en Admin como se espera después de crear una cuenta de administrador con privilegios limitados. Anteriormente, no se podía acceder al administrador. En su lugar, los usuarios con estos permisos fueron redirigidos a la tienda con un error 404. _Corrección presentada por Eden Duong en la solicitud de extracción [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* La aplicación ya no duplica datos SEO como clave de URL, meta título, palabras clave meta y meta descripción cuando duplica un producto.  _Corrección presentada por el panel de Dasharth en la solicitud de extracción [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* La aplicación ya no genera un error al eliminar una imagen de una página al crearla desde **Administrador**  > **Contenido** > **Páginas**  >  **Agregar nueva página**. Anteriormente, la aplicación generaba este error en la consola del desarrollador: `500 (Internal Server Error)`. _Corrección presentada por Eden Duong en la solicitud de extracción [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### Paquete de productos

<!-- MC-25251-->

* El rendimiento del `catalog_product_price` se ha mejorado la operación de reindexación para productos de paquetes.

<!-- MC-29633-->

* Los administradores ya no pueden introducir manualmente una clase fiscal en Admin para un producto de paquete cuando **Clase fiscal** y **Precio dinámico** la configuración está deshabilitada para la vista de tienda predeterminada. Anteriormente, cuando un administrador no seleccionaba la opción **Usar valor predeterminado** junto a **Clase fiscal**, la aplicación habilitó la opción , lo que permite a un administrador introducir otro valor y guardar el producto.

<!-- MC-30257-->

* Los precios del producto del paquete ahora se calculan correctamente en las páginas de producto.

<!-- MC-29745-->

* Ahora puede agregar cualquier número de productos de paquete a su carro de compras sin errores. Anteriormente, cuando se agregaba un producto de paquete al carro de compras y luego se navegaba hasta el carro de compras, la aplicación mostraba este error: `Please correct the quantity for some products`.

### Caché

<!-- ENGCOM-7114-->

* La variable `cache.xsd` esquema de `Magento\Framework\Cache` se ha refactorizado para que un tipo de caché sin `instance` ya no causa excepciones cuando desactiva un módulo a través de la administración de caché de administración. Anteriormente, al crear un tipo de caché mediante `cache.xml` sin el `instance` , la aplicación lanzó una excepción cuando intentó desactivarla.  _Corrección presentada por Andrii Beziazychnyi en la solicitud de extracción [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` ya no falla si se ha configurado un motor de caché de la base de datos en la implementación. _Corrección presentada por Andrii Beziazychnyi en la solicitud de extracción [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### Carro de compras y cierre de compra

<!-- MC-23870-->

* La aplicación ya no genera un error durante el cierre de compra cuando la variable **Sincronizar con back-end** está habilitado. [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* Los botones de opción para los métodos de envío ahora están activados como se espera en el flujo de trabajo de cierre de compra.

<!-- MC-30258-->

* La página de revisión de pedidos del flujo de trabajo de cierre de compra ahora se carga correctamente para que un pedido se envíe a varias direcciones cuando los Términos y condiciones incluyan la variable **Aplicado manualmente** está activada. Anteriormente, la página Revisar no pasaba la validación y la aplicación mostraba un error 404.

<!-- MC-32330-->

* La aplicación ahora muestra el icono de giro mientras que los precios se actualizan en el carro de compras.

<!-- MC-33230-->

* La aplicación ahora muestra un mensaje informativo cuando un producto del minicarro se queda sin existencias antes del cierre de compra. Una vez que haya eliminado el elemento fuera de existencias, la aplicación muestra la variable **Continuar con el cierre de compra** botón. Anteriormente, la aplicación no mostraba este botón.

<!-- MC-31391-->

* La aplicación ahora muestra un mensaje de error informativo cuando intenta añadir un producto haciendo clic en **Ordenar por SKU** cuando el archivo para cargar esté dañado. Anteriormente, la aplicación mostraba una página en blanco.

<!-- MC-32962-->

* La aplicación ahora aplica reglas de precios del carro de compras solo a los productos secundarios del producto del paquete que coinciden con los criterios de la regla. Anteriormente, la aplicación aplicaba la regla de precio del carro de compras a todos los productos secundarios que pertenecían al producto del paquete.

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  se ha reemplazado por`StorefrontMinicartSection` en pruebas MFTF.   _Corrección presentada por Andrii Kalinich en la solicitud de extracción [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* Se han eliminado las referencias codificadas al componente de selector de país en el formulario de dirección de envío.  _Corrección presentada por Mateusz Krzeszowiak en la solicitud de extracción [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* La aplicación ya no subraya el icono Eliminar del carro de compras cuando el cursor se sitúa sobre el icono al ver la tienda en Internet Explorer.  _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* Al cambiar la calle de facturación ya no se cambia la dirección de envío de un cliente cuando se selecciona una sola dirección tanto para la dirección de facturación como para la de envío. _Corrección presentada por Yurii Tvardyi en la solicitud de extracción [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* La región de promoción del minicarro se representa ahora según lo esperado. _Corrección presentada por Matti Vapa en la solicitud de extracción [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### Regla de precios del carro de compras

<!-- MC-23986-->

* Las reglas de precios del carro de compras que se basan en métodos de pago ahora se aplican durante el flujo de trabajo de cierre de compra. [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* Se ha corregido el comportamiento del elemento de la página Marcador de datos en **Administrador** > **Marketing** > **Promociones** > **Regla de precio del catálogo**. _Corrección presentada por Hitesh en la solicitud de extracción [26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection`  se ha reemplazado por `StorefrontMinicartSection` en pruebas MFTF.   _Corrección presentada por Andrii Kalinich en la solicitud de extracción [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* Se ha deshabilitado la cuadrícula de cupones no utilizados en el flujo de trabajo crear nueva regla de precio del carro de compras . _Corrección presentada por Eden Duong en la solicitud de extracción [24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* Al cambiar la calle de facturación ya no se cambia la dirección de envío de un cliente cuando se selecciona una sola dirección tanto para la dirección de facturación como para la de envío. _Corrección presentada por Yurii Tvardyi en la solicitud de extracción [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### Catálogo

<!-- MC-25235-->

* La aplicación ya no genera un error al cambiar el nombre de un producto interconectado que se incluye en una actualización programada. Anteriormente, cuando intentaba guardar el producto con un nombre nuevo, la aplicación mostraba este error: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* Los valores de atributos personalizados ahora se pueden guardar como se espera desde el administrador.

<!-- MC-29775-->

* La función Productos de vista reciente ahora muestra productos que están asociados únicamente a la vista de tienda actual en implementaciones de varias tiendas cuando **Almacenes** > **Configuraciones** > **Catálogo** > **Productos vistos/comparados recientemente** > **Mostrar para actual** está configurado como **vista de tienda**. Anteriormente, la aplicación mostraba productos visualizados recientemente desde todos los sitios web, independientemente del sitio web al que se asignara el producto.

<!-- MC-29896-->

* La aplicación ahora muestra imágenes de producto en el minicarro sin distorsión. Anteriormente, la aplicación ampliaba la imagen en el minicarro para rellenar toda la anchura y la altura del contenedor de imágenes.

<!-- MC-29866-->

* La variable `getBasePrice` ahora devuelve un valor flotante como se espera en lugar de una cadena.

<!-- MC-30229-->

* La función de comparación de productos ahora funciona según lo esperado. Ahora solo muestra los productos en la lista de comparación del usuario actual.

<!-- MC-30234-->

* Ahora puede asignar una marca de agua predeterminada a un tema. Anteriormente, después de asignar la marca de agua, la aplicación generaba un error fatal.

<!-- MC-30540-->

* Ahora puede editar correctamente un producto configurable con muchas variantes (aproximadamente 5000) del administrador. Anteriormente, cuando intentaba editar un producto configurable con muchos subproductos, la aplicación mostraba este error: `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* Clasificación en conjuntos de atributos en **Administrador** > **Catálogo** > **Productos** ahora se basa en el orden alfabético como se espera.

<!-- MC-30794-->

* La función Productos vistos recientemente ahora funciona según lo esperado en implementaciones de varias tiendas.

<!-- MC-31838-->

* La variable **Producto en sitios web** la casilla de verificación de la nueva página de producto ahora está habilitada de forma predeterminada para administradores restringidos en implementaciones de varios sitios. Anteriormente, la casilla de verificación del sitio web no predeterminado no estaba preseleccionada y, si el administrador dejaba la casilla de verificación sin seleccionar, la aplicación mostraba un mensaje de error.

<!-- MC-32772-->

* `addToCart` ahora se realiza el seguimiento esperado en la capa de datos. Anteriormente, después de cambiar las opciones configurables para un producto y luego hacer clic en **Agregar al carro**, el nuevo `addToCart` no se agregó a la capa de datos.

<!-- MC-29449-->

* El minicarro y el carrito de la compra para administradores (**Administrador** > **Clientes** > **Administrar carro de compras**) ahora muestra los precios de producto correctos cuando se aplica una regla de precio de catálogo. Anteriormente, el carro de compras de la tienda mostraba el precio de producto correcto, pero el minicarro y el carro de compras del administrador mostraban el precio del producto original.

<!-- MC-30777-->

* El filtrado en la columna del sitio web de la cuadrícula del producto Admin ahora funciona según lo esperado. Anteriormente, los resultados de filtro no mostraban el número correcto de productos, pero mostraban de forma consistente el número total de productos como 1.

<!-- MC-31432-->

* Usos de condiciones de precio `catalog_product_entity_decimal` para filtrar por precio. Sin embargo, esta tabla no contiene registros para productos configurables, dinámicos de paquetes y agrupados porque estos productos no tienen un precio fijo. La tabla correcta que se debe usar para filtrar por precio es `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* El catálogo de administración y las listas de productos ahora muestran símbolos de moneda en las columnas MSRP, Cost y Special Price. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* La ventana emergente Agregar por precio de grupo de clientes (**Administrador** > **Catálogo**  > **Productos** > **Nuevo producto** > **Precios avanzados**) ahora se cierra según lo esperado al hacer clic en el icono cerrar . _Corrección presentada por Ashna-Jahan en la solicitud de extracción [25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* La descripción de ejemplo que se proporciona para la descripción y el título de un nuevo producto ya no contiene comillas dobles.  _Corrección presentada por Nathan Morgan en la solicitud de extracción [25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* La aplicación ya no genera un error al intentar filtrar productos en la página Categoría con un precio no válido. Anteriormente, la aplicación registraba este error en el registro del sistema. _Corrección presentada por Ihor Sviziev en la solicitud de extracción [25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* Ahora puede navegar por los resultados de búsqueda de categorías de varias páginas. Anteriormente, la aplicación creaba páginas duplicadas de resultados de búsqueda cuando intentaba utilizar el botón Atrás para volver a la primera página de resultados. _Corrección presentada por Douglas Radburn en la solicitud de extracción [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* Se ha corregido el tipo devuelto a `string|null` para el `getSourceModel` en el `Eav\Attribute.php` Clase . _Corrección presentada por Mychailo en la solicitud de extracción [25333](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* Guardar un nuevo producto (duplicado) ya no resulta en la duplicación de las imágenes del producto cientos de veces. _Corrección presentada por Jeroen en la solicitud de extracción [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* La aplicación ya no genera un error de JavaScript al eliminar un producto con una opción personalizada del tipo `file` durante la creación de un pedido desde el administrador.  _Corrección presentada por adrian-martinez-interactive4 en la solicitud de extracción [24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* Creación de un producto sin imagen mediante `product_page_image_large` en el diseño, la imagen de un marcador de posición se muestra según lo esperado. Anteriormente, la aplicación generaba este error: `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* Puede usar la variable `POST /V1/:sku/links` para establecer vínculos de productos con una matriz vacía de productos cuando el producto tiene vínculos existentes. Anteriormente, la aplicación generaba un error. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* Ahora puede utilizar el menú desplegable Acciones de la cuadrícula Productos para especificar si un producto tiene peso al actualizar los atributos de varios productos desde el Administrador.  _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* La lógica de validación se ha agregado a la variable **Productos por página en cuadrícula Valores permitidos** y **Productos por página en cuadrícula Valor predeterminado** campos de la página de configuración de la tienda. Anteriormente, los administradores de la tienda podían introducir valores no disponibles en estos campos.  _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### Widget de catálogo

<!-- MC-29167-->

* La variable `CatalogWidget` la lista de productos ahora funciona como se espera con las categorías de anclaje, y los productos de las categorías de anclaje ahora coinciden y se muestran. Anteriormente, cuando se seleccionaba una categoría principal que era un anclaje, pero que no contenía productos asignados, los productos no eran visibles en el widget.

<!-- MC-30260-->

* La aplicación ahora muestra todos los elementos secundarios de una categoría principal seleccionada como se espera. Anteriormente, si seleccionaba una categoría principal que era un anclaje, pero que no contenía productos asignados, la aplicación no mostraba todos los productos anidados.

<!-- MC-31171-->

* El widget Productos vistos recientemente ahora funciona correctamente cuando **Almacenes** > **Configuración** > **Catálogo** > **Catálogo** > **Vistos/comparados recientemente** > **Sincronizar productos de utilidades con almacenamiento back-end** está configurado como **Sí**.

### Limpieza

<!-- ENGCOM-6573-->

* Se ha eliminado una etiqueta de cierre adicional del módulo XML. _Corrección presentada por Tejash Kumbhare en la solicitud de extracción [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* Se ha corregido la desalineación de la variable **Mi dirección de facturación y envío es la misma** en la sección de la página Revisión y pagos del flujo de trabajo de cierre de compra.  _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* Se ha eliminado espacio en blanco innecesario entre las etiquetas de campo y los asteriscos en la sección Dirección de envío del flujo de trabajo de cierre de compra.  _Corrección presentada por Daniel Ruf en la solicitud de extracción [26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* Se ha corregido un desajuste de los botones de opción en la sección Métodos de envío del flujo de trabajo de cierre de compra.  _Corrección presentada por Hitesh en la solicitud de extracción [25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* Se ha corregido un espaciado de menú incoherente en la vista móvil. _Corrección presentada por Hitesh en la solicitud de extracción [26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* Se ha corregido un desajuste de los iconos Editar y Eliminar del minicarro en la vista móvil.  _Corrección presentada por Vasilii Burlacu en la solicitud de extracción [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* Se ha corregido un desajuste del rango de códigos postal y postal de la tasa de impuestos y la casilla de verificación en la página Agregar nuevo tipo de impuesto/código postal (**Administrador**  >  **Tienda**  >  **Impuestos** >  **Zonas y tipos impositivos**). _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* El vínculo del Asistente para configuración al Administrador ahora funciona según lo esperado. _Corrección presentada por Oleh Usik en la solicitud de extracción [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* La ordenación se ha deshabilitado en la columna de estado de la cuadrícula Administración de caché en Administración. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26 215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* Se ha corregido el desajuste de alineación de los elementos de página en la variable **Administrador** >  **Almacenes**  >  **Atributos**  > **Clasificaciones** >  **Añadir nuevas clasificaciones** diálogo. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [27.014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* Se ha corregido un desajuste del icono de calendario en la página Agregar cambio de diseño . _Corrección presentada por Eduard Chitoraga en solicitud de extracción [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* Se ha eliminado el espacio innecesario en la visualización de submenús del menú al pasar el ratón por encima de la página principal. _Corrección presentada por Hitesh en la solicitud de extracción [25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* Se ha corregido un desajuste de las etiquetas de precios en la página de detalles del producto de tienda. _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* Se ha corregido un desajuste del texto sin existencias en relación con la variable  **Agregar al carro** en la página de lista de productos de la vista móvil.  _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* El mensaje de éxito de la integración se muestra en  **Administrador**  > **Sistema** > **Extensiones** > **Integraciones** ahora se muestra correctamente. _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### Contenido de CMS

<!-- MC-29619-->

* Ahora puede guardar y duplicar todas las páginas de CMS. Anteriormente, la aplicación arrojaba esta excepción cuando intentaba duplicar determinadas páginas: `Unique constraint violation found`.

<!-- MC-30963-->

* La aplicación ahora permite crear bloques de CMS con nombres idénticos si los bloques están asignados a diferentes vistas de tiendas.

<!-- MC-30103-->

* Las selecciones de las miniaturas de imágenes de la Galería ahora se almacenan en caché como se esperaba. Anteriormente, estas imágenes se redimensionaban sobre la marcha.

<!-- MC-32275-->

* La aplicación ya no genera un error al guardar una página de CMS asignada a varias tiendas. Anteriormente, al crear o editar una página de CMS, la aplicación guardaba la página, pero también producía este error: `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* Las nuevas páginas de CMS ahora se añaden según lo esperado a la jerarquía de páginas de tienda de un sitio web.

<!-- ENGCOM-7033-->

* Se ha mejorado la lógica de actualización del diseño personalizado de la página de CMS. La aplicación ahora aplica cambios de diseño específicos desde `cms_page_view_selectable_home_somechanges.xml`. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27 131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### Productos configurables

<!-- MC-23546-->

* Los productos secundarios de un producto configurable ahora se pueden deshabilitar correctamente mediante la API.

<!-- MC-30391-->

* Reglas de precios del carro de compras con un **condición establecida como Categoría (solo Principal)** ahora funciona de manera consistente como se espera.

<!-- MC-30989-->

* Ahora puede agregar un producto configurable al carro de compras desde la pestaña Ventas cruzadas . Al seleccionar un producto y hacer clic en **Agregar al carro** desde esta pestaña, ahora se le redirige a la página de detalles del producto, donde puede seleccionar opciones de producto específicas. Anteriormente, la aplicación le redirigía a una página de error 404.

<!-- MC-32411-->

* La aplicación ya no vincula un producto simple a un producto configurable cuando falla la llamada de API para vincular estos productos.

<!-- ENGCOM-6483-->

* Se ha corregido la representación de SKU en la lista Variaciones actuales de un producto configurable. _Corrección presentada por KaushikChavda en la solicitud de extracción [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* Ahora puede guardar `system.xml` información de configuración introduciendo valores en  **Administrador** > **Sistema** > **Configuración** en campos que no tienen etiquetas asociadas. _Corrección presentada por Andrii Chorniy en la solicitud de extracción [25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* El rendimiento de `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` se ha optimizado.  _Corrección presentada por Stanislav Ilnytskyi en la solicitud de extracción [26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* Se ha mejorado la lógica responsable de actualizar imágenes de productos configurables. Anteriormente, los productos simples asociados con un producto configurable solo mostraban la imagen predeterminada asociada con el producto configurable y, en ocasiones, la aplicación mostraba la imagen principal incorrecta para el producto. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* La aplicación ahora muestra el precio especial de un producto como se espera cuando selecciona una opción de descuento de un producto configurable. Anteriormente, `class="normal-price"` no se cambió a `class="special-price"` cuando se seleccionó una opción con descuento. _Corrección presentada por Ravi Chandra en la solicitud de extracción [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookies

<!-- MC-24182-->

* La variable `setRedirectCookie` y `clearRedirectCookie` ahora funcionan según lo esperado. Anteriormente, estas funciones enviaban cookies al explorador, pero faltaban todos los parámetros de cookie. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- ENGCOM-6891-->

* Se han añadido metadatos a la variable `setRedirectCookie` y `clearRedirectCookie` funciones.  _Corrección presentada por Alexander Lukyanov en la solicitud de extracción [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### Atributos del cliente personalizados

<!-- MC-32301-->

* La aplicación ya no genera un error al incluir un campo de atributo del cliente vacío en la variable **Forms para usar en** al crear una cuenta de empresa en la tienda. Anteriormente, la aplicación generaba este error: `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

### Cliente

<!-- MC-29102-->

* Los clientes suscritos a boletines informativos como invitados ya no se dan de baja tras registrarse en una nueva cuenta.

<!-- MC-29841-->

* La aplicación ahora utiliza un `PHPSession` para cada cambio de contraseña.

<!-- MC-30650-->

* Ahora puede crear correctamente un cliente y asociarlo a un sitio web concreto mediante el menú desplegable Asociar a sitio web en **Clientes** > **Todos los clientes** > **Añadir nuevo cliente**. Anteriormente, cuando intentaba asociar un nuevo cliente con el sitio web no predeterminado en una implementación multisitio, la aplicación mostraba este error: `The store view is not in the associated website`.

<!-- MC-29946-->

* La aplicación ahora guarda la información que introduce un cliente en los campos de facturación y envío predeterminados durante el cierre de compra cuando la transacción se rechaza inicialmente debido a una tarjeta de crédito no válida pero se completó correctamente posteriormente. Anteriormente, aunque la aplicación creaba el pedido cuando el cliente escribía información de pago válida, no actualizaba las direcciones de facturación o envío predeterminadas en la sección Mi cuenta del flujo de trabajo de cierre de compra.

<!-- MC-32325-->

* La aplicación ahora respeta la configuración de grupos de clientes al crear un nuevo cliente desde el administrador en una implementación multisitio.

<!-- MC-31481-->

* La aplicación ahora importa correctamente los datos de los clientes mediante la variable **Cliente y direcciones (un solo archivo)** cuando `cron` está habilitado y el indexador de cuadrícula de cliente está establecido en **Actualizar por programación**. Después `cron` se ejecuta, la información del cliente importada está disponible en el administrador como se espera. Anteriormente, la aplicación importaba los datos del cliente, pero no actualizaba la cuadrícula del cliente con los registros del cliente recién importados.

<!-- MC-31117-->

* Ahora puede crear un cliente nuevo desde la tienda cuando se requiera la fecha de nacimiento. Anteriormente, no se podía crear un cliente nuevo cuando este campo era obligatorio, aunque se hubieran introducido valores DOB válidos. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La creación de clientes desde el administrador ahora respeta la configuración predeterminada de grupos de clientes como se espera.

<!-- MC-31425-->

* La variable `PHPSessionId` ahora se cambia tal como se espera después de que un cliente cierre la sesión y luego vuelva a iniciarla.

<!-- MC-32152-->

* La vista Administración de un carro de compras de clientes ahora muestra todos los productos que se agregaron al carro de compras desde varios sitios web en una implementación de varios sitios web. Anteriormente, cuando un cliente añadía un producto al carro de compras desde un sitio web no predeterminado, el producto no se mostraba en el administrador aunque **Compartir cuenta de cliente** está configurado como **Global**.

<!-- ENGCOM-6667-->

* La aplicación ahora muestra solamente los productos que el cliente ha colocado en su carro de compras cuando el carro de compras se ve desde el administrador. Anteriormente, el carro de compras de un cliente mostraba todos los productos del catálogo cuando se veían desde el Administrador. _Corrección enviada por Ravinder en la solicitud de extracción [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-7036-->

* La validación ahora funciona según lo esperado para la variable **Fecha de nacimiento** al editar un cliente desde el Administrador. Anteriormente, la aplicación no tenía en cuenta la configuración regional del usuario y, en el caso de algunas fechas de nacimiento, se mostraba este error: `The Date of Birth should not be greater than today`.   _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* El campo de correo electrónico ya no es necesario cuando se realiza un pedido desde el administrador.  _Corrección presentada por solwininfotech en la solicitud de extracción [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6423-->

* El panel Mi cuenta ahora muestra correctamente los valores de las direcciones de correo electrónico en la vista móvil. _Corrección presentada por Eden Duong en la solicitud de extracción [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Al hacer clic en **Crear una cuenta** en el formulario de registro de cliente varias veces ya no envía la solicitud de registro más de una vez. _Corrección presentada por princeCB en la solicitud de extracción [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

<!-- MC-29102-->

* Los clientes suscritos a boletines informativos como invitados ya no se dan de baja tras registrarse en una nueva cuenta.

<!-- MC-29841-->

* La aplicación ahora utiliza un `PHPSession` para cada cambio de contraseña.

<!-- MC-30650-->

* Ahora puede crear correctamente un cliente y asociarlo a un sitio web concreto mediante el menú desplegable Asociar a sitio web en **Clientes** > **Todos los clientes** > **Añadir nuevo cliente**. Anteriormente, cuando intentaba asociar un nuevo cliente con el sitio web no predeterminado en una implementación multisitio, la aplicación mostraba este error: `The store view is not in the associated website`.

<!-- MC-29946-->

* La aplicación ahora guarda la información que introduce un cliente en los campos de facturación y envío predeterminados durante el cierre de compra cuando la transacción se rechaza inicialmente debido a una tarjeta de crédito no válida pero se completó correctamente posteriormente. Anteriormente, aunque la aplicación creaba el pedido cuando el cliente escribía información de pago válida, no actualizaba las direcciones de facturación o envío predeterminadas en la sección Mi cuenta del flujo de trabajo de cierre de compra.

<!-- MC-32325-->

* La aplicación ahora respeta la configuración de grupos de clientes al crear un nuevo cliente desde el administrador en una implementación multisitio.

<!-- MC-31481-->

* La aplicación ahora importa correctamente los datos de los clientes mediante la variable **Cliente y direcciones (un solo archivo)** cuando `cron` está habilitado y el indexador de cuadrícula de cliente está establecido en **Actualizar por programación**. Después `cron` se ejecuta, la información del cliente importada está disponible en el administrador como se espera. Anteriormente, la aplicación importaba los datos del cliente, pero no actualizaba la cuadrícula del cliente con los registros del cliente recién importados.

<!-- MC-31117-->

* Ahora puede crear un cliente nuevo desde la tienda cuando se requiera la fecha de nacimiento. Anteriormente, no se podía crear un cliente nuevo cuando este campo era obligatorio, aunque se hubieran introducido valores DOB válidos. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La creación de clientes desde el administrador ahora respeta la configuración predeterminada de grupos de clientes como se espera.

<!-- MC-31435-->

* La variable `PHPSessionId` ahora se cambia tal como se espera después de que un cliente cierre la sesión y luego vuelva a iniciarla.

<!-- MC-32152-->

* La vista Administración de un carro de compras de clientes ahora muestra todos los productos que se agregaron al carro de compras desde varios sitios web en una implementación de varios sitios web. Anteriormente, cuando un cliente añadía un producto al carro de compras desde un sitio web no predeterminado, el producto no se mostraba en el administrador aunque **Compartir cuenta de cliente** está configurado como **Global**.

<!-- ENGCOM-7036-->

* La validación ahora funciona según lo esperado para la variable **Fecha de nacimiento** al editar un cliente desde el Administrador. Anteriormente, la aplicación no tenía en cuenta la configuración regional del usuario y, en el caso de algunas fechas de nacimiento, se mostraba este error: `The Date of Birth should not be greater than today`.   _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* El campo de correo electrónico ya no es necesario cuando se realiza un pedido desde el administrador.  _Corrección presentada por solwininfotech en la solicitud de extracción [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* La aplicación ahora muestra solamente los productos que el cliente ha colocado en su carro de compras cuando el carro de compras se ve desde el administrador. Anteriormente, el carro de compras de un cliente mostraba todos los productos del catálogo cuando se veían desde el Administrador. _Corrección enviada por Ravinder en la solicitud de extracción [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* El panel Mi cuenta ahora muestra correctamente los valores de las direcciones de correo electrónico en la vista móvil. _Corrección presentada por Eden Duong en la solicitud de extracción [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Al hacer clic en **Crear una cuenta** en el formulario de registro de cliente varias veces ya no envía la solicitud de registro más de una vez. _Corrección presentada por princeCB en la solicitud de extracción [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### Directorio

<!-- MC-33168-->

* El menú desplegable Estado predeterminado ahora se rellena con datos que se basan en los países permitidos asignados al sitio web seleccionado al configurar un valor para la variable **Cálculo de destino de impuestos predeterminado** campo . Anteriormente, este menú desplegable enumeraba los países asignados al sitio web predeterminado.

### Descargable

<!-- MC-32306-->

* Ahora puede utilizar un archivo de importación para actualizar productos descargables de forma masiva por SKU y descripción. Anteriormente, se producían errores de validación y error de importación.

### EAV

<!-- MC-29999-->

* La aplicación ahora respeta la configuración específica de la tienda que determina si el campo de número de teléfono del flujo de trabajo de cierre de compra es necesario en una implementación de varios sitios. Anteriormente, en implementaciones en las que una tienda requería este campo en el flujo de trabajo de cierre de compra y otra tienda no, los clientes que no completaban este campo mientras realizaban la comprobación en la tienda que no necesitaba que se encontraran con este error: `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* Orden de clasificación de EAV por `attribute option_id` ahora funciona según lo esperado. _Corrección presentada por Tan Sezer en la solicitud de extracción [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* Ahora puede crear un nuevo producto después de agregar un nuevo atributo a través de REST y asignarlo a un conjunto de atributos del administrador. Anteriormente, la aplicación generaba un error 500.  _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### Correo electrónico

<!-- MC-32842-->

* Los correos electrónicos de autorización que se envían a un cliente cuando solicita una devolución ahora contienen el estado de RMA como se espera. Anteriormente, este correo electrónico mostraba una cadena vacía en lugar del estado de retorno esperado.

<!-- MC-32864-->

* Los clientes ya no se redirigen desde el sitio web actual cuando informan de una contraseña olvidada en implementaciones de varios sitios donde las cuentas de cliente se comparten globalmente. Anteriormente, los clientes se redirigían al sitio web en el que se creaba la cuenta.

<!-- MC-31544-->

* Los correos electrónicos de confirmación de pedido que se envían a los clientes ahora incluyen la lista de artículos pedidos según lo esperado. Anteriormente, al crear una plantilla de correo electrónico en Admin cargando y guardando la plantilla predeterminada, los correos electrónicos generados a partir de esta plantilla no incluían la lista de elementos pedidos. [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### Marcos

* Las dependencias de Zend Framework se han migrado a la variable [Proyecto Laminas](https://getlaminas.org/about/foundation) para reflejar la transición de Zend Framework al Proyecto Laminas de la Fundación Linux. El marco de Zend ha quedado obsoleto. _Corrección presentada por Ihor Sviziev en la solicitud de extracción [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* La configuración de rango de precios especiales (desde/hasta fechas) ahora funciona correctamente para cuentas de administrador que utilizan una configuración regional holandesa.

<!-- MC-29388-->

* `php bin/magento cron:run` ya no procesa elementos de la tabla del registro de cambios varias veces. Anteriormente, cuando tenía más de 100 000 versiones nuevas en la tabla de registro de cambios, se podían llamar varias veces a acciones para las mismas `entity id`.

* `php bin/magento setup:cron:run` se ha eliminado. Las referencias a esto en crontabs deben eliminarse al actualizar.

* La variable `update/cron.php` se ha eliminado en 2.4.0, si este archivo existe en la instalación, puede eliminarse con seguridad. Además, elimine las referencias a este archivo en crontabs al actualizar.

<!-- MC-30544-->

* La acción Actualizar atributo ahora actualiza correctamente la marca de tiempo de un producto `updated_at column` from `catalog_product_entity` cuando actualice el producto desde la página del producto de edición de administración .

<!-- MC-30834-->

* Configuración `'persistent' => '1'` en `env.php` ya no genera un error al ejecutar `setup:upgrade`.

<!-- MC-32243-->

* La variable **Clave de formulario no válida. Actualice la página** la cadena de texto de la página de inicio de sesión ahora se traduce según lo esperado.

<!-- MC-33278-->

* Hemos mejorado el rendimiento del `Magento\Framework\App\DeploymentConfig\Reader::load` función. Anteriormente, cuando se realizaba una solicitud al Magento, esta función se llamaba repetidamente, lo que daba como resultado `config.php` y `env.php config` archivos que se están cargando cada vez que se llama al método .

<!-- MC-31728-->

* La aplicación ya no descarga un `blank.html` cuando un administrador hace clic en un producto mientras crea un pedido desde el administrador.

<!-- MC-31729-->

* Los bloques no almacenables en caché añadidos al diseño predeterminado en las instrucciones de referencia para componentes inexistentes (no declarados) en la página ya no afectan al almacenamiento en caché de la página. Al agregar bloques no almacenables en caché a los controladores de diseño predeterminados, todas las páginas no se pueden almacenar en caché. Esto resulta del proceso de generación del diseño: Durante la generación del diseño, la aplicación recopila todos los controladores de diseño disponibles para una página en particular y combina las instrucciones de los mismos con la estructura de diseño final de la página. El controlador de diseño predeterminado se utiliza como identificador básico para cada página. Como resultado, las actualizaciones de diseño declaradas para el controlador predeterminado aparecen en todas las páginas. [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* El gestor de bloqueos MySQL es ahora el administrador de bloqueos principal. Como resultado, la versión mínima requerida de MySQL es 5.7.9.

<!-- ENGCOM-6431-->

* `queue_consumer.xml` ahora permite números en la variable `handler` Clase . Anteriormente, cuando un controlador contenía un número en su ruta, la validación XSD fallaba. _Corrección presentada por Eden Duong en la solicitud de extracción [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* Un error `@var` en el `doc` bloque de la variable miembro de clase `$queueIterator` en clase `\Magento\Framework\MessageQueue\Topology\Config` se ha corregido. _Corrección presentada por Artem Voloznov en la solicitud de extracción [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* Los oyentes de carga de página de JavaScript ahora se activan para que se activen cuando un documento ya no está `loading` en lugar de esperar hasta que se marque como `complete` en espera hasta que el documento esté marcado como `complete` puede provocar retrasos graves en el procesamiento del contenido de JavaScript. _Corrección presentada por John Hughes en la solicitud de extracción [23313](https://github.com/magento/magento2/pull/23313) y solicitud de extracción [50](https://github.com/magento/partners-magento2ee/pull/50)_. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* La aplicación ahora muestra el siguiente mensaje informativo cuando intenta añadir un producto a la lista de deseos con una cantidad de 0 o un número negativo: `Please enter a valid number in this field`. Anteriormente, la aplicación mostraba este error: `We can't update your Wish List right now`. _Corrección presentada por Pawe Tylek en la solicitud de extracción [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* La aplicación ya no admite la herencia de clases DTO de la variable `Magento\Framework\Api\AbstractExtensibleObject` Clase . Falta la anotación PHP `@api`  se ha añadido a `AbstractExtensibleModel`, y los datos que faltan `@deprecated`  la anotación se ha agregado a `AbstractExtensibleObject`.  _Corrección presentada por Alexander Taranovsky en solicitud de extracción [2011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* Ahora puede guardar los productos según lo esperado después de cambiar una fecha relacionada con el producto (por ejemplo, `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`) en las tiendas que implementan configuraciones regionales que no sean del inglés. Anteriormente, la aplicación generaba un error similar al siguiente:  `Invalid input datetime format of value '22/5/2019`.

### Correcciones generales

<!-- MC-21347-->

* El módulo Cliente ya no depende del módulo Revisión. Anteriormente, no se podía deshabilitar el módulo Revisión debido a esta dependencia.

<!-- MC-25250-->

* La página de edición de producto ahora se carga correctamente cuando el conjunto de atributos predeterminado de la página contiene un atributo desplegable con la etiqueta de selección.

<!-- MC-25260-->

* El gráfico de pedidos gráficos al que se puede acceder desde la pestaña Pedidos del administrador ahora refleja con precisión la cantidad de pedidos.

<!-- MC-29273-->

* La dirección URL de administración de una tienda ya no redirige a la dirección URL de la tienda cuando estas dos direcciones URL difieren.

<!-- MC-29658-->

* La generación de reescritura de URL para subcategorías ahora funciona correctamente al usar el perfil del kit de herramientas de rendimiento con más de un sitio web.

<!-- MC-30224-->

* Ahora puede eliminar un modelo de usuario vacío sin eliminar la función de administrador a la que está asignado.

<!-- MC-30636-->

* El editor TinyMCE4 ahora es compatible con todas las etiquetas de HTML.

<!-- MC-31128-->

* Al hacer clic en **Reembolso sin conexión** en el flujo de trabajo crear una nota de crédito ahora genera una nota de crédito como se espera. Anteriormente, un error de JavaScript deshabilitaba este botón y la aplicación no creaba una nota de crédito.

<!-- MC-31832-->

* Los comerciantes ahora pueden crear un atributo de producto del tipo `Decimal`. Anteriormente, debido a una corrección de errores anterior, la aplicación no mostraba el tipo de atributo del producto `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* La aplicación ya no devuelve un error 500 cuando intenta abrir una página Categoría en la tienda cuando **Diseño = Producto - Ancho completo** se ha configurado desde la pestaña Diseño de la página Categoría .

<!-- MC-32697-->

* Se ha corregido un error en `AbstractSimpleObjectBuilder.php`.

<!-- MC-33427-->

* MAP (precio mínimo anunciado) funciona ahora como se espera para los productos de grupo.

<!-- MC-29998-->

* La aplicación ahora le redirige a la página principal de la vista de tienda adecuada cuando cambia de idioma en páginas de CMS en una implementación de varias tiendas. Anteriormente, la aplicación mostraba una página 404 cuando se cambiaba el idioma en ciertas páginas de CMS.

<!-- MC-30162-->

* Solicitar consultas (`SalesOrderIndexGridAsyncInsertCron`) se han refactorizado para reducir el tamaño del conjunto de datos devuelto y la frecuencia de las consultas.

<!-- MC-32371-->

* Ahora puede crear correctamente una página de CMS y asignarla a la categoría raíz del sitio web en la jerarquía de CMS.

<!-- MC-32783-->

* Ahora, los clientes pueden mostrar un precio de producto o agregar un producto al carro de compras cuando los permisos de categoría están habilitados (por ejemplo, cuando la variable **No ha iniciado sesión** se han concedido estos privilegios al grupo de clientes).

<!-- MC-32815-->

* Las reglas de producto ahora se aplican a los productos fuera de existencias según lo esperado. Anteriormente, la aplicación no mostraba productos sin existencias en la lista de productos relacionados aunque la regla estuviera configurada para mostrar productos sin existencias.

<!-- MC-33222-->

* Al hacer clic en **Seguimiento del envío** para una solicitud del administrador, ahora la información de seguimiento se muestra en una ventana emergente como se espera. Anteriormente, este vínculo llevaba al administrador a la página de inicio de sesión.

<!-- MC-31305-->

* La aplicación ahora muestra un mensaje de error informativo y continúa mostrando el formulario de registro como se espera si se produce un error cuando un cliente intenta completar un formulario de registro que contiene un atributo de cliente de selección múltiple. Anteriormente, la aplicación mostraba un error 500.

<!-- MC-32224-->

* La aplicación ahora muestra la variable **Nota de crédito** tras el reembolso parcial de un pedido. Anteriormente, la aplicación no mostraba este botón después de crear un reembolso parcial y no se podía crear una nota de abono para el resto del pedido.

<!-- MC-31878-->

* Las actualizaciones de pedidos masivos a través de REST ahora modifican el estado de pedido como se espera. Anteriormente, la aplicación generaba este error: `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* Los filtros de atributo ahora se muestran como se espera en el bloque Opciones de compra de la página Categoría .

<!-- ENGCOM-7175-->

* Las direcciones de facturación y envío de los clientes ahora se muestran según lo esperado en la ficha Direcciones de la página Editar cliente de administración cuando se muestran en Internet Explorer. _Corrección presentada por Vasilii Burlacu en la solicitud de extracción [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* Todas las vistas de marcadores ahora se pueden editar al eliminar una. Anteriormente, todas las vistas de marcadores no se podían editar después de eliminar la primera vista de cuentas con varias vistas de marcadores. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* La navegación por capas ya no rompe la validación HTML5 del módulo de muestras. Anteriormente, se producían errores de validación de HTML para atributos que no estaban definidos en la variable [Servicio de validación de marcado W3C](https://validator.w3.org/), pero esos atributos se han cambiado a atributos de datos. _Corrección presentada por Nirav Patel en la solicitud de extracción [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* No se utiliza `require.JS` alias (`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`. _Corrección presentada por Tu Nguyen en solicitud de extracción [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* La aplicación ahora implementa PHP7.x [interfaz de desplazamiento](https://www.php.net/manual/en/class.throwable.php) para permitir la captura de todos los errores que puedan exponer información confidencial, como contraseñas. _Corrección presentada por miszyman en la solicitud de extracción [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* Al pulsar la tecla ESC al introducir el nombre de una carpeta nueva en la ventana emergente crear una carpeta nueva, ahora se cierra la ventana emergente tal como se espera sin crear la carpeta.  _Corrección presentada por Shankar Konar en la solicitud de extracción [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* Se ha corregido una estructura de HTML anidada incorrectamente. Anteriormente, esta estructura resultaba en un diseño roto para la lista de productos relacionados, de aumento o de venta cruzada. _Corrección enviada por el alojamiento de Pieter en la solicitud de extracción [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* Se ha eliminado la llamada duplicada a `addToolbarBlock`, lo que había dado como resultado dos condiciones similares en `ORDER BY`.  _Corrección presentada por Vasilii Burlacu en la solicitud de extracción [27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* Los comerciantes ahora pueden establecer una fecha de caducidad en las cuentas de usuario de administración. _Corrección presentada por Laura Folco en la solicitud de extracción [22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* Hemos añadido la variable `@api`  Anotación PHP para `AbstractExtensibleModel`, el `@deprecated` Anotación PHP para `AbstractExtensibleObject`y `@see` a `AbstractExtensibleModel`.  _Corrección presentada por Alexander Taranovsky en solicitud de extracción [2011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### GraphQL

<!-- ENGCOM-7074-->

* La aplicación ahora devuelve el mensaje GraphQL `The cart isn't active` en lugar de `Current user does not have an active cart` en determinadas circunstancias, cuando un carro de compras se vuelve inactivo y se crea un nuevo ID de carro de compras. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* Se ha eliminado el código que provocaba un error al usar GraphQL para agregar productos a un carro de compras cuando un producto añadido anteriormente no estaba en existencias. _Corrección presentada por AleksLi en la solicitud de extracción [27.015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* Se ha corregido un problema de GraphQL por el cual la aplicación no devolvía toda la información necesaria mientras usaba fragmentos en la consulta de productos. _Corrección presentada por Riccardo Tempesta en solicitud de extracción [26 218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* La mutación de GraphQL `setShippingMethodsOnCart` ya no recupera los datos incorrectos en la variable  `available_shipping_methods` atributo. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### Productos agrupados

<!-- ENGCOM-6115-->

* Ahora puede agregar un producto simple que pertenezca a un producto de grupo al carro de compras cuando otro producto simple que pertenece a ese mismo grupo no esté en existencias.  _Corrección presentada por Gihovani Filipp Pereira Dem̩ trio en solicitud de extracción [24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* La aplicación ahora envía correos electrónicos a los clientes sobre los productos de grupo reembolsados según lo esperado.  _Corrección presentada por Alexander Taranovsky en solicitud de extracción [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* Ahora puede agregar un producto secundario de un producto agrupado al carro cuando uno de los otros productos secundarios del producto agrupado no esté en existencias. Anteriormente, cuando un producto secundario no estaba en existencias, no se podía agregar ningún otro producto secundario al carro de compras.

### Imágenes

<!-- MC-29523-->

* Las imágenes ahora se guardan en `pub/media/catalog/category` tal como se espera al guardar imágenes de categoría. Anteriormente, la aplicación guardaba estas imágenes en `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* Las imágenes de marca de agua ya no oscurecen la imagen de producto que superponen. Anteriormente, cuando la imagen de marca de agua era más grande que la imagen del producto a la que se aplicaba, la imagen del producto no era visible.

<!-- MC-32273-->

* Ahora puede guardar correctamente una imagen en una categoría desde el administrador. Anteriormente, después de guardar la imagen, faltaba parte de la URL y no se podía volver a abrir la imagen.

<!-- MC-31727-->

* Ahora se muestra la aplicación `.png` imágenes tal como se espera después de la carga.

<!-- ENGCOM-7063-->

* Al utilizar REST para añadir o actualizar una imagen, ahora se crea una miniatura de imagen como se espera. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* Atributos personalizados de imágenes generados por `Block\Product\ImageFactory` ahora se representa correctamente. Anteriormente, no se podían agregar sus propios atributos personalizados al marcado del atributo debido a un escape incorrecto de la salida del HTML. _Corrección presentada por alexander-aleman en la solicitud de extracción [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* Las imágenes ya no aparecen borrosas cuando se ve una tienda desde una iPhone.  _Corrección enviada por Dmitriy en la solicitud de extracción [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* Las imágenes en la tienda ahora responden. Anteriormente, la altura de la imagen se distorsionaba.  _Corrección presentada por Sean van Zuidam en una solicitud de extracción [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* El logotipo predeterminado de la tienda ahora es visible en la tienda cuando `Magento_blank` se utiliza. _Corrección presentada por Vasilii Burlacu en la solicitud de extracción [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### Importar/exportar

<!-- MC-25206-->

* La aplicación ya no genera un error durante la importación cuando los datos importados incluyen una `swatch_image` la clave store-view tiene un valor de `no_selection`. Anteriormente, la aplicación generaba este error: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* La aplicación ahora actualiza las imágenes como se espera cuando se usa la variable `hide_from_product_page` al importar productos en implementaciones con varias vistas de tienda.

<!-- MC-29677-->

* Las opciones personalizables ahora se importan según lo esperado cuando `row_id` no es igual al de un producto `entity_id`. Anteriormente, la aplicación no importaba opciones personalizables cuando `row_id` no era igual a la de un producto `entity_id`, lo que provocaba que algunos productos no se importaran.

<!-- MC-29916-->

* Las imágenes asociadas con productos configurables ahora se cargan correctamente durante la importación y están disponibles para su visualización según lo esperado en la página de edición del producto.

<!-- MC-30304-->

* Exportado `.csv` ahora reflejan la configuración de filtros para incluir productos en existencias o fuera de existencias. Anteriormente, la aplicación exportaba todos los productos, independientemente de la configuración de existencias seleccionada.

<!-- MC-30323-->

* Ahora puede importar o actualizar correctamente clientes mediante la opción Customer y direcciones de un solo archivo del flujo de trabajo de importación. Anteriormente, al seleccionar esta opción, la aplicación no importaba los datos del cliente y mostraba este error: `Invalid data for insert`.

<!-- MC-30357-->

* El indexador de existencias ahora se activa según lo esperado después de la importación y actualiza el estado del producto. Anteriormente, el indizador de existencias no indexaba los datos de inventario de productos modificados.

<!-- MC-30528-->

* La aplicación ahora importa correctamente todas las opciones personalizadas para los productos secundarios de un producto configurable cuando `store_view_code` se ha especificado. Esto funciona tanto si elige importar productos configurables de forma individual como colectiva. Anteriormente, la aplicación no importaba correctamente todas las opciones personalizadas cuando el archivo de importación contenía más de un elemento y `store_view_code` se ha especificado.

<!-- MC-30672-->

* La aplicación ahora proporciona un mensaje durante la importación del producto que identifica qué productos de la importación `.csv` tiene claves duplicadas. Los comerciantes pueden utilizar esta información para resolver conflictos. Anteriormente, la aplicación mostraba este error: `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* La aplicación ahora muestra un mensaje de error más informativo y no muestra ningún vínculo de descarga cuando intenta eliminar un directorio del **Sistema** > **Exportar** lista. Anteriormente, cuando intentaba eliminar un directorio de esta lista, la aplicación seguía mostrando un vínculo de descarga para los archivos que no se podían descargar y mostraba un mensaje de error no informativo.

<!-- MC-29959-->

* La variable `.csv` que se utiliza durante la importación ahora contiene los vínculos correctos para los productos descargables y ahora tiene el formato correcto para admitir la importación y actualización de productos descargables.

<!-- MC-30189-->

* La aplicación ahora exporta correctamente un `.csv` cuando configure el comportamiento de importación para Reemplazar, seleccione un `.csv` y haga clic en **Comprobar datos**. Anteriormente, la aplicación mostraba este error: `Data validation failed. Please fix the following errors and upload the file again` y `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* El indexador de existencias ahora se activa según lo esperado después de la importación y actualiza el estado del producto. Anteriormente, el indizador de existencias no indexaba los datos de inventario de productos modificados.

<!-- MC-31198-->

* `.csv` los archivos que se generan durante la importación del producto ahora contienen títulos de grupo para productos descargables, según lo esperado. Anteriormente, la validación innecesaria de `group_title` durante la importación, se evitó la visualización de títulos de grupo para productos descargables.

<!-- MC-32153-->

* When `cron` se habilita y realiza una importación de cliente mediante la variable **(Cliente y direcciones (archivo único))** , la aplicación rellena los datos en la cuadrícula del cliente de administración como se espera. La cuadrícula del cliente muestra a los clientes una vez que se completa la reindexación manual para `customer_grid indexer`. Anteriormente, la aplicación no actualizaba la cuadrícula del cliente con direcciones de cliente recién importadas.

<!-- MC-32154-->

* La aplicación ahora muestra la lista de clientes como se espera después de la reindexación automática. Anteriormente, aunque se ejecutaba manualmente `bin/magento index:reindex` funcionó, la cuadrícula del cliente no mostraba la información del cliente después de la reindexación automática.

<!-- MC-30148-->

* La aplicación ahora elimina los archivos temporales de `<Magento_home>/var` como se espera después de que se haya completado la importación del producto.

<!-- MC-31879-->

* La aplicación ya no crea SKU duplicados en el Administrador cuando importa productos mediante `.csv` archivo.

<!-- ENGCOM-6141-->

* La importación ya no falla cuando el atributo configurable importado incluye un signo igual (=) en su valor. _Corrección presentada por dhoang89 en la solicitud de extracción [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* Ahora, todos los datos de cuadrícula exportados (tanto los Magento Open Source como los personalizados) tienen etiquetas de opción en lugar de valores de opción para todas las columnas con tipo `Select` o `Multiselect`. Anteriormente, al exportar estos datos, la hoja de cálculo exportada contenía columnas con ID en lugar de valores que se mostraban en la cuadrícula. _Corrección presentada por Maksym Novik en la solicitud de extracción [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* La aplicación ahora muestra productos de paquete en la tienda, tal como se espera después de actualizar un producto mediante la importación de un `.csv` archivo. _Corrección presentada por Pavel Bystritsky en la solicitud de extracción [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### Índice

<!-- MC-25236 30779-->

* Hemos mejorado el rendimiento de `indexer_update_all_views`. La indexación es ahora más rápida, las reglas inactivas ya no se procesan y las cachés se eliminan de las entradas solo de los productos modificados.

<!-- MC-29917-->

* Los precios del producto en la tienda ahora reflejan con precisión la aplicación de una actualización programada de las reglas de precios del catálogo. Anteriormente, los precios no reflejaban la regla de precios del carro de compras programado hasta que se reindexaba manualmente (`php bin/magento indexer:reindex catalogrule_rule`).

<!-- MC-30588-->

* Ahora puede volver a indexar correctamente la base de datos de productos después de agregar un atributo que no se puede buscar (es decir, el `is_searchable`, `is_filterable`, `is_visible_in_advanced_search` están desactivados).

<!-- ENGCOM-6533-->

* La aplicación ahora muestra un mensaje que identifica al indizador y el tiempo que tardó la operación de indexación en fallar una operación de reindexación. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* Productos que se guardan en tiendas donde la variable  `onthefly` las tablas de indexador y plano están habilitadas ahora respetan las asignaciones de sitio web. Anteriormente, si se eliminaban todas las asignaciones de sitios web de un producto y después se guardaba, todas las tablas planas incluían el producto, a pesar de las asignaciones de sitios web especificadas.  _Corrección presentada por Abel Truong en la solicitud de extracción [27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### Infraestructura

* El explorador Internet Explorer 11.x ya no es compatible.

<!-- MC-32223-->

* La lógica de validación asociada a la variable **Fecha de nacimiento** del formulario Registro de clientes ya no déclencheur un error de JavaScript.

<!-- ENGCOM-7000-->

* Se ha añadido una prueba de integración para cubrir `$storeId` para el repositorio de categorías `get()` método. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* Al habilitar la variable **Bloquear todas las cookies** si se configura en Safari, ya no se generarán errores de JavaScript y la aplicación muestra la variable `cookies disabled` como se esperaba. Anteriormente, la aplicación mostraba varias `SecurityError (DOM Exception 18): The operation is insecure` errores en la consola. _Corrección presentada por Ra̼ l Verdugo Lorenzo en la solicitud de extracción [25324](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* La aplicación ya no genera este error al ejecutar pruebas de integración: `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. Anteriormente, se producía un problema con `AutoloaderRegistry::getAutoloader` provocaba errores aleatorios en las pruebas de integración. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* La variable `date` en `/module-sales/view/frontend/templates/order/order_date.phtml`  se ha corregido a `span`. Anteriormente, la aplicación registraba un error en la variable `exception.log` archivo cuando hizo clic **Ver orden** en la tienda **Mi cuenta** > **Mis pedidos** página. _Corrección presentada por Andrii Chorniy en la solicitud de extracción [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* El módulo de mezcla de JavaScript se ha refactorizado para mejorar la carga y aplicación de mezclas para módulos agrupados avanzados. Anteriormente, la aplicación no cargaba ni aplicaba mezclas para módulos agrupados avanzados.  _Corrección presentada por Mateusz Krzeszowiak en la solicitud de extracción [25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* La variable `grunt clean` ahora limpia las carpetas de metadatos y código generadas según lo esperado. _Corrección presentada por Andrii Beziazychnyi en la solicitud de extracción [25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* `getVersion` resultado (`ProductMetadata::getVersion`) ahora se almacena en caché, lo que mejora el rendimiento del `ProductMetadata::getVersion` método.  _Corrección presentada por Lukasz Lewandowski en la solicitud de extracción [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* Falta un establecedor para `additional_information` se ha añadido a `OrderPaymentInterface`, que resuelve una incoherencia entre su declaración de esquema y las propiedades aceptadas. _Corrección presentada por Antonino Bonumore en solicitud de extracción [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### Navegación por capas

<!-- MC-31763-->

* La aplicación ahora procesa la variable **Sí/No** en la página Categoría cuando **Uso en navegación por capas: Filtrable (con resultados)** para las propiedades de tienda está habilitado.

<!-- ENGCOM-6807-->

* Redundante `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` se ha desaprobado en favor de  `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _Corrección presentada por Adarsh Manickam en la solicitud de extracción [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### Galería de medios

<!-- ENGCOM-6993-->

* Hacer clic **Entrar** después de asignar un nombre a una nueva carpeta en la Galería multimedia, ahora guarda todos los cambios realizados. Anteriormente, haciendo clic en **Entrar** en lugar de utilizar el ratón para seleccionar **OK** se perdieron todos los cambios.  _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* Ahora puede crear una subcarpeta en la Galería multimedia que tenga el mismo nombre que la carpeta principal. Anteriormente, no se podía guardar la subcarpeta con el mismo nombre. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### Almacenamiento de medios

<!-- MC-32593-->

* `var/resource_config.json` ya no se regenera cuando una imagen es solicitada por `get.php`. Anteriormente, este archivo se reescribía en cada llamada a `get.php`.

### Newsletter

<!-- MC-31768-->

* Los clientes ahora pueden suscribirse según lo esperado a los boletines informativos. Anteriormente, cuando un cliente intentaba confirmar su suscripción, la aplicación mostraba este error: `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* El campo de entrada del boletín del pie de página de la tienda ahora se representa de forma idéntica en cualquier navegador compatible.  _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* Los mensajes de tienda sobre suscripciones a boletines ahora se representan como se espera en HTML. _Corrección presentada por Oleh Usik en la solicitud de extracción [26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### Pedidos

<!-- MC-33456-->

* Los subtotales de resumen de pedidos ya no muestran los impuestos excluidos cuando la configuración de visualización del sitio web especifica que se deben excluir los impuestos. Anteriormente, cuando se configuraban varios sitios web con diferentes configuraciones de visualización, la configuración definida en la variable de servidor se utilizaba para la tienda a pesar de las configuraciones de nivel de tienda.

### Métodos de pago

<!-- MC -->

* Se ha eliminado la integración de los métodos de pago de terceros Authorize.Net, eWay, CyberSource, Braintree y Worldpay en el código principal. Los comerciantes deberían migrar a las extensiones oficiales disponibles en el Commerce Marketplace.

<!-- MC -->

* Ya no se admite la implementación básica de la protección contra el fraude SIGnifyd. Los comerciantes deberían migrar al [Extensión de protección contra fraudes y cobros de Signifyd](https://marketplace.magento.com/signifyd-module-connect.html) que está disponible en Commerce Marketplace.

<!-- MC-32546-->

* Ahora puede completar correctamente un pedido y regresar a la página principal del comerciante cuando **Solución alojada de pagos en sitios web Pro** está configurado. Anteriormente, al hacer clic en **Volver al comerciante**, la aplicación generó este error: `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* Cambiar la dirección de facturación ya no hace que el texto de la función JavaScript se muestre en la sección de pago del flujo de trabajo de cierre de compra de tienda. _Corrección presentada por Chris Pook en la solicitud de extracción [26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* Las notas de crédito ahora muestran la cantidad correcta en el **Reembolso de ajuste** de la descripción general de la nota de crédito.  _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* Ahora puede eliminar información adicional del `quote_payment column additional_information` después de guardar una cotización. Anteriormente, no se podía eliminar esta información después de guardar la cotización porque la variable `unsAdditionalInformation` método en `\Magento\Payment\Model\Info` no inicializaron los datos correctamente.  _Corrección presentada por Marco Oliveira en solicitud de extracción [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* Las instrucciones de pago se derivan ahora de la vista de almacén desde la que se realizó un pedido. Anteriormente, las instrucciones de pago se usaban desde la vista de tienda predeterminada porque la variable `BeforeOrderPaymentSaveObserver` método obtuvo instrucciones de pago de la vista de tienda predeterminada. _Corrección presentada por Karyna Tsimbal en la solicitud de extracción [26399](https://github.com/magento/magento2/pull/26399)_. [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* La aplicación ahora recopila la información de pago que se muestra tanto en el Administrador como en las facturas de factura y envío del almacén en el que se realizó el pedido en implementaciones con varias tiendas. Anteriormente, la información de pago derivada de la aplicación procedía del almacén predeterminado.  _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* La aplicación ahora muestra un mensaje de error informativo cada vez que un cliente hace clic en **Pagar con PayPal** después de introducir una dirección de envío no válida en el flujo de trabajo de cierre de compra. Anteriormente, la aplicación mostraba un mensaje de error solo cuando el cliente hacía clic por primera vez en el botón, no para los clics posteriores.

<!-- MC-30639-->

* La aplicación ya no cambia el estado de un pedido a `Processing` en la sección Revisión de Pago del flujo de trabajo de cierre de compra cuando falla un pago con PayPal.

<!-- MC-30864-->

* Ahora puede completar correctamente un pedido utilizando el método de pago Vínculo de flujo de trabajo. Anteriormente, el método de pago de vínculo de flujo de trabajo siempre rechazaba el pago porque el estado del pedido permanecía en la variable `Pending` estado de pago, aunque el estado del pedido en los registros de método de pago era `Approved`.

<!-- MC-32494-->

* Los pedidos que se realizan con PayPal Payflow Pro ahora se establecen en `Suspected Fraud` cuando se activan los filtros de fraude.

<!-- MC-33110-->

* Ahora puede utilizar PayPal Express Checkout con cualquier tarjeta de crédito compatible. Anteriormente, cuando hacía clic en un botón de tarjeta de crédito mientras usaba PayPal Express Checkout para completar un pedido, la aplicación se colgaba y no se podía introducir ningún dato de tarjeta de crédito.

<!-- MC-33117-->

* Los pedidos realizados en PayPal Payflow Pro ahora están configurados en `Suspected Fraud` cuando se activan los filtros de fraude. Anteriormente, el estado de la transacción de pago en PayPal no se validaba antes de que se aprobara el pago en la aplicación.

<!-- MC-33294-->

* Payflow Pro ahora funciona como se espera cuando las Restricciones del sitio web están habilitadas.

<!-- MC-31196-->

* La aplicación ahora procesa correctamente los pedidos realizados con PayPal Express Checkout donde la dirección de envío del pedido especifica una región del país que el cliente ha introducido manualmente en el campo de texto en lugar de seleccionarlo en el menú desplegable de la página Envío. Anteriormente, la aplicación mostraba este error en la página de revisión de pedidos: `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* El método de pago PayPal Pro ahora funciona como se espera en el navegador Chrome 80. Antes, este método de pago invocaba un extremo de llamada de retorno que necesitaba acceso a la sesión del cliente; acceso que la nueva funcionalidad de cookies de Chrome SameSite predeterminada no permite. [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* Ahora puede usar PayPal Express correctamente para pagar un pedido cuando el carro de compra persistente esté habilitado y la variable **Borrar persistencia al cerrar sesión** está configurada en **no**. Anteriormente, la aplicación le redirigía a la página Inicio de sesión.

<!-- ENGCOM-6383-->

* Los pagos de Paypal Express y Web Payments Pro ahora pasan a la `Processing` como se espera una vez iniciado el procesamiento. Anteriormente, los pagos de Paypal Web Payments Pro permanecían en el `Pending` estado de pago incluso cuando la información de pago estaba en el `Processing` estado. _Corrección presentada por azambon en la solicitud de extracción [25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### Rendimiento

<!-- MC-31499-->

* Se ha mejorado la lógica de invalidación de la sección de datos del cliente. Esta versión introduce una nueva forma de invalidar todos los datos de las secciones del cliente que evita un problema conocido con el almacenamiento local cuando se personaliza `sections.xml` las invalidaciones están activas. (Anteriormente, el contenido privado (almacenamiento local) no se rellenaba correctamente cuando tenía una variable personalizada *etc/frontend/sections.xml* con invalidaciones de acción). Consulte [Contenido privado](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

<!-- MC-31449-->

* Se ha refactorizado la importación de cuentas de cliente para mejorar la velocidad de importación.

<!-- MC-23383 ENGCOM-7006-->

* Los comerciantes ahora pueden utilizar [carga diferida](https://en.wikipedia.org/wiki/Lazy_loading) para cargar imágenes. _Corrección presentada por Timon de Groot en la solicitud de extracción [27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* Los gráficos de tablero se han migrado a la variable `chart.js` biblioteca.  _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* El rendimiento de las operaciones que se ejecutan en catálogos grandes que contienen muchos atributos de producto (en la escala de 3000 a 23000 opciones) se ha mejorado mediante la refactorización de la forma en que se crean las matrices de opciones de atributos. _Corrección presentada por Behnam Shayani en la solicitud de extracción [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### Precio

<!-- ENGCOM-6647-->

* La aplicación ahora guarda y muestra el precio correcto para los productos en niveles incluso después de haber editado los productos varias veces. Anteriormente, la aplicación no guardaba las últimas ediciones realizadas en el precio del producto. _Corrección presentada por Ravi Chandra en la solicitud de extracción [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* Tanto el porcentaje de guardado fijo como el de descuento ahora se aplican correctamente al precio final de un pedido. Anteriormente, la aplicación mostraba un porcentaje de ahorro incorrecto en el precio del nivel (fijo y descuento) en la página de detalles del producto. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

<!-- MC-30255-->

* El correo electrónico de alerta de existencias enviado a los clientes sobre la repoblación de un producto configurable ahora contiene el precio de producto correcto. Anteriormente, este correo electrónico contenía un precio de producto de 0.

<!-- MC-32873-->

* La cancelación de la suscripción a la alerta de existencias de productos ahora funciona cuando la sesión de un usuario ha caducado. Anteriormente, al hacer clic en el **Haga clic aquí para detener las alertas de este producto** , la aplicación mostraba un error 404.

<!-- MC-31979-->

* Las acciones de cancelación de suscripción para alertas de productos ahora funcionan según lo esperado. Anteriormente, cuando un cliente hacía clic en la variable **Haga clic aquí para detener las alertas de este producto** , la aplicación mostraba un error 404.

### Vídeo del producto

<!-- MC-23743-->

* Ahora puede utilizar REST para actualizar los vídeos de YouTube (PUT) `rest/V1/products/{SKU}`). Anteriormente, la aplicación mostraba una miniatura para el vídeo, pero el reproductor de vídeo no se cargaba al hacer clic en el botón **Play** botón. [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### Informes

<!-- ENGCOM-6635-->

* Las listas de productos ahora solicitan productos configurables por SKU, que agrupa los productos configurables por variaciones. Anteriormente, el informe agrupaba los productos por `product_id`. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* La variable **Administrador** > **Informes** > **Actualizar estadísticas** ahora se muestra la tabla **Actualizado En = Nulo** status como **Nunca** en el **Actualizado** en lugar de **undefined**. _Corrección presentada por Eden Duong en la solicitud de extracción [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* El informe de existencias bajas ya no incluye los productos desactivados. _Corrección presentada por Mohamed-Asar en la solicitud de extracción [26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* La aplicación ahora muestra un valor preciso para la variable **Inicio De Año A Fecha**  en **Administrador**  >  **Almacenes**  >  **Configuración**  >  **General**  >  **Informes**. _Corrección presentada por Priya-V-Panchal en la solicitud de extracción [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### Reseñas

<!-- MC-29578-->

* La aplicación ahora deshabilita la variable **Enviar revisión** después de que el usuario haga clic en el botón una vez. Anteriormente, la aplicación no desactivaba este botón después del primer clic y creaba varias revisiones cuando el usuario hacía clic en el botón **Enviar revisión** varias veces.

<!-- MC-31293-->

* La variable **Administrador** > **Informes** > **Reseñas** > **Por productos** la lista de filtros ahora muestra los resultados como se espera. Anteriormente, cuando se intentaba filtrar esta lista, la aplicación no mostraba ningún resultado.

<!-- ENGCOM-6938-->

* El elemento de menú Revisiones pendientes ahora está activado como se espera en **Administrador** >  **Marketing** > **Contenido de usuario** > **Revisiones pendientes**.  _Corrección enviada por Ravinder en la solicitud de extracción [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### Ventas

<!-- MC-29426-->

* Los pedidos completados ahora aparecen tanto en el sistema de pago como en el Magento Open Source. Anteriormente, los pedidos aparecían en el sistema de pago, pero no en el Magento Open Source. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* La aplicación ahora respeta la dirección de envío predeterminada de un cliente. Anteriormente, la aplicación no respetaba las direcciones de facturación y envío predeterminadas según la configuración y la **Igual Que La Dirección De Facturación** no se activó automáticamente.

<!-- MC-30299-->

* La aplicación ahora calcula correctamente los reembolsos de los pedidos que incluyen descuentos. Anteriormente, la aplicación calculaba incorrectamente el impuesto de envío y el descuento por envío, y el total reembolsado no coincidía con el total pagado.

<!-- MC-33165-->

* La aplicación ahora asigna el ID de grupo correcto cuando un nuevo cliente crea un pedido en implementaciones de varios sitios. Anteriormente, la aplicación aplicaba la configuración del grupo de clientes predeterminado.

<!-- MC-31786-->

* Los administradores con permisos restringidos que incluyen permisos de visualización para notas de crédito, facturas y envíos ahora pueden ver facturas y envíos desde la página Pedidos como se esperaba. Anteriormente, cuando un administrador restringido intentaba ver un pedido, la aplicación mostraba este error: `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* La aplicación ya no muestra un error cuando un cliente agrega una cantidad de un producto al carro que supera la mitad de las existencias de productos existentes, pero que no supera las existencias totales. Anteriormente, en estas circunstancias, la aplicación mostraba este error: `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* Ahora puede agregar correctamente un producto al carro de compras desde el Administrador cuando la cantidad de existencias es 1. Anteriormente, la aplicación no agregaba el producto al carro de compras y mostraba este mensaje: `The requested qty is not available`. _Corrección presentada por Serhii Petrychenko en la solicitud de extracción [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* La aplicación ahora muestra un mensaje de error informativo cuando un administrador de tienda intenta reordenar un producto cuya opción personalizada tiene un nombre que supera el número máximo de caracteres. Anteriormente, en estas condiciones, la aplicación mostraba la página Informe , no un mensaje. _Corrección presentada por Mudit Shukla en la solicitud de extracción [26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* Se ha refactorizado la presentación del formulario de edición de la información de la dirección del pedido de ventas para que coincida con las convenciones de la biblioteca del formulario de administración. _Corrección presentada por Alexey Rakitin en la solicitud de extracción [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* Las casillas de verificación de la sección Productos de la sección **Catálogo** > **Categorías** ahora funciona según lo esperado.  _Corrección presentada por Denis Kopylov en la solicitud de extracción [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* La variable `getCustomer` ahora devuelve el objeto de cliente definido en `phpdoc` bloque. Anteriormente, este método devolvía `NULL`y `phpdoc` block no resaltó que este método pudiera devolver `NULL`. _Corrección presentada por Fanis Strezos en la solicitud de extracción [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* Los repedidos ahora se desactivan del modo esperado cuando un comerciante desactiva la variable  **Administrador** > **Tienda**  >  **Configuración**  >  **Ventas**  >  **Reordenar**  >  **Permitir orden**.  _Corrección presentada por Eden Duong en la solicitud de extracción [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* `getPrice()` ahora devuelve un valor flotante o nulo en lugar de una cadena al establecer un precio personalizado para un pedido en el Administrador.  _Corrección presentada por Andrii Chorniy en la solicitud de extracción [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* La variable **Código de estado y título** columna de **Administrador** > **Almacenes**  > Configuración >  **Estado del pedido** ahora muestra el estado en lugar del estado como se espera.  _Corrección presentada por Oleh Usik en la solicitud de extracción [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* Las facturas del PDF ahora capturan la fecha de compra correcta cuando se crean en una configuración regional GB. _Corrección presentada por Eden Duong en la solicitud de extracción [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### Regla de ventas

<!-- MC-30155-->

* `quote_item.applied_rule_ids` ahora se actualiza según lo esperado después de deshabilitar una regla de precio del carro de compras. [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* La aplicación ahora muestra los árboles de categorías como se espera cuando intenta crear o editar una regla de precio del carro de compras. Anteriormente, seleccionar una categoría en la sección Condición al crear o editar una regla daba como resultado errores de JavaScript.

<!-- ENGCOM-6824-->

* La aplicación ahora calcula correctamente los descuentos fijos a nivel de carro de compras mediante reglas de precios de carro de compras cuando un producto configurable se agrega por primera vez al carro de compras. _Corrección presentada por Lachlan Turner en la solicitud de extracción [26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### Buscar

* Elasticsearch 7.6.x es ahora el motor de búsqueda de catálogo predeterminado para Adobe Commerce y Magento Open Source. No puede instalar ni actualizar a la versión 2.4.0 sin instalar también Elasticsearch 7.6.x. Se ha eliminado el código de la versión 2.x del Elasticsearch. Las versiones de Elasticsearch 5.x y 6.x han quedado obsoletas y ya no son compatibles. Consulte [Requisitos previos del motor de búsqueda](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* La aplicación ahora procesa la variable **&lt;** y **>** símbolos correctamente en cadenas de búsqueda en el catálogo de tiendas.

<!-- MC-25010-->

* Los productos ahora se muestran como se espera en las categorías después de ejecutarse `cron:run` en implementaciones, implementación de Elasticsearch.

<!-- MC-25254-->

* La aplicación ya no requiere una reindexación de búsqueda completa para poder buscar un nuevo atributo de producto en la tienda.

<!-- MC-29545-->

* Elasticsearch ahora funciona según lo esperado cuando ordena una lista de productos que contiene paquetes de productos por nombres de productos alfabéticos.

<!-- MC-29951-->

* Los resultados de filtrado ya no incluyen opciones fuera de existencias al filtrar productos configurables en una categoría.

<!-- MC-30131-->

* Al seleccionar todos los productos de la página de la lista de productos mediante Elasticsearch, ahora se muestran todos los productos en los resultados de búsqueda según lo esperado. Anteriormente, la aplicación no mostraba resultados de búsqueda.

<!-- MC-30201-->

* El Elasticsearch ahora muestra correctamente los resultados de las páginas de categoría al cambiar el número de resultados de búsqueda vistos por página. Anteriormente, cuando se cambiaba el número de resultados de búsqueda que debían mostrarse en la página de resultados de la búsqueda, la aplicación mostraba una página en blanco y este error: `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* La ordenación de precios ahora funciona correctamente para productos configurables fuera de existencias.

<!-- MC-25176-->

* La aplicación ya no genera una excepción cuando un cliente utiliza la búsqueda rápida de tienda en implementaciones de varios sitios web.

<!-- ENGCOM-6842-->

* La aplicación ya no muestra una advertencia cuando un comerciante abre la página de términos de búsqueda haciendo clic en la opción Buscar términos del pie de página **Marketing** > **SEO y búsqueda** > **Términos de búsqueda**.  _Corrección presentada por vishal-webkul en la solicitud de extracción [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* La aplicación ya no cambia el tamaño de la ventanilla cuando hace clic en el cuadro de entrada de búsqueda al ejecutar Safari en la vista móvil.  _Corrección presentada por Pawe Tylek en la solicitud de extracción [27 603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Las versiones del Elasticsearch ahora se identifican con notación X.x en lugar de con notación X.0+ en el Administrador (**Almacenes** > Configuración > **Configuración** > **Catálogo** > **Catálogo** > **Buscar en el catálogo**). _Corrección enviada por Andreas Mautz en la solicitud de extracción [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### Envío

<!-- MC-32782-->

* Ahora puede enviar un pedido a varias direcciones si uno de los productos pedidos es un producto virtual. Anteriormente, la aplicación colocaba correctamente el pedido de los productos físicos, pero el pedido de producto virtual estaba vacío.

<!-- MC-29276-->

* La aplicación ahora aplica correctamente descuentos de importe fijo de todo el carro de compras para pedidos que se envían a varias direcciones. Anteriormente, este tipo de descuento se aplicaba varias veces cuando un cliente retiraba un pedido mediante Extracción con varias direcciones. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* La lista desplegable disponible para seleccionar métodos de envío durante el proceso de creación de una regla de precio del carro de compras ahora solo contiene valores válidos. Anteriormente, esta lista desplegable contenía valores vacíos o adicionales.

<!-- MC-30186-->

* La aplicación ahora imprime las etiquetas de envío como un `.pdf` archivo como se espera al seleccionar **Imprimir etiqueta de envío** de la lista desplegable Acción de un pedido de la lista de archivos de pedidos. Anteriormente, la aplicación mostraba un error 404.

<!-- MC-31396-->

* Las reglas de Precio de Envío Gratuito ahora afectan solamente a los productos relevantes cuando un carro de compras contiene productos de categorías que están incluidas en la regla de Precio de Envío Gratuito, así como productos de categorías no incluidas en la regla. Anteriormente, cuando un carro de compras incluía productos tanto de las categorías de envío gratuito como de otras categorías no incluidas en la regla de precios, entonces el envío gratuito no se aplicaba a ningún producto.

<!-- ENGCOM-6436-->

* La aplicación ya no muestra una página en blanco en lugar de mostrar todos los transportistas en el cuadro desplegable/selección múltiple. Anteriormente, se producía un error en la variable `toOptionArray` en `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php` se ha producido. _Corrección presentada por Marc Rodriguez en la solicitud de extracción [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* La aplicación ya no aplica un descuento de cantidad fija varias veces cuando un cliente crea un pedido que se enviará a varias direcciones.  _Corrección presentada por Mahesh Singh en una solicitud de extracción [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* Complementos para `Magento\Ups\Model\Carrier` que implementan `di.xml` ahora funciona correctamente en el modo de desarrollador. Anteriormente, la aplicación generaba este error: `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Mapa del sitio

<!-- MC-29362-->

* La aplicación ahora utiliza la URL base del proyecto como se espera cuando genera un mapa del sitio.

<!-- ENGCOM-6670-->

* Los mapas del sitio generados ahora incluyen la dirección URL de la página principal. _Corrección enviada por deepaksnair en la solicitud de extracción [26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### Tienda

<!-- MC-25187-->

* Las sesiones de los clientes persisten según lo esperado cuando un cliente inicia sesión en una tienda, agrega productos al carro de compras y, a continuación, cambia a una nueva tienda en una implementación multitienda. Anteriormente, cuando el cliente navegaba a la segunda tienda, la aplicación cerraba la sesión del cliente y vaciaba el carro de compras.

<!-- ENGCOM-4781-->

* La aplicación ahora elimina los registros relacionados con una vista de almacén eliminada de la `sale_sequence_meta` y `sales_sequence_profile` como se espera. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [22296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* El conmutador de tienda funciona ahora como se espera al cambiar entre tiendas que tienen distintas direcciones URL base. Anteriormente, cuando un cliente utilizaba el conmutador de tienda para cambiar de tienda, la solicitud fallaba si el almacén de destino tenía una dirección URL base diferente a la del almacén actual. _Corrección presentada por Tobias Nilsson en solicitud de extracción [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### Muestras

<!-- MC-30294-->

* Los comerciantes ahora pueden agregar correctamente atributos de muestra de color a los productos mediante el uso de **Muestra visual** opción **Almacenes** > **Atributos** > **Product** > **Nuevo atributo**. Anteriormente, se activaba un error de JavaScript al intentar abrir el atributo de muestra recién creado.

<!-- ENGCOM-6750-->

* El precio mínimo anunciado ahora cambia según lo esperado cuando un cliente selecciona una nueva opción de muestra para un producto configurable. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* La aplicación ya no duplica el precio mínimo publicitado de un producto configurable al seleccionar una nueva opción de muestra. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* Se han corregido problemas con el comportamiento del menú desplegable en el área Administrar muestra (Valores del atributo) de la página Nuevo atributo de producto .  _Corrección presentada por Oleh Usik en la solicitud de extracción [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* El bloque de producto relacionado que se muestra para un producto en la tienda ahora muestra los productos que cumplen los criterios definidos en la regla de producto relacionada. Anteriormente, la aplicación no mostraba ningún producto relacionado.

### Impuesto

<!-- MC-29579-->

* La aplicación ahora actualiza las tarifas de envío y los precios según lo esperado cuando un cliente cambia el país de destino de un pedido durante el cierre de compra.

<!-- MC-30546-->

* El envío gratuito ahora se aplica según lo esperado en función de la regla de precio aplicable del carro de compras. Anteriormente, las reglas de precios del carro de compras no tenían en cuenta los impuestos al calcular si un pedido cumplía los criterios de envío gratuito.

### Prueba

>[!NOTE]
>
>**MFTF ahora utiliza Google Authenticator para ejecutar pruebas con 2FA habilitado. MFTF no funcionará con 2.4.0 sin pasos de configuración adicionales para habilitar Google Authenticator**. Consulte  [Configuración de MFTF para autenticación de dos factores (2FA)](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* Las direcciones URL codificadas en pruebas y grupos de acción se han sustituido por referencias de página. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción 117 en los socios de repositorio privados-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* Las pruebas ahora cubren la tarea de registrar acciones de administración relacionadas con páginas de CMS. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción 172 en los socios de repositorio privados-magento2ee_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* Se han revisado los nombres de prueba funcionales no válidos para seguir las prácticas recomendadas. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [27 118](https://github.com/magento/magento2/pull/27118) y extraer la solicitud 151 en los socios de repositorio privados-magento2ee. [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* Magento Open Source `cron` ahora se utiliza para la reindexación después de crear datos de prueba y, en su caso, `cache:flush config` reemplaza a `cache:flush`. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* Las pruebas de aceptación ahora siguen las convenciones de asignación de nombres para `Magento/Indexer` y `Magento/Backup` módulos.  _Corrección presentada por Shankar Konar en la solicitud de extracción [27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* La variable `AdminReorderWithCatalogPrice` se ha refactorizado la prueba y ya no falla durante el proceso de validación de CI. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción 135 en los socios de repositorio privados-magento2ee_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* La variable `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` y `StorefrontApplyPromoCodeDuringCheckout` las pruebas se han refactorizado y ya no fallan durante el proceso de validación de CI. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26611](https://github.com/magento/magento2/pull/26611) y solicitud de extracción [26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* La variable `DeleteProduct and DeleteCustomer Action Groups` las pruebas se han refactorizado y ya no fallan durante el proceso de validación de CI. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* La variable `AdminMoveAnchoredCategoryTest.xml` las pruebas se han refactorizado y ya no fallan durante el proceso de validación de CI. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### Pruebas de integración

<!-- ENGCOM-7143-->

* Las solicitudes consecutivas en las pruebas de integración ya no fallan. Anteriormente, las pruebas fallaban porque los objetos de solicitud se compartían entre envíos. La variable `resetRequest` ahora vacía el estado de `request`. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* Se han añadido pruebas de integración adicionales para `Magento_Customer` funciones de correo electrónico. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### Pruebas unitarias de PHP

<!-- ENGCOM-7435 7306-->

* Las pruebas unitarias PHP ya no arrojan este error fatal: `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _Corrección presentada por Lukasz Bajsarowicz en solicitudes de extracción 178 en socios de repositorio privados-magento2ee y [27701](https://github.com/magento/magento2/pull/27701)_. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* Pruebas para `Offline_Payments` ahora son compatibles con PHPUnit 8.  _Corrección presentada por Cristiano Pacheco en la solicitud de extracción [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* Pruebas unitarias para `Framework`, `AdminAnalytics`, `AdminNotification`y `AMPQ` se han actualizado para PHPUnit 8. _Corrección presentada por Ihor Sviziev en solicitudes de extracción [27522](https://github.com/magento/magento2/pull/27522), [27521](https://github.com/magento/magento2/pull/27521), [27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* Ahora puede ejecutar el `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` prueba unitaria sin conexión a Internet.  _Corrección presentada por aleromano89 en la solicitud de extracción [26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* Se ha añadido la prueba de unidad para `app/code/Magento/Fedex/Model/Source/Generic.php`. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` se ha añadido a varias pruebas, lo que déclencheur la reindexación parcial. Este cambio soluciona los problemas que crearon falsos negativos en las pruebas funcionales que abarcaron `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree`y `Captcha`. _Corrección presentada por Lukasz Bajsarowicz en solicitudes de extracción [27322](https://github.com/magento/magento2/pull/27322), [27323](https://github.com/magento/magento2/pull/27323), [27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* Todos los usos incorrectos de `<amOnPage>` se sustituyen por un `<actionGroup>` para cierre de sesión del administrador, si corresponde en las pruebas. _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción 116 en los socios de repositorio privados-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* Cada grupo de acción de una prueba se ha movido a un archivo independiente para seguir las prácticas recomendadas de MFTF, y se han revisado los nombres de archivo incoherentes. Se han visto afectadas las pruebas para los siguientes módulos:

   * module-catalog-permissions
   * module-shared-catalog
   * module-catalog-event
   * module-banner
   * module-admin-gws
   * module-advanced-checkout
   * envío de módulos
   * module-ui
   * envío de módulos
   * module-checkout-address-search
   * module-sales
   * module-catalog
   * module-catalog-rule-staging
   * module-visual-merchandiser
   * module-customer

   _Corrección presentada por Lukasz Bajsarowicz en solicitudes de extracción [25800](https://github.com/magento/magento2/pull/25800), [26323](https://github.com/magento/magento2/pull/26323), [26321](https://github.com/magento/magento2/pull/26321), [26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319), [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) (y extraer solicitudes 104, 105, 106, 107, 108, 109, 111, 119, 120, 121 en los socios de repositorio privados-magento2ee)_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### Tema

<!-- MC-29804-->

* Hemos resuelto un error en `JsFooterPlugin.php` que afectaba a la visualización de bloques dinámicos. Anteriormente, la aplicación mostraba este error cuando se accedía directamente `/banner/ajax/load/url`: `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* La variable `i18n` proporciona la capacidad de agregar una cadena para subrayar plantillas.  _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* La variable `section-config` se ha refactorizado. Esta refactorización ha reducido los errores causados por módulos de terceros que realizan solicitudes de POST o solicitan datos de clientes directamente antes de que el módulo se inicialice por `data-mage-init`. _Corrección presentada por Mateusz Krzeszowiak en la solicitud de extracción [25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` Se han corregido errores de formato de HTML. _Corrección presentada por Sathish Subramanian en la solicitud de extracción [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* Al crear `default.xml` y `catalog_product_view.xml` como parte de la creación de un nuevo tema, la aplicación crea estas páginas o registra errores en los archivos de registro como se espera. Anteriormente, la aplicación registraba errores en `vendor/magento/framework/View/Page/Config/Renderer.php` archivo. _Corrección presentada por Vinh Le en la solicitud de extracción [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### Traducción y configuraciones regionales

<!-- MC-24186-->

* La traducción en línea ahora funciona según lo esperado en la tienda cuando **Administrador** > **Almacenes** > **Configuración** > **Avanzadas** > **Desarrollador** > **Traducir en línea** > **Habilitado para tienda** está configurado.

<!-- MC-31663-->

* La traducción en línea ahora funciona según lo esperado cuando está habilitada para una tienda.

<!-- ENGCOM-7064-->

* Las claves de la URL del producto ahora se transliteran según lo esperado. _Corrección presentada por DanieliMi en la solicitud de extracción [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* La variable `es_US Spanish (United States)` ya se admite la configuración regional. _Corrección presentada por Vinh Le en la solicitud de extracción [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* El recuento de marcadores de posición numéricos y el recuento de marcadores de posición de código JavaScript ahora son los mismos. Anteriormente, el código JavaScript suponía 0% mientras que el recuento de marcadores de posición numéricos empezaba con %1.  _Corrección presentada por korostii en la solicitud de extracción [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* Ahora puede desactivar la traducción del título de la página de detalles del producto (`page.main.title`), que está habilitado de forma predeterminada. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* Se han resuelto los problemas relacionados con la renderización del árabe y el hebreo en los PDF de facturas. _Corrección presentada por Ihor Sviziev en la solicitud de extracción [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* El orden de herencia del paquete de idioma se aplica ahora en la primera lista, como se espera y como se describe en la documentación.  _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* La aplicación ahora muestra este mensaje de error cuando se introduce un carácter que no es latino para un nombre de carpeta en las configuraciones regionales en las que solo se admiten letras latinas: `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _Corrección presentada por Eden Duong en la solicitud de extracción [25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* La longitud de la variable `locale` para `directory_country_region_name` se ha aumentado de 8 a 16 para admitir configuraciones regionales como  `zh_Hans_CN`. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### IU

<!-- ENGCOM-7490-->

* El botón Atrás ahora funciona según lo esperado desde **Administrador** > **Almacenes** > **Estado del pedido** > **Editar estado del pedido**. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* Las imágenes de vista previa ya no cambian de forma inesperada cuando se utilizan las teclas de flecha para mover el cursor en el **Nombre del archivo** en la lista Adobe Stock. _Corrección presentada por Adarsh Manickam en la solicitud de extracción [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* La variable **Su contraseña**  en la sección Verificación de identidad de usuario actual de la sección **Administrador** > **Sistema** > **Integraciones** ahora hereda los estilos como se espera. _Corrección presentada por Eduard Chitoraga en solicitud de extracción [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* La entrada validada por el validador de JavaScript en la tienda también pasará la validación al administrador. Anteriormente, el validador de JavaScript contaba las nuevas líneas como un solo carácter en la tienda, pero en el servidor, `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` se contabilizan las líneas nuevas como dos caracteres. _Corrección presentada por Grzegorz Bogusz en solicitud de extracción [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* La variable `subTitle` ya no se borra al cambiar un título modal mediante la función `setTitle()` llamada a . Anteriormente, cuando intentaba crear un menú emergente o modal personalizado con un título y un subtítulo, cambiaba el título con la variable `setTitle()` el método `subTitle` se borró. _Corrección presentada por Andrea Parmeggiani en la solicitud de extracción [26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* El submenú de la ficha Marketing de administración ahora se ajusta automáticamente a la longitud de los elementos de menú como se espera.  Ahora también puede desplazarse horizontalmente.  _Corrección presentada por Paweł Tylek en la solicitud de extracción [26034](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* La tabla `quote`  column `customer_note` ahora utiliza el tipo `text` según lo esperado. Anteriormente, utilizaba el tipo `varchar(255)`. _Corrección presentada por Ravi Chandra en la solicitud de extracción [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* Se corrigieron los problemas de visualización con el encabezado de tabla en el **Mi cuenta**  > **Libreta de direcciones**  Entradas de dirección.  _Corrección enviada por Abrar Pathan en la solicitud de extracción [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* El símbolo de moneda utilizado en el paso de precio de navegación por capas ahora se basa en la configuración predeterminada tal como se espera.  _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* El símbolo de la moneda bielorrusa (BYR) se ha actualizado a BYN. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* La sección Comparar productos de la página Catálogo ahora se muestra como se espera en la vista móvil en pantallas con resoluciones inferiores a 767 píxeles. _Corrección presentada por Hitesh en la solicitud de extracción [26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* El desplazamiento por páginas de productos ahora funciona como se espera en la vista móvil.  _Corrección presentada por Mateusz Krzeszowiak en la solicitud de extracción [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* Ahora puede desplazarse por las imágenes en miniatura de la galería en la página del producto en la vista móvil como espera. _Corrección presentada por iGerchak en la solicitud de extracción [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* Haga clic en el título del tema en **Administrador**  > **Contenido** > **Temas** ya no resulta en registros duplicados. _Corrección presentada por Eden Duong en la solicitud de extracción [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* Se ha refactorizado el diseño de la página Dirección de facturación/Dirección de envío del administrador para que cumpla las convenciones de visualización del formulario del administrador. _Corrección presentada por Alexey Rakitin en la solicitud de extracción [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* El vínculo Agregar a comparación de la página de detalles del producto ahora se muestra correctamente en la vista móvil en pantallas con una resolución inferior a 640 píxeles. _Corrección presentada por Pawe Tylek en la solicitud de extracción [26424](https://github.com/magento/magento2/pull/26424) y Tejash Kumbhare en la solicitud de extracción [26365](https://github.com/magento/magento2/pull/26365)_. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* La variable **Ordenar por** ya no se superpone con la etiqueta **Comprar por** en la página de categoría de la vista móvil. _Corrección presentada por Andrii Kartavtsev en la solicitud de extracción [26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* Ahora puede actualizar el valor de la muestra y el título del vínculo de un producto descargable activando el  **Utilizar predeterminado** casilla de verificación. _Corrección presentada por Abel Truong en la solicitud de extracción [27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* Se ha corregido el espaciado entre las variables **Actualizar** y **Cantidad** en el minicarro.  _Corrección presentada por Hitesh en la solicitud de extracción [26 234](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* El color del borde inferior de la tabla Entradas de dirección adicionales de la página Libreta de direcciones ahora coincide con `thead` y `tbody` color del borde. _Corrección presentada por Tejash Kumbhare en la solicitud de extracción [26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* Los modelos de solicitud ya no realizan una acción de confirmación cuando un usuario hace clic en la superposición modal. _Corrección presentada por Serhiy Zhovnir en la solicitud de extracción [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* Se ha refactorizado el repositorio de categorías (método de guardado), lo que anteriormente le impedía crear rutas únicas al cambiar una clave de URL de categoría. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* Se ha mejorado la validación de la lógica de clave de URL de categoría. _Corrección presentada por Sergiy Vasiutynskyi en la solicitud de extracción [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### Reescrituras de URL

<!-- MC-31147-->

* Los clientes que cambian de idioma en una página de CMS ahora pueden navegar correctamente a la vista de tienda que han seleccionado. Anteriormente, la aplicación mostraba un error 404.

<!-- ENGCOM-6997-->

* La generación de reescritura de URL para las direcciones URL de productos para las que ha habilitado la inclusión de rutas de categoría ahora funciona según lo esperado. Anteriormente, en implementaciones con varias vistas de tienda, la aplicación a veces generaba reescrituras de URL incorrectas al usar el valor predeterminado de la ruta de URL de la categoría en lugar de la ruta de URL específica de la vista de almacén. _Corrección enviada por el alojamiento de Pieter en la solicitud de extracción [26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* Se ha añadido una comprobación para evitar redirecciones URL si la ruta de solicitud es la misma que la ruta de destino. _Corrección presentada por Bartomiej Szubert en la solicitud de extracción [26902](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* Las operaciones de reescritura de URL ya no eliminan una cadena de consulta de una dirección URL cuando esta tiene una barra diagonal.  _Corrección presentada por Alexey Arendarenko en solicitud de extracción [25 603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### IVA

<!-- ENGCOM-7458-->

* Se ha corregido la URL de validación de IVA para [Número de IVA de la UE](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Corrección presentada por Shikha Mishra en la solicitud de extracción [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Marco de API web

<!-- MC-29891-->

* Se han corregido problemas con el POST `/rest/default/async/bulk/V1/orders` llamadas a .

<!-- MC-30675-->

* Se han corregido problemas con el POST `/rest/default/async/bulk/V1/products` llamadas a .

<!-- ENGCOM-6945-->

* La variable `getList` se ha refactorizado para recuperar el `is_subscribed` atributo de extensión. Anteriormente, no se podía recuperar este atributo al recuperar una entidad de cliente a través de la API. _Corregir enviado por la i4 en la solicitud de extracción [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* Actualización de la información del cliente mediante `/V1/customers/:id` ya no restablece la variable `group_id` innecesariamente. Anteriormente, cuando se actualizaba un cliente mediante REST, el grupo de clientes se cambiaba a 1 si el cuerpo no contenía un grupo de clientes. _Corrección presentada por MaxRomanov4669 en la solicitud de extracción [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* Los captadores que se pueden rellenar en contratos de servicio ya no arrojan errores de reflexión cuando se utilizan en la API web. Los métodos que pueden devolver null y un tipo válido ahora funcionan correctamente, independientemente del orden.  _Corrección presentada por Marco K̦ pcke en la solicitud de extracción [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* Ahora puede utilizar POST `/V1/guest-carts/:cartId/items` para agregar productos a un carro de compras específico. Anteriormente, al utilizar esta llamada, la aplicación ignoraba el valor de `cartId`. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* Ahora puede usar la variable `PUT /V1/cmsPage/:id` para guardar un título de página de CMS sin cambiar los valores de otros campos. _Corrección presentada por Vadim Malesh en la solicitud de extracción [27 237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* La paginación de los resultados de las solicitudes REST es ahora precisa. Anteriormente, cuando se solicitaban resultados de una página específica (por ejemplo, `page_size` = 1 y a `current_page` que estaba fuera del ámbito), la llamada devolvía repetía la última página de resultados en lugar de un mensaje informativo .  _Corrección presentada por Lukasz Bajsarowicz en la solicitud de extracción [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* El resultado de la GET `/V1/orders/items/{id}` ahora incluye un elemento de atributo de extensión que incluye datos de mensaje de regalo. _Corrección presentada por Laura Folco en la solicitud de extracción [25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### Lista de deseos

<!-- MC-29988-->

* Una lista de deseos funciona ahora como se espera cuando está habilitada en el nivel de vista de tienda y deshabilitada en el nivel global. Anteriormente, cuando estos ajustes estaban en su lugar, añadir un producto a una lista de deseos daba como resultado un error 404.

<!-- ENGCOM-6518-->

* Hemos mejorado el mensaje de error que se muestra cuando un cliente intenta compartir su lista de deseos con más direcciones de correo electrónico de las permitidas.  _Corrección presentada por divyajyothi5321 en la solicitud de extracción [26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* La aplicación ahora muestra la página Mi lista de deseos como se espera en pantallas con una resolución buena de 768 px y menos de 1023 px. _Corrección presentada por Hitesh en la solicitud de extracción [26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* El correo electrónico generado al hacer clic en **Compartir lista de deseos** ahora muestra las mismas imágenes de producto que la página de lista de deseos. _Corrección presentada por Michael Bottens en la solicitud de extracción [27 125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* Los clientes ahora pueden agregar a una lista de deseos un producto simple que forma parte de un producto agrupado y el mismo producto simple con una cantidad diferente.  _Corrección presentada por MaxRomanov4669 en la solicitud de extracción [26 258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### WYSIWYG

<!-- ENGCOM-6275-->

* El cargador de imágenes WYSIWYG ahora utiliza `pub/media/wysiwyg` como raíz de almacenamiento. Anteriormente, el archivo cargado usaba `pub/media` como su raíz de almacenamiento, que hizo que las imágenes cargadas fueran inaccesibles después de realizar cambios recientes en el código del cargador de imágenes. _Corrección enviada por el alojamiento de Pieter en la solicitud de extracción [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* TinyMCE4 en el explorador Chrome ahora gestiona los caracteres de bits dobles según lo esperado. Anteriormente, TinyMCE4 no podía gestionar correctamente los caracteres de doble byte (como el que se usaba en chino) en Chrome. _Corrección presentada por Hirokazu Nishi en la solicitud de extracción [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## Problemas conocidos — General

**Problema**: Las anomalías en los mensajes de error de tienda se producen en implementaciones en las que está instalado PHP 7.4.2. Cuando se implementa 2.4.0 con PHP 7.4.2, los símbolos de espacio en los mensajes de error de tienda se sustituyen por caracteres más (+).  Este error es nativo de PHP 7.4.2 y no puede ser corregido por el Magento Open Source. **Solución alternativa**: Se recomienda utilizar otras versiones de PHP 7.4.x. Consulte [Visualización de datos de mensajes sin procesar en una tienda](https://support.magento.com/hc/en-us/articles/360045804332)  Artículo de la Base de conocimiento. <!-- MC-34170-->

**Problema**: Los comerciantes no pueden agregar productos pedidos a un paquete desde la página Administración Crear paquete y guardar el paquete. Consulte [Creación de etiquetas de envío](https://support.magento.com/hc/en-us/articles/360046750171) Artículo de la Base de conocimiento. La variable **MC-35514-2.4.0-CE-composer.patch** la corrección de este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- MC-35514-->

**Problema**: La aplicación muestra este mensaje de error durante la instalación con extensiones de terceros que tienen dependencias de API para `Store` en comandos CLI: `The default website isn't defined. Set the website and try again`. **Solución alternativa**: Elimine las dependencias de las extensiones de terceros de Composer, instale el Magento y, a continuación, instale las extensiones de terceros.

**Problema**: La variable **Agregar selecciones al carro** en la parte inferior del carro de compras no funciona. **Solución alternativa**: Utilice la variable **Agregar selecciones al carro** en la parte superior de la página. Consulte [El botón Agregar selecciones al carro de compras no funciona](https://support.magento.com/hc/en-us/articles/360045838312) Artículo de la Base de conocimiento. <!-- MC-35313-->

**Problema**: Los comerciantes no pueden crear un nuevo pedido desde el administrador porque el **Agregar productos por SKU** y **Agregar productos**  no aparecen en la página de creación de pedidos cuando el agrupamiento de JavaScript está habilitado.  **Solución alternativa**: Deshabilite el paquete JavaScript para la implementación. <!-- MC-36044-->

**Problema**: La aplicación a `404 not found` cuando un cliente intenta eliminar puntos de recompensa al extraer un pedido que se envía a varias direcciones. <!-- MC-35955-->

**Problema**: La edición de un producto configurable desde la lista de deseos de un cliente produce el siguiente comportamiento inesperado: Aparece un campo inesperado en la página Configurar producto y la página Configurar producto no desaparece después de hacer clic en **OK**. La aplicación también muestra este mensaje: `Please load Wish List item`. **Solución alternativa**: Vuelva a cargar la página Configurar producto . <!-- MC-35617-->

**Problema**: Los clientes no pueden cambiar el número de pedidos mostrados por página cuando la lista Pedidos abarca varias páginas. Actualmente, la aplicación muestra este mensaje cuando se desplaza a la última página de pedidos e intenta cambiar el número de pedidos mostrados por página: `You have placed no orders`. Consulte [Error de visualización de pedidos](https://support.magento.com/hc/en-us/articles/360046802271) Artículo de la Base de conocimiento.  **Solución alternativa**: Al volver a abrir la página Mis pedidos, se mostrará la lista Pedidos. <!-- MC-34153-->

**Problema**: Pulsando directamente en el **Tipos de impuestos de exportación** de la página Agregar nueva regla de impuesto (**Almacenes** > **Reglas fiscales**) no descarga el `tax_rates.csv` como se espera. **Solución alternativa**: Haga clic en el borde del  **Tipos de impuestos de exportación** botón.  Consulte [Los tipos de impuestos de exportación no funcionan](https://support.magento.com/hc/en-us/articles/360045850032)  Artículo de la Base de conocimiento. <!-- MC-35345-->

**Problema**: La variable **Actualizar** Los botones de las secciones Últimos elementos pedidos, Productos en lista de comparación y Productos comparados recientemente de la página Actividades del cliente de administración no funcionan como se espera. Actualmente, la aplicación se desplaza por la página cada vez que se desplaza la **Actualizar** se hace clic en el botón y no muestra el nombre del producto. Consulte [La actualización de las actividades del cliente no funciona](https://magento.zendesk.com/hc/en-us/articles/360046091332) Artículo de la Base de conocimiento. <!-- MC-35296-->

## Problemas conocidos — VBE

### Amazon Pay

* **Problema**: Los métodos de pago no aparecen en el flujo de trabajo de cierre de compra cuando un cliente hace clic en **Volver al cierre de compra estándar** durante el cierre de compra con Amazon Pay. **Solución alternativa**: Actualice la página de cierre de compra para mostrar los métodos que faltan.  <!-- BUNDLE-2661-->

* **Problema**: La aplicación muestra dos métodos Amazon Pay idénticos en la lista desplegable Método de pago que está disponible al crear una nueva regla de precio del carro de compras.  <!-- BUNDLE-2685-->

### Braintree

* **Problema**: La aplicación muestra un error cuando un administrador intenta acceder a la página Informe de configuración del Braintree (**Administrador** > **Informes** ). Actualmente, la aplicación muestra este mensaje: `An error has happened during application run. See exception log for details`. Consulte [El informe de configuración de Braintree no se carga](https://support.magento.com/hc/en-us/articles/360046798251) Artículo de la Base de conocimiento. La variable **BUNDLE-2683_SettlementReport.patch** la corrección de este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **Problema**: Los comerciantes no pueden crear facturas parciales para pedidos en implementaciones en las que Venmo esté habilitado y la variable **Habilitar Vault para pagos con tarjeta** está desactivado. Actualmente, la aplicación muestra este error: `The "vault_capture" command doesn't exist. Verify the command and try again`.  <!-- BUNDLE-2647-->

* **Problema**: La aplicación muestra dos métodos PayPal idénticos en la lista desplegable Método de pago que está disponible al crear una nueva regla de precio del carro de compras.   <!-- BUNDLE-2686-->

* **Problema**: La aplicación muestra un error al abrir **Ventas** > **Terminal virtual del Braintree**. Aunque el formulario contiene elementos de IU dañados, sigue aceptando pagos. **Solución alternativa**: Guarde las credenciales del Braintree correctas, lo que corregirá los campos de entrada contraídos. Consulte [La página de terminal virtual del Braintree está dañada](https://support.magento.com/hc/en-us/articles/360046800071)  Artículo de la Base de conocimiento. La variable **BUNDLE-2670_VirtualTerminal.patch** la corrección de este problema ya está disponible en [Versiones](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **Problema**: La aplicación muestra un mensaje de error en los siguientes países cuando un cliente selecciona un método de pago local durante el cierre de compra: Bélgica, Holanda, Italia, España y Polonia.  **Solución alternativa**: Ignore el mensaje de error y continúe con el pago.

### Klarna

* **Problema**: Dejar el **Tema de diseño** campo vacío en la mensajería en el sitio de Klarna (**Administrador**  >  **Almacenes**  >  **Configuración**  > **Configuración de Klarna**) resulta en una página en blanco.  **Solución alternativa**: Seleccione un tema de diseño y guarde.  <!-- BUNDLE-2623-->

### Vértice

* **Problema**: la aplicación muestra un  **Verificación de la dirección** en la sección envío del flujo de trabajo de cierre de compra incluso cuando la validación de direcciones está deshabilitada. El validador de direcciones no vuelve a comprobar la dirección actualizada y sigue mostrando un mensaje que indica que la dirección no es válida cuando un cliente introduce una dirección correcta después de introducir por primera vez una dirección incorrecta incluso cuando la validación de direcciones está habilitada. **Solución alternativa**: Deshabilite la validación de direcciones de vértice. <!-- BUNDLE-2604-->

## Contribuciones comunitarias

Damos las gracias a la comunidad de Magento Open Source en general y quisiéramos agradecer su contribución a esta versión. Consulte las siguientes formas de obtener información sobre las contribuciones de la comunidad a nuestras versiones actuales:

* Si un miembro de la comunidad ha proporcionado una corrección para esta versión, identificamos la corrección en la sección Problemas fijos de estas notas con la frase &quot;*Corrección proporcionada por el miembro de la comunidad @member_name*&quot;.

* El equipo de ingeniería de la comunidad [Colaboradores Magento](https://magento.com/magento-contributors) mantiene una lista de los principales colaboradores individuales y socios por mes, trimestre y año. Desde esa página de colaboradores, puede seguir los vínculos a sus relaciones públicas combinadas en GitHub.

### Contribuciones de socios

En el siguiente cuadro se destacan las contribuciones realizadas por los Asociados. En esta tabla se muestra el Partner que contribuyó a la solicitud de extracción, la solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### Contribuciones de colaborador individual

La siguiente tabla identifica las contribuciones de los miembros de nuestra comunidad. En esta tabla se enumeran las solicitudes de extracción externas, el número de problema de GitHub asociado a él (si está disponible) y el miembro de la comunidad que contribuyó a la solicitud de extracción.

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### Requisitos del sistema

Nuestra pila de tecnología está construida en PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](../../../installation/system-requirements.md).

### Instrucciones de instalación y actualización

Puede instalar Magento Open Source 2.4.0 con Composer.

## Juegos de herramientas de migración

La herramienta de migración de datos ayuda a transferir los datos de almacenamiento de Magento 1.x existentes a Magento 2.x. Esta interfaz de línea de comandos incluye funciones de verificación, seguimiento del progreso, registro y prueba. Para obtener instrucciones de instalación, consulte [Instalación de la herramienta de migración de datos](../../../tools/data-migration-tool/install.md). Considere la posibilidad de explorar o contribuir a la [Repositorio de migración de datos](https://github.com/magento/data-migration-tool).

La variable [Kit de herramientas de migración de código](https://github.com/magento/code-migration) ayuda a transferir las extensiones y personalizaciones de almacenamiento de Magento 1.x existentes a Magento 2.x. La interfaz de la línea de comandos incluye secuencias de comandos para convertir módulos y diseños de Magento 1.x.
