---
title: Adobe Systems Commerce 2.4.7 Notas de la versión
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.7 Adobe Systems Commerce.
exl-id: 6ceb1d6d-5076-49a1-925f-913aa3598c90
source-git-commit: 16feb8ec7ecc88a6ef03a769d45b1a3a2fe88d97
workflow-type: tm+mt
source-wordcount: '20161'
ht-degree: 0%

---


# Adobe Systems Commerce 2.4.7 Notas de la versión

Adobe Systems Commerce 2.4.7 presenta compatibilidad con PHP 8.3. Presenta cientos de correcciones y mejoras de calidad. Las dependencias del Compositor principal y las bibliotecas de terceros se han actualizado a las últimas versiones disponibles. Esta versión incluye mejoras significativas en el rendimiento, incluida una carga más rápida de páginas de listado de productos para productos complejos con muchas opciones y mejoras para la administración de indizadores. Esta versión aumenta la cobertura de GraphQL para atributos personalizados y cachés de resolución de GraphQL. También introduce soporte para servicios FedEx y UPS recientemente actualizados.

{{bics}}

## Otra información de la versión

Aunque el código para estas características está incluido con las versiones del código central de Adobe Systems Commerce, varios de estos proyectos (por ejemplo, B2B y Progressive Web Applications (PWA) Studio) también se publican de forma independiente. Las correcciones de estos proyectos se documentan en la información de versión separada y específica del proyecto que está disponible en la documentación de cada proyecto.

## Adobe Systems Commerce 2.4.7 destacados

Look para los siguientes aspectos destacados de esta versión.

### Mejoras de seguridad

Esta versión incluye las mismas correcciones de seguridad y mejoras de seguridad de plataforma que se incluyen en Adobe Systems Commerce 2.4.6-p5, 2.4.5-p7 y 2.4.4-p8. Consulte [Adobe Systems boletín](https://helpx.adobe.com/security/products/magento/apsb24-18.html) de seguridad para obtener la explicación más reciente de estos problemas corregidos.

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, ciertas vulnerabilidades pueden explotarse para acceder a la información del cliente o hacerse cargo de sesiones de administrador. La mayoría de estos problemas requieren que un atacante obtenga primero acceso al administrador. Como resultado, le recordamos que tome todas las medidas necesarias para proteger a su Administrador, incluidos, entre otros, estos esfuerzos:

* Lista de direcciones IP permitidas
* [Autenticación de dos factores](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Uso de una VPN
* Uso de una ubicación única en lugar de `/admin`
* Buena higiene contraseña

#### Mejoras de seguridad adicionales

Las mejoras de seguridad para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes.

* **Cambios en el comportamiento de las claves de caché no generadas**:

   * Las claves de caché no generadas para bloques ahora incluyen prefijos que difieren de los prefijos para las claves generadas automáticamente. (Las claves de caché no generadas son claves que se establecen mediante plantilla sintaxis de directiva o los `setCacheKey` métodos o `setData` ).
   * Las claves de caché no generadas para bloques ahora deben contener solo letras, dígitos, guiones (-) y caracteres de subrayado (_). <!-- AC-9831 -->

* **Limitaciones en el número de códigos de cupones generados automáticamente**. Commerce ahora limita el número de códigos de cupones que se generan automáticamente. El máximo predeterminado es 250 000. Los comerciantes pueden usar la nueva opción de configuración **[!UICONTROL Code Quantity Limit]** (**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Promotions]**) para evitar que el sistema se vea desbordado por muchos cupones. <!-- AC-8753 -->

* **Optimización del proceso predeterminado de generación de URL de administración**. La generación de la URL de administrador predeterminada se ha optimizado para aumentar la aleatoriedad, lo que hace que las URL generadas sean menos predecibles. <!-- AC-9028 -->

* **Se ha agregado compatibilidad con** la integridad de subrecursos (SRI) para cumplir con los requisitos de la versión PCI 4.0 para la verificación de la integridad de los scripts en las páginas de pago. La compatibilidad con la integridad de subrecursos (SRI) proporciona hashes de integridad para todos los JavaScript activos que residen en el sistema de archivos local. La función SRI predeterminada se implementa solo en las páginas de pago para las áreas de administración y escaparate. Sin embargo, los comerciantes pueden extender la configuración predeterminada a otras páginas. Consulte [Integridad](https://developer.adobe.com/commerce/php/development/security/subresource-integrity/) de subrecursos en la Guía _para desarrolladores de_ PHP de comercio.<!--AC-1153-->

* **Cambios en la política de seguridad de contenido (CSP):** actualizaciones de configuración y mejoras en Adobe Systems políticas de seguridad de contenido (CSP) de Commerce para cumplir con los requisitos de PCI 4.0. Para obtener más información, consulte [Políticas](https://developer.adobe.com/commerce/php/development/security/content-security-policies/) de seguridad de contenido en la Guía _para_ desarrolladores de Commerce PHP.<!--AC-11513-->

   * La configuración de CSP predeterminada para las páginas de pago para las áreas de administración de comercio y escaparate ahora `restrict` está en modo. Para todas las demás páginas, la configuración predeterminada es `report-only` el modo.  En versiones anteriores a la 2.4.7, el CSP se configuraba en `report-only` modo para todas las páginas.

   * Se ha agregado un proveedor nonce para permitir la ejecución de scripts en línea en un CSP. El proveedor de nonce facilita la generación de cadenas de nonce únicas para cada solicitud. A continuación, las cadenas se adjuntan al encabezado CSP.

   * Se han agregado opciones para configurar URI personalizados para informar de infracciones de CSP para el Página de pedidos de Crear en el Administrador y el Página de cierre de compra en el escaparate. Puede agregar la configuración desde el administrador o agregando el URI al `config.xml` archivo.

     >[!NOTE]
     >
     >La actualización de la configuración del CSP al `restrict` modo podría bloquear los scripts en línea existentes en las páginas de pago en el Administrador y el escaparate, lo que provoca el siguiente error explorador cuando se carga un Página: `Refused to execute inline script because it violates the following Content Security Policy directive: "script-src`. Corrija estos errores actualizando la configuración de la lista blanca para permitir los scripts necesarios. Consulte [Solución de problemas](https://developer.adobe.com/commerce/php/development/security/content-security-policies/#troubleshooting) en la Guía _para_ desarrolladores de Commerce PHP.

* Una nueva configuración de caché de Página completa puede ayudar a mitigar los riesgos asociados con el extremo HTTP `{BASE-URL}/page_cache/block/esi` . Este extremo admite fragmentos de contenido cargados dinámicamente sin restricciones procedentes de controladores de diseño de comercio y estructuras de bloques. La nueva **[!UICONTROL Handles params size]** configuración establece el valor del `handles` parámetro de este extremo, que determina el número máximo permitido de identificadores por API. El valor predeterminado de este Propiedad es 100. Los comerciantes pueden cambiar este valor desde el Administrador (**[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL System]** > **[!UICONTROL Full Page Cache]** > **[!UICONTROL Handles params size]**). Consulte [Configurar el aplicación comercio para utilizar barniz](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/configure-varnish-commerce.html). <!-- AC-9113 -->

* **Limitación de tasa nativa para la información de pago transmitida a través de las API** REST y GraphQL. Los comerciantes ahora [pueden configurar la limitación](https://experienceleague.adobe.com/en/docs/commerce-admin/config/sales/sales#rate-limiting) de tasa para la información de pago transmitida mediante REST y GraphQL. Esta capa adicional de protección respalda la prevención de ataques de cardado y potencialmente disminuye el volumen de ataques de cardado que prueba muchos números de tarjeta de crédito a la vez. Esto es un cambio en el comportamiento predeterminado de un punto final REST existente. Consulte [Limitación de](https://developer.adobe.com/commerce/webapi/get-started/rate-limiting/) velocidad.

* Se ha modificado el comportamiento predeterminado de la [consulta isEmailAvailable](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQL y del punto final REST ([V1/customers/isEmailAvailable](https://adobe-commerce.redoc.ly/2.4.7-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)). De forma predeterminada, las API ahora siempre devuelven `true`. Los comerciantes pueden habilitar el comportamiento original estableciendo la opción Habilitar inicio *[de sesión](https://experienceleague.adobe.com/en/docs/commerce-admin/config/sales/checkout)* de Guest Checkout en el Administrador en `yes`, pero al hacerlo se puede exponer la información del cliente a usuarios no autenticados.

### Platform mejoras

Platform actualizaciones de esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes.

Adobe Systems Commerce 2.4.7 incluye las siguientes actualizaciones de plataforma:

* **Compatibilidad** con PHP 8.3. Esta versión introduce compatibilidad con PHP 8.3. Commerce ahora es compatible con PHP 8.3 y 8.2. PHP 8.2 será compatible hasta su fecha de fin de servicio (EOS) en diciembre de 2025. Después de diciembre de 2025, todos los comerciantes que ejecuten implementaciones de 2.4.7 deberían migrar a PHP 8.3. <!-- AC-8988 -->

Adobe Systems Commerce 2.4.7 sigue siendo compatible con PHP 8.1 solo para fines de actualización. PHP 8.1 no es compatible y no se recomienda. Adobe Systems código central de Commerce 2.4.7, todas las extensiones empaquetadas y todas las extensiones y servicios SaaS propiedad de Adobe Systems son compatibles con PHP 8.3. <!-- AC-9668 -->

* **Soporte para RabbitMQ 3.13**. Esta versión es compatible con la última versión de RabbitMQ 3.13. Compatibilidad permanece con RabbitMQ 3.11 y 3.12, que son compatibles hasta agosto de 2024 y diciembre de 2024 respectivamente, pero Adobe Systems recomienda usar Adobe Systems Commerce 2.4.7 solo con RabbitMQ 3.13. <!-- AC-9659 -->

* **Compositor 2.7.x**. Compatibilidad con Composer 2.2.x permanece. <!-- AC-9663 -->

* **Soporte para Varnish cache 7.4**. Esta versión es compatible con la última versión de Varnish Cache 7.4. Compatibilidad mantiene con las versiones 6.0.x y 7.2.x, pero recomendamos usar Adobe Systems Commerce 2.4.7 solo con Varnish Cache versión 7.4 o versión 6.0 LTS. <!-- AC-9662 -->

* **Elasticsearch Compatibilidad con 8.11**<!-- AC-9661 -->

* Compatibilidad con Opensearch 2.12 y OpenSearch 1.3 <!-- AC-9659 -->

* **Redis 7.2** <!-- AC-10811 -->

* El `extjs` biblioteca se ha reemplazado por la última versión de `jsTree`. <!-- AC-9320 -->

* `jquery/fileUpload` biblioteca se ha eliminado. <!-- AC-10569 -->

Todas las dependencias JavaScript bibliotecas y NPM del código principal de Adobe Systems Commerce se han actualizado a las últimas versiones disponibles. Todas las dependencias biblioteca de Laminas han sido actualizadas a la última versión que son compatibles con PHP 8.3. <!-- AC-9667 9665 -->

#### Actualizaciones adicionales

* **Compatibilidad** con varios cupones por pedido. Los comerciantes ahora pueden [configurar el número máximo de cupones](https://experienceleague.adobe.com/en/docs/commerce-admin/config/sales/sales#multicoupon-settings) que se pueden aplicar por pedido con la nueva opción de configuración **[!UICONTROL Maximum number of coupons per order]**. Este valor se establece en 1 de forma predeterminada. Ahora puede usar [REST](https://developer.adobe.com/commerce/webapi/rest/modules/multicoupon/) o [GraphQL](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/apply-coupons/) para aplicar varios cupones a un carro de compras.

* La puerta de enlace de la API XML de Commerce UPS se ha migrado a la nueva [API REST de Commerce UPS](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/delivery/shipping-carriers/ups) para admitir las actualizaciones que UPS está realizando en su [modelo de seguridad de API](https://developer.ups.com/oauth-developer-guide). (UPS está implementando un modelo de seguridad OAuth 2.0 (tokens de portador) para todas las API). Todas las API XML de UPS de Commerce anteriores se han eliminado de la base de código de Adobe Commerce 2.4.7. <!-- AC-8918 -->

* La integración de Adobe Commerce [integration](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/delivery/shipping-carriers/fedex) con FedEx se ha migrado de los servicios web WSDL de FedEx heredados a las API RESTful más recientes de FedEx. El seguimiento de servicios web de FedEx, la validación de direcciones y la validación de códigos postales WSDLS se retirarán en mayo de 2024. <!-- AC-1470 -->

* Se ha agregado compatibilidad con el nuevo método de envío USPS Ground Advantage. Esta es una integración lista para usar con el nuevo método de envío de USPS, USPS Ground Advantage, que se publicó en julio de 2023. Esta nueva integración se puede utilizar para recuperar las tarifas de envío y programar las entregas y devoluciones a través del servicio de envío de USPS. El método de envío USPS Ground Advantage reemplaza estos métodos de envío, que se retiraron cuando se lanzó el método de envío USPS Ground Advantage:

   * Masa para minoristas de USPS
   * Servicio de paquetes de primera clase
   * Terreno de selección de paquetes <!-- AC-9182 -->

* Los módulos de envío Temando se han eliminado de la base de código Commerce principal. Esta característica quedó obsoleta en Adobe Commerce 2.4.4. <!-- AC-8130 -->

### Mejoras de rendimiento y escalabilidad

Commerce 2.4.7 incluye las siguientes mejoras en el rendimiento y la escalabilidad de Commerce:

* Los comerciantes empresariales ahora pueden configurar hasta **un millón de reglas activas de precios de carros de compras basadas en cupones** en Adobe Commerce sin que se produzcan degradaciones significativas del rendimiento de las operaciones de carros de compras y pagos. <!-- ACPT-1198 -->

* **Administración mejorada del indizador**. El nuevo comando `indexer:set-status` admite la administración dinámica del estado del indizador. Los usuarios administradores pueden usar este comando para cambiar el estado del indizador a `suspended`, `invalid` o `valid`. Esta función es especialmente útil para administrar el rendimiento del sistema durante amplias operaciones masivas, como importaciones o actualizaciones de productos, ya que permite controlar cuándo los indexadores se activan automáticamente mediante los trabajos cron del sistema. Consulte [Administrar los indexadores](https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/manage-indexers.html).

* **Página de lista de productos para productos complejos con muchas opciones**. El tiempo de carga ha mejorado para las páginas de listas de productos que incluyen productos complejos con más de 100 opciones. También ha mejorado el rendimiento de las solicitudes de GraphQL para enumerar productos por categoría. <!-- ACPT-1683 -->

* **Ahora se admite el formato JSON para la [API de importación](https://developer.adobe.com/commerce/webapi/rest/modules/import/)** de REST. Los comerciantes ahora pueden importar hasta 100 000 registros por minuto en Adobe Commerce en formato JSON. <!-- ACPT-943 -->

* **Mejoras en el rendimiento de las reglas de ventas**. Se ha mejorado el rendimiento de las implementaciones empresariales con muchas reglas de ventas activas (aproximadamente 100 000). Las implementaciones empresariales que implementan en gran medida promociones suelen implementar muchas reglas de carro de compras activas. Estos tipos de implementaciones empresariales que ejecutan Commerce 2.4.7 no verán ninguna degradación de rendimiento relacionada con el número de reglas de precios del carro de compras configuradas durante las operaciones de cierre de compra. <!-- ACPT-1198 -->

* **Operaciones de guardado más rápidas de las configuraciones de nivel de tienda para implementaciones con muchas tiendas**. Guardar las opciones de configuración en implementaciones con más de 500 tiendas puede llevar mucho tiempo. El nuevo módulo [Async Config](../../../performance/configuration.md#asynchronous-configuration-save) habilita las operaciones asincrónicas de guardado de configuración ejecutando un trabajo cron que usa un consumidor para procesar la operación de guardado en una cola de mensajes. AsyncConfig está deshabilitado de forma predeterminada.

* **Generación más rápida de la caché de configuración para configuraciones grandes**. El comando `bin/magento cache:clean config` ahora calienta previamente la caché de configuración cuando esta está habilitada. Esto reduce el tiempo de inactividad necesario para generar la caché de configuración para configuraciones grandes. Las operaciones de guardado de configuración ya no limpian la caché de `config_scopes` antes de escribir datos en ella, lo que también reduce el tiempo que otras solicitudes están bloqueadas mientras se escriben los datos de configuración.

### GraphQL Application Server

[El servidor](../../../performance/application-server.md) de aplicaciones GraphQL permite a Adobe Systems Commerce mantener el estado entre las solicitudes de API de Commerce GraphQL y elimina la necesidad de arranque, lo que da como resultado un mayor rendimiento, menor latencia y un uso eficiente de los recursos para todas las API de GraphQL. Al compartir aplicación estado entre los procesos, las solicitudes de API de GraphQL se vuelven significativamente más eficientes y las respuestas de API de GraphQL son en promedio un 30% más rápidas.<!-- ACPT-27 -->

El servidor de aplicaciones GraphQL solo está disponible para Adobe Systems Commerce. No está disponible para Magento Open Source. Debe [enviar un vale de soporte](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/help-center-guide/magento-help-center-user-guide) de Adobe Systems Commerce para habilitar GraphQL Application Server en proyectos Pro.

>[!NOTE]
>
>GraphQL Application Server no es compatible actualmente con [[!DNL Amazon Simple Storage Service (AWS S3)]](https://aws.amazon.com/s3/). Adobe Systems Commerce en infraestructura en la nube clientes que actualmente usan [!DNL AWS S3] para [almacenamiento](../../../configuration/remote-storage/cloud-support.md) remota no pueden usar GraphQL Application Server hasta que Adobe Systems publique una revisión más adelante en 2024.<!-- ACPT-1840 -->

### Metapaquete de extensión de comercio de Adobe Systems

Esta versión presenta el metapaquete Adobe Systems Commerce Extension v2.0.0, que agrupa automáticamente las extensiones Adobe Systems Commerce seleccionadas con esta versión principal. Las versiones de estas extensiones que se incluyen en este metapaquete se instalan cuando `composer update` se ejecuta, lo que simplifica el proceso de actualización de estas extensiones al actualizar a la última versión principal. Estas extensiones mantienen programaciones de lanzamiento independientes.

El metapaquete de extensión de Adobe Systems Commerce para Adobe Systems Commerce 2.4.7 incluye estas extensiones:

* [SDK de IU de administración de comercio de Adobe Systems](https://developer.adobe.com/commerce/extensibility/admin-ui-sdk/)
* [Integración de Adobe Systems Commerce con Adobe Systems IMS](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html)
* [Adobe Systems eventos de E/S para Adobe Systems comercio](https://developer.adobe.com/commerce/extensibility/events/)
* [Adobe Stock](https://experienceleague.adobe.com/en/docs/commerce-admin/content-design/wysiwyg/adobe-stock/adobe-stock)
* [Braintree](https://experienceleague.adobe.com/docs/commerce-admin/stores-sales/payments/braintree.html)
* [Servicios de pago](https://experienceleague.adobe.com/docs/commerce/payment-services/guide-overview.html)

Las versiones futuras de este metapaquete de extensión pueden contener extensiones adicionales.

### Webhooks de Adobe Systems Commerce

Los webhooks de comercio (v1.2.0) permiten a los desarrolladores configurar la lógica sincrónica para ejecutar llamadas a sistemas externos cuando se activa una evento de comercio Adobe Systems. Las llamadas sincrónicas son necesarias cuando Commerce debe calcular o validar inmediatamente un valor como el total de un pedido, impuestos o pagos mediante un extremo terceros y, posteriormente, volver a escribir el resultado en Adobe Systems Commerce.

Los webhooks de comercio ahora están instalados de forma predeterminada. Consulte [Adobe Systems Descripción general de Webhooks de comercio](https://developer.adobe.com/commerce/extensibility/webhooks/)

### Adobe Stock

El paquete Adobe Stock (`adobe-stock-integration`) ahora está empaquetado en el metapaquete de extensiones de comercio (`extensions-metapackage`) para admitir actualizaciones más frecuentes. <!-- CABPI-630 -->

### B2B

>[!NOTE]
>
>La versión 2.4.7 es compatible con B2B 1.4.2. Sin embargo, Adobe Systems recomienda que los clientes esperen a la próxima versión de B2B 1.5.0 GA antes de actualizar, que incluye soporte para PHP 8.3. Consulte [B2B Notas de la versión](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Braintree

* **[!DNL Vaulted PayPal]y [!DNL Pay Later] Cambios**: los clientes registrados que previamente han almacenado sus PayPal cuenta tienen la opción de pagar con:
   * [!DNL Pay Now] (sin tener que iniciar sesión en su [!DNL PayPal] cuenta, el usuario puede pagar con su tarjeta predeterminado)
   * Pague con una fuente de financiación diferente
   * Paga con un cuenta diferente
   * [!DNL PayPal Pay Later] o [!DNL PayPal Credit] botón

* **Compatibilidad con[!DNL Google Pay]** 3DS: se ha incluido la compatibilidad de verificación de 3DS para las [!DNL Google Pay] tarjetas sin token. Consulte la documentación](https://developer.paypal.com/braintree/docs/guides/3d-secure/client-side/android/v3#using-3d-secure-with-google-pay) de Braintree [para obtener más información.

* **[!DNL Vault Apple Pay Payments]**: permite a los clientes conectados bóveda/tienda sus [!DNL Apple Pay] pagos a sus tienda de comercio cuenta usarlos en transacciones futuras. Esto reduce el número de pasos en el cierre de compra y crea un experiencia de pago más rápido para el cliente que regresa.

* **[!DNL Vault Google Pay Payments]**: permite a los clientes conectados bóveda/tienda sus [!DNL Google Pay] pagos a sus tienda de comercio cuenta usarlos en transacciones futuras. Esto reduce el número de pasos en el cierre de compra y crea un experiencia de pago más rápido para el cliente que regresa.

* **[!DNL Vault Venmo Payments]**: permita a los clientes conectados bóveda/tienda [!DNL Venmo] sus cuentas a sus tienda de comercio cuenta para usarlas en futuras transacciones. Esto reduce el número de pasos en el cierre de compra y crea un experiencia de pago más rápido para el cliente que regresa.

* **[!DNL Vault ACH Payments]**: permita a los clientes conectados bóveda/tienda sus pagos ACH a su tienda de comercio cuenta para usarlos en transacciones futuras. Esto reduce el número de pasos en el cierre de compra y crea un experiencia de pago más rápido para el cliente que regresa.

* **[!UICONTROL Express Payment]botones en la parte superior del proceso** de pago: para fomentar un experiencia de pago más rápido, hemos introducido [!DNL Express Payment] opciones al principio del proceso de pago. Los clientes ahora pueden pagar por [!DNL PayPal], [!DNL PayPal Pay Later], [!DNL Apple Pay], y [!DNL Google Pay Express] pagos.

* **[!DNL Braintree]Notas de la versión y vínculos de asistencia dentro de la configuración** del administrador: los comerciantes ahora pueden vincular directamente desde el administrador de comercio para Braintree soporte y Notas de la versión en línea.

* **Compatibilidad de GraphQL con todos los [!DNL Braintree] métodos de pago excepto[!DNL Venmo]**—se exponen más configuraciones en la API de GraphQL. Esto es particularmente útil para aplicaciones sin cabeza.

* **[!DNL Vaulting]pagos en cuenta área**: los clientes conectados ahora [pueden bóveda/tienda](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree#step-3-complete-the-advanced-settings) nuevas tarjetas de crédito/débito y [!DNL PayPal] cuentas en el área de cuenta al cliente. Anteriormente, los clientes solo podían bóveda / tienda al guardar sus pagos para su uso posterior al completar una transacción en el pago, ahora pueden almacenar nuevas tarjetas de crédito / débito y cuentas PayPal sin necesidad de crear una nueva transacción.

* **Transacciones** sin fricción: las transacciones sin fricción aceleran el proceso de pago al reducir la cantidad de clics / pasos de los clientes para completar una transacción de tarjeta de crédito / débito en línea. Anteriormente (cuando 3DS estaba habilitado), todos los clientes eran desafiados por 3DS. Con la nueva función Frictionless Transactions, los clientes solo tienen problemas para 3DS cuando el banco lo solicita. Esto reduce el abandono carro de compras, aumenta las tasas de Conversión y conduce a más ventas.

* **Webhooks de disputas**: cuando un cliente disputa una transacción en Braintree, el estado de la disputa ahora se pasa a Commerce. Se puede buscar en la cuadrícula **[!UICONTROL Sales]** > **[!UICONTROL Order]** y se adjunta a cada pedido.

### Integración de Commerce con Adobe IMS

El paquete de integración de IMS de Adobe (`adobe-commerce/adobe-ims-metapackage`) ahora está empaquetado en el metapaquete de extensiones de Commerce (`extensions-metapackage`) para admitir actualizaciones más frecuentes. <!-- CABPI-630 -->

### GraphQL

Commerce 2.4.7 incluye capacidades mejoradas de GraphQL almacenamiento en caché, soporte para el esquema GraphQL para atributos personalizados, soporte para cancelación de pedidos sin cabeza y almacenamiento en caché de resolución mejorado.

* **Gestión de carro de compras** más flexible. La `clearCart` mutación ahora borra el contenido de un carro de compras especificado en una sola acción. Reemplaza a la `clearCustomerCart` mutación, que ha sido obsoleta. <!-- LYNX-254 -->

* **Las mejoras en la creación carro de compras mutaciones**. La `createGuestCart` mutación se ha agregado para reemplazar la mutación obsoleta `createEmptyCart` . Anteriormente, si utilizaba `createEmptyCart`, no podía determinar si el carro de compras era para un invitado o un cliente conectado. <!-- LYNX-224 -->

* **Los artículos pedidos ahora incluyen imágenes de** producto. `OrderItemInterface` Expone imágenes de productos, lo que permite asociarlas con productos pedidos y cargarlas de forma más eficaz.  [GitHub-32369](https://github.com/magento/magento2/issues/32369) <!-- AC-7918 -->

* **Compatibilidad ampliada para resolver almacenamiento en caché**. Los siguientes solucionadores de consulta de GraphQL ahora se pueden almacenar en caché en la caché de resultados de GraphQL Resolver, lo que mejora el rendimiento cuando se envían consultas con solicitudes POST:

   * `Magento\CustomerGraphQl\Model\Resolver\Customer::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\CustomerAddress::resolve`
   * `Magento\CustomerGraphQl\Model\Resolver\IsSubscribed::resolve` <!-- B2B-2658 -->
   * `Magento\CatalogGraphQl\Model\Resolver\Product\MediaGallery::resolve` <!-- B2B-2677 -->

* **Soporte para cancelación de pedidos**. La [mutación cancelOrder](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) permite a un cliente cancelar un pedido, pasando su identificador y un motivo de cancelación. <!-- LYNX-197 -->

   * Los nuevos campos de respuesta `order_cancellation_enabled` y `order_cancellation_reasons.description` en `storeConfig`
solicitudes de cancelación de pedidos iniciadas por el usuario. Ver [Consultar la configuración de cancelación de pedidos de un almacén](https://developer-stage.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/#query-a-stores-order-cancellation-configuration)

* **Compatibilidad mejorada con atributos personalizados**. La compatibilidad con atributos personalizados de GraphQL se ha mejorado mediante el enriquecimiento de los datos de API para admitir todos los tipos de atributos. El esquema de atributos EAV de GraphQL ahora admite la ampliación de atributos del cliente y objetos de dirección del cliente en el administrador y su recuperación mediante GraphQL. Algunas áreas específicas de mejora son: <!-- LYNX-61 110-->

   * compatibilidad con atributos personalizados ampliados/añadidos en áreas específicas como cliente y dirección del cliente
   * se ha agregado almacenamiento en caché para atributos personalizados
   * se ha mejorado la compatibilidad de atributos personalizados existentes con productos

* **Las capacidades mejoradas de almacenamiento en caché de GraphQL mejoran la velocidad de carga de la página**. Se ha añadido la capacidad de almacenamiento en caché a estas consultas, lo que mejora la velocidad del tiempo de carga de la página para la mayoría de las páginas de PWA:

   * [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/)
   * [`countries`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) y [país](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/)
   * [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/)
   * [`currency`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/)
   * [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata)

* **Rendimiento mejorado del analizador de GraphQL**. Se ha mejorado el rendimiento del analizador GraphQL al reducir el número de veces que se llama al método de análisis por solicitud. Ahora se llama una vez. Anteriormente, se llamaba al analizador al menos tres veces.

#### Nuevo campos para mutaciones existentes

* Se ha añadido el `quickorder_active` campo a las [consultas storeConfig](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) y [availableStores](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) . Este campo indica si la función de pedido rápido está activada.

* Se han añadido los campos siguientes a las `setBillingAddressOnCart` mutaciones and `setShippingAddressesOnCart` :

   * `fax`
   * `middlename`
   * `prefix`
   * `suffix`

#### Nuevo consultas y mutaciones

* [`attributeForms`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-form/) consulta<!-- LYNX-151 -->
* [`attributesList`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-list/) consulta<!-- LYNX-150 -->
* [`guestOrder`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/) consulta
* [`guestOrderByToken`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/) consulta
* [`recaptchaFormConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/recaptcha-form-config/) consulta
* [`cancelOrder`](https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/) mutación<!-- LYNX-172 -->
* [`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) consulta
* [`applyCouponsToCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/apply-coupons/) mutación
* [`clearCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/clear-cart/) mutación
* [`confirmEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/confirm-email/) mutación
* [`createGuestCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/create-guest-cart/) mutación
* [`estimateShippingMethods`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/estimate-shipping-methods/) mutación
* [`estimateTotals`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/estimate-totals/) mutación
* [`removeCouponsFromCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/remove-coupons/) mutación

#### Consultas y mutaciones obsoletas

* `clearCustomerCart` mutación<!-- LYNX-254 -->
* [`createEmptyCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/create-empty-cart/) mutación<!-- LYNX-224 -->
* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) consulta
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/) consulta

### Administración de inventario

Administración de inventario (v1.2.7) proporciona herramientas para administrar inventario del producto. Esta característica desarrollada comunidad se incluye con Adobe Systems Commerce y Magento Open Source código central.

### Pagos

* Se ha agregado soporte GraphQL para las operaciones principales para todos los métodos de pago, excepto Venmo. Nuevo puntos finales de GraphQL para servicios de pago se describen en [Checkout](https://developer.adobe.com/commerce/webapi/graphql/schema/checkout/). <!-- BUNDLE-3326 -->

* La bóveda de crédito tarjeta se ha mejorado para todos los métodos de pago, excepto Venmo. Los compradores ahora pueden guardar sus pagos ACH y vista o eliminarlos de su Página cuenta. Los comerciantes pueden habilitar y deshabilitar los pagos abovedados ACH desde el administrador. <!-- BUNDLE-3324 -->

* El flujo de trabajo de pago ahora incluye una sección de pago expreso que proporciona botones PayPal, Google Pay y Apple Pay **[!UICONTROL Express]** . <!-- BUNDLE-3322 -->

[El Opciones](https://experienceleague.adobe.com/docs/commerce/payment-services/payments-checkout/payments-options.html) de pago introduce los métodos de pago admitidos.

### PWA Studio

PWA Studio v14.0 es compatible con Adobe Systems Commerce 2.4.7. Incluye múltiples mejoras para mejorar la accesibilidad. Para obtener información acerca de las correcciones de errores, consulte [versiones de PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [Versión compatibilidad](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de PWA Studio versiones y sus versiones principales compatibles de Adobe Systems Commerce.

### marco de trabajo de API web

**Trabajar con varios cupones por carro de compras**

Nuevo extremos REST admiten la visualización, adición y eliminación de varios cupones asociados a una carro de compras.

>[!NOTE]
>
>Por primera vez, varias rutas de puntos finales REST contienen la cadena `V2` en lugar de `V1`. Por ejemplo, `GET /rest/default/V2/carts/{cartId}/coupons`. Para los comerciantes de comercio, estos extremos están pensados para reemplazar las `V1` versiones de los extremos. Estos puntos finales solo están disponibles en Adobe Systems Commerce.<!-- LYNX-208 -->

Devolver todos los códigos cupón asociados a un carro de compras:

`GET  /rest/{store_code}/V2/carts/{cartId}/coupons`
`GET  /rest/{store_code}/V2/carts/mine/coupons`

Anexar un código cupón a un carro de compras:

`POST /rest/{store_code}/V2/carts/{cartId}/coupons/{couponCode}`
`POST /rest/{store_code}/V2/carts/mine/coupons/{couponCode}`

Reemplazar cupón códigos en una carro de compras:

`PUT /rest/{store_code}/V2/carts/{cartId}/coupons`
`PUT /rest/{store_code}/V2/carts/mine/coupons`

Quitar cupón códigos de un carro de compras:

`POST /rest/{store_code}/V2/carts/{cartId}/coupons/deleteByCodes`
`POST /rest/{store_code}/V2/carts/mine/coupons/deleteByCodes`

**Puntos** finales adicionales
Esta versión introduce dos nuevos puntos finales REST que proporcionan una solución alternativa para una limitación con la API `GET` de REST y `POST V1/products/attributes` los puntos de conexión. Estos extremos devuelven el mismo valor para el `is_filterable` atributo para las `Filterable(with results)` opciones y `Filterable(no results)` de la **[!UICONTROL Use in Layered Navigation]** opción. (El `is_filterable` atributo Propiedad es del tipo `Boolean`, lo que no permite establecer este Propiedad en `Filterable(no results)`.)

Se han implementado dos nuevos puntos finales REST como solución provisional:

* `PUT /V1/products/attributes/{attributeCode}/is-filterable/{isFilterable}`. Parámetros de ruta: `attributeCode` (`String`) y `isFilterable` (`int` los valores son: 0 es No; 1 es `Filterable (with results)`; 2 es `Filterable (no results)`).
* `GET /V1/products/attributes/{attributeCode}/is-filterable`. Parámetros de ruta: `attributeCode` (`String`).<!-- ACP2E-2275 -->

## Problemas solucionados

Hemos corregido cientos de problemas en el código principal de Adobe Commerce 2.4.7. A continuación, se describe un subconjunto de los problemas corregidos que se incluyen en esta versión. También se describen las correcciones incluidas en las versiones anteriores de Commerce 2.4.7-beta.

### Instalación, actualización implementación

<!-- AC-10396 -->

* La manipulación innecesaria de la caché se ha eliminado del proceso de configuración. Anteriormente, Commerce escribía su configuración en disco innecesariamente cuando `bin/magento setup:db-data:upgrade` `bin/magento setup:upgrade` o se ejecutaba, lo que causaba problemas con los módulos som durante la instalación. [GitHub-38124](https://github.com/magento/magento2/issues/38124)

<!-- ACP2E-1675 -->

* Se han resuelto los problemas de implementación debidos a la memoria insuficiente y a las tablas grandes. El `bin/magento  setup:upgrade` comando ya no falla debido a errores excedidos en la memoria que están relacionados con grandes tablas MySQL.

<!-- ACP2E-2198 -->

* `bin/magento setup:install` ahora se completa correctamente después `app/etc/config.php` de se ha eliminado. Anteriormente, el archivo faltante no se regeneraba durante la instalación y Commerce arrojaba un error. [GitHub-37805](https://github.com/magento/magento2/issues/37805)

<!-- AC-8381 -->

* `bin/magento setup:upgrade` se ha refactorizado para que se ejecute correctamente al instalar un nuevo módulo que instala tablas e indizadores asociados `mview` . [GitHub-37304](https://github.com/magento/magento2/issues/37304)

<!-- ACP2E-1882 -->

* La restauración de la base de datos ya no falla debido a un error delimitador. Anteriormente, Commerce arrojaba este error cuando `bin/magento setup:rollback --db` se ejecutaba: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1505 -->

* El `bin/magento setup:upgrade` comando ya no falla con este tipo de error relacionado con el límite de memoria de MySQL: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. La migración de atributos de selección múltiple se ha optimizado para consumir menos memoria durante `setup:upgrade`.

<!-- ACP2E-1751 -->

* La generación de un copia de seguridad de base de datos ahora funciona según lo esperado tanto desde la línea de administración como desde la línea de comandos. Anteriormente, Adobe Systems de Comercio arrojaba este error: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* Ejecutar `setup:config:set` sin especificar el `--lock-db-prefix` parámetro ya no borra el valor actual del `env.php` archivo.

<!-- ACP2E-1498 -->

* La configuración de barniz se ha actualizado para evitar que los usuarios invitados accedan a contenido en caché relacionadas con otros grupos de clientes.

<!-- AC-7113 -->

* Los compradores ahora pueden realizar un pedido en una implementación que implementa la base de datos dividida cuando **[!UICONTROL Checkout Async]** está habilitada. Anteriormente, Adobe Systems de Comercio arrojaba este error: `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` ahora se completa correctamente al instalar un nuevo módulo que instala tablas e indizadores asociados `mview` .

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` Ahora muestra un mensaje de error más informativo cuando un mensaje cola tema no incluye un nombre de tema. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` ahora muestra un mensaje de error más informativo cuando se no válido archivos XML combinados. El mensaje de error ahora incluye el nombre de archivo.

### Administrador IU

<!-- AC-10998 -->

* Los gráficos ahora están correctamente deshabilitados de forma predeterminada en el panel. [GitHub-38430](https://github.com/magento/magento2/issues/38430)

<!-- AC-9423 -->

* El menú Ventas de administración ahora muestra los submenús correctamente. Anteriormente, el salto de columna no funcionaba correctamente y algunos submenús no se mostraban. [GitHub-37812](https://github.com/magento/magento2/issues/37812)

<!-- AC-3122 -->

* **[!UICONTROL Select]** Las opciones del menú desplegable ahora están visibles en la > **[!UICONTROL Pages]** de administración **[!UICONTROL Content]** cuando se seleccionan varias páginas en la cuadrícula. [GitHub-35386](https://github.com/magento/magento2/issues/35386)

<!-- AC-9209 -->

* Se ha corregido la ruta al valor predeterminado de en los ajustes de `system/dashboard/enable_charts` configuración. Los gráficos ahora se muestran en el Administrador según lo esperado. [GitHub-37668](https://github.com/magento/magento2/issues/37668)

<!-- AC-9632 -->

* Se ha corregido el problema de visualización con las cuadrículas de clientes de administración. Anteriormente, las columnas de cuadrícula no estaban completamente contenidas en el Página mostrado.

<!-- AC-2916 -->

* Los colores al pasar el cursor ahora se aplican como se espera en las filas de las cuadrículas estáticas de administración. [GitHub-35358](https://github.com/magento/magento2/issues/35358)

<!-- AC-7551 -->

* El flujo de trabajo de cierre de compra ya no muestra una advertencia cuando un comprador introduce un código postal para Grecia que no contiene un espacio en blanco. [GitHub-36676](https://github.com/magento/magento2/issues/36676)

<!-- AC-9357 -->

* El vincular de administración `It's time to change your password` ahora redirige al Contraseña de administración de cambios Página como se esperaba. [GitHub-37902](https://github.com/magento/magento2/issues/37902)

<!-- ACP2E-2460 -->

* Los títulos de submenú ahora indican cualquier elemento del mismo nivel, independientemente del nivel de acceso asignado al usuario. Anteriormente, esta información se ocultaba a los usuarios administradores con acceso limitado, incluso si existían varios grupos del mismo nivel para el submenú.

<!-- AC-9164 -->

* Los sufijos de título de página ahora se incluyen en la etiqueta `title` y en la etiqueta `meta title` para las páginas de producto. [GitHub-37680](https://github.com/magento/magento2/issues/37680)

<!-- ACP2E-2023 -->

* La condición de estado de stock de productos ahora se aplica correctamente a las reglas de productos relacionadas.

<!-- ACP2E-2083 -->

* El botón **[!UICONTROL Login as Customer]** ahora se muestra correctamente en dispositivos móviles.

<!-- ACP2E-2146 -->

* Adobe Commerce ya no muestra el botón Administrador **[!UICONTROL Add new customer group]** si el usuario administrador que ha iniciado sesión no tiene permiso para agregar un nuevo grupo de clientes.

<!-- ACP2E-2286 -->

* Un usuario administrador con permisos restringidos ahora puede guardar un producto secundario cuyo producto principal esté asignado a un ámbito diferente. Anteriormente, Commerce invalidaba la memoria caché de un producto principal que no estaba asignado al ámbito en el que se cambió el producto secundario.

<!-- ACP2E-2042 -->

* Los usuarios administradores ahora pueden cambiar correctamente entre las vistas de filtro de administración sin que se dañen o pierdan los datos de vista. [GitHub-37529](https://github.com/magento/magento2/issues/37529)

<!-- ACP2E-2068 -->

* La cuadrícula de pedidos archivada ahora se actualiza asincrónicamente con nuevos estados de pedidos según lo esperado. Un enfoque basado en eventos para actualizar el estado de los pedidos en la cuadrícula del archivo da como resultado un estado de los pedidos preciso, incluidos los reembolsos posteriores a la nota de crédito.

<!-- ACP2E-2049 -->

* El menú desplegable Acciones de la cuadrícula de administración ahora puede pasar el cursor como se espera sobre un vincular seleccionado para **[!UICONTROL Content]** > **[!UICONTROL Pages]** (y catálogos compartidos en el B2B módulo). Anteriormente, este menú era mayormente oculta, y los usuarios administradores tenían que desplazarse para ver las opciones. [GitHub-36710](https://github.com/magento/magento2/issues/36710)

### Analítica

<!-- ACP2E-2266 -->

* Ahora las Página `meta itemprop="image"` y `meta itemprop="description"` propiedades de detalles del producto están disponibles para la imagen principal del producto. [GitHub-37497](https://github.com/magento/magento2/issues/37497)

<!-- ACP2E-2314 -->

* La sección Informe de la cuadrícula Productos en carros de compras muestra ahora el precio correcto del producto cuando **[!UICONTROL Catalog Price Scope]** está configurado en **[!UICONTROL Website]**. Anteriormente, el precio del producto se mostraba como cero cuando el producto se asignaba a un sitio web distinto del sitio web predeterminado.

<!-- AC-9275 -->

* Los informes de ingresos ahora se muestran como se esperaba en el portal Google Analytics (GA4). [GitHub-37605](https://github.com/magento/magento2/issues/37605)

<!-- ACP2E-1880 -->

* `price` y `quantity` los valores de la capa de datos de Google Tag Manager ahora se envían como valores de numérica como se espera que Google Analytics. Anteriormente, estos valores se enviaban como cadenas.

<!-- ACP2E-2030 -->

* Se han resuelto los errores en la gestión de los datos del encabezado al enviar datos de implementación a la módulo Nuevo Relic.

<!-- ACP2E-1833 -->

* Google Analytics etiquetas 3 se activan ahora como se esperaba cuando las etiquetas Google Analytics 4 están deshabilitadas.

### Estandarte

<!-- ACP2E-1818 -->

* Se refactorizó la forma en que se carga el contenido de banner para eliminar las consultas excesivas de la base de datos, lo que mejoró los tiempos de carga de carro de compras.

### Productos del paquete

<!-- ACP2E-1464 -->

* El recuento de productos categoría ahora tiene en cuenta correctamente paquete productos cuando **[!UICONTROL Display Out Of Stock*]** está habilitado.

<!-- AC-8966 -->

* El `customerCart` consulta ahora devuelve todos los descuentos aplicados en paquete productos según lo esperado. Anteriormente, el total de descuentos que se aplicaban a un producto paquete se devolvía como cero.

<!-- ACP2E-2618 -->

* Las páginas de detalles del producto ahora muestran el precio correcto para paquete productos para los que se ha aplicado un descuento del 100%. Anteriormente, el Departamento de Comercio no aplicaba un descuento del 100 % a paquete precios de los productos.

<!-- ACP2E-2377 -->

* Las reglas de precios del carro de compras ahora se aplican a los paquetes de productos en lugar de a cada producto secundario para los productos agrupados de precio dinámico.

<!-- ACP2E-1650 -->

* Se ha corregido un error que se producía cuando se utilizaba el `POST V1/shipment` extremo para crear un envío que contenía un producto paquete. El punto final ahora agrega elementos según lo esperado y ya no devuelve este error: `The shipment couldn't be saved`.

<!-- ACP2E-1926 -->

* Ahora puede guardar una actualización programada de un producto paquete que incluya un producto simple que tenga una actualización programada indefinida. Cuando se crea la instantánea del producto paquete, los productos vinculados ahora se capturan mediante ID, ID de entidad y también por unidad de almacén. Anteriormente, se comprobaba la versión original del producto simple cuando se guardaba la actualización programada en el producto paquete en lugar de la versión actual del producto simple.

<!-- ACP2E-1650 -->

* Ahora puede utilizar la ruta API `GET V1/shipment/` para crear un envío con un producto paquete cuando el producto tenga el **[!UICONTROL together]** tipo de envío establecido. Ahora los productos agrupados también se validan en función de su tipo de envío Propiedad.

<!-- ACP2E-2038 -->

* Los compradores ahora pueden editar el cantidad de un producto paquete en su tienda carro de compras. Anteriormente, Adobe Systems Commerce no gestionaba los valores nulos para `ItemId` cuando los productos se editaban en el carro de compras de escaparate y mostraban un error. [GitHub-37696](https://github.com/magento/magento2/issues/37696)

<!-- ACP2E-1801 -->

* Ahora los productos de paquete se pueden agregar correctamente a una solicitud de administración mediante SKU que contienen un carácter de barra diagonal (`/`). Anteriormente, los usuarios administradores no podían usar este método para agregar productos a un pedido de administración y Comercio arrojaba un error JavaScript.

<!-- ACP2E-1799 -->

* Los usuarios administradores ahora pueden establecer valores decimales predeterminados para las opciones de paquete recién agregadas cuando **[!UICONTROL Qty Uses Decimal]** está habilitado para el producto simple correspondiente. Anteriormente, los valores decimales solo podían establecerse para las selecciones guardadas.

<!-- ACP2E-1347 -->

* Rendimiento optimizado para guardar productos de paquete con un gran número de opciones

<!-- ACP2E-1478 -->

* Los productos agrupados ahora se importan correctamente sin duplicar SKU en las opciones de producto. Anteriormente, Adobe Systems Commerce creaba varios SKU de duplicado en opciones de producto cuando importaba productos paquete con entradas duplicado.

<!-- ACP2E-1388 -->

* El precio del paquete de productos ahora se calcula correctamente cuando uno de los productos del paquete está agotado. Anteriormente, si un producto que formaba parte del paquete estaba agotado, se eliminaba del cálculo de precio.

<!-- ACP2E-1503 -->

* Los paquetes de productos ahora se muestran como agotados cuando se compra el último de los productos secundarios requeridos. Anteriormente, paquete productos se mostraban como en stock en la tienda cuando sus productos simples estaban agotados.

<!-- ACP2E-1443 -->

* Se han resuelto los problemas de rendimiento al agregar productos de paquete con opciones no necesarias a la carro de compras utilizando la `addBundleProductsToCart` mutación.

<!-- ACP2E-1264 -->

* La `categoryList` consulta ahora devuelve todas las opciones de paquete como se esperaba cuando se habilita la opción de **[!UICONTROL Show out-of-stock products]** configuración. Anteriormente, las opciones sobre falta de existencias no se incluían en la respuesta al consulta.

<!-- ACP2E-1345 -->

* Los paquetes de productos creados con ahora se ejecutan correctamente `POST V1/products` cuando el ámbito de precio de catálogo se establece en `website`. Anteriormente, se producía una infracción de restricción de integridad. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Caché

<!-- AC-11411 -->

* Las categorías ahora son visibles para los compradores en tiendas donde la caché está configurada en Fastly CDN (**[!UICONTROL Caching Application=Fastly CDN]**). Esto afectó tanto a los compradores invitados como a los clientes registrados.

<!-- ACP2E-2070 -->

* Las cookies de caché después de inicio de sesión ahora son las mismas después de navegar por el sitio web. Anteriormente, el controlador de inicio de sesión enviaba el cookie de caché incorrecto y las páginas podían haberse almacenado en caché varias veces.

<!-- ACP2E-1840 -->

* Las respuestas de las operaciones de GET de GraphQL en páginas CMS que contienen bloques CMS ahora se borran como se esperaba en la caché de Fastly. Las actualizaciones de programación posteriores ahora muestran contenido de actualización precisas para estas páginas.

<!-- ACP2E-1524 -->

* Página caché ahora se borra según lo esperado para un producto principal cuando uno de sus productos secundarios se ha guardado desde la administración. Se ha introducido una comprobación plug-in para llegar a la invalidación de caché para variantes configurables, similar a otros tipos de productos, independientemente del estado del indexador (programado o en tiempo real). Anteriormente, los precios no se actualizaban correctamente en la tienda después de que se actualizara una variación configurable desde el administrador.

<!-- ACP2E-1454 -->

* Se ha añadido un mecanismo de almacenamiento en caché para las credenciales de AWS. Un proveedor de credenciales ahora utiliza la caché de Commerce para almacenar en caché las credenciales recuperadas de AWS para la configuración de EC2.

<!-- AC-7639 -->

* El plug-in cuyo propósito es agregar la caché configurable etiqueta cuando se guarda un producto simple asociado con un producto configurable ahora funciona como se espera. Todas las etiquetas de caché configurables relevantes se eliminan como se espera cuando un producto simple se actualiza mediante `POST V1/products`. Anteriormente, no todos los precios se actualizaban en el escaparate, y los cachés tenían que borrarse manualmente. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Carro y cierre de compra

<!-- ACP2E-2658 -->

* Commerce ahora optimiza el rendimiento al no cargar datos de cotización específicos del usuario al generar páginas completas almacenables en caché como páginas de detalles del producto (PDP) y páginas de CMS cuando se habilita el carro de compras persistente. Anteriormente, el sistema cargaba innecesariamente datos de sesión y cotización específicos de usuario durante la generación de estas páginas, lo que afectaba el rendimiento.

<!-- ACP2E-2684 -->

* Los atributos personalizados de dirección personalizada ahora se guardan como se esperaba en la base de datos. Anteriormente, los valores de atributo guardados en la base de datos se anteponían con código de atributos.

<!-- ACP2E-2517 -->

* Se ha mejorado la generación de texto de filtro de reglas de carro de compras para los atributos del producto. Los productos individuales ya no se cargan varias veces.

<!-- AC-8920 -->

* Adobe Systems Commerce ahora muestra un mensaje de error informativo cuando se produce un error durante el cierre de compra y ya no devuelve el comprador a un paso de pago anterior. Anteriormente, el comprador se devolvía a la Página de envío.

<!-- ACP2E-2520 -->

* El consulta ya no devuelve el `cart` método de envío y la dirección de los carros virtuales. Anteriormente, cuando una carro de compras contenía productos físicos y virtuales, y se eliminaban todos los productos físicos, la respuesta carro de compras consulta seguía incluyendo información de envío.

<!-- ACP2E-2267 -->

* Comercio muestra ahora mensajes informativos cuando se activa una acción de agregar a carro de compras. Anteriormente, el `The requested qty is not available` no siempre se mostraba según fuera necesario en el escaparate.

<!-- ACP2E-2166 -->

* Se han mejorado los tiempos de carga de las páginas de cierre de compra para los clientes con libretas de direcciones grandes. Commerce ahora procesa solamente el número de direcciones de clientes especificadas en la configuración **[!UICONTROL Customer Addresses Limit]**. Anteriormente, Commerce cargaba toda la libreta de direcciones.

<!-- ACP2E-2174 -->

* La cantidad de productos ahora se puede cambiar en el carro de compras como se espera para los artículos en stock cuando un artículo está agotado. Anteriormente, los compradores no podían cambiar la cantidad de productos de ningún artículo cuando uno estaba agotado.

<!-- ACP2E-2269 -->

* El filtro de atributos de producto `AdvancedSalesRule` ahora funciona correctamente con el tipo de backend de atributo decimal. Como resultado, las reglas del carro de compras con `Coupon Type` establecido en **[!UICONTROL No Coupon]** ahora funcionan según lo esperado.

<!-- ACP2E-2376 -->

* El importe total de un descuento de carro de compras completo ahora se aplica como se espera a los carros que contienen productos paquete y configurables.

<!-- ACP2E-2092 -->

* Las cookies de sección del cliente ahora respetan la configuración de dominio del cookie. Anteriormente, la mini carro de compras no se actualizaba como se esperaba en las tiendas que contenían subdominios igualado aunque la sesión era compartida.

<!-- AC-9340 -->

* El envío de un pedido a varias direcciones ya no activa un error durante el procesamiento área geográfica de ID.

<!-- AC-8853 -->

* Los importes de descuento fijo que se aplican en el nivel carro de compras ahora son correctos.[GitHub-37496](https://github.com/magento/magento2/issues/37496)

<!-- AC-2044 -->

* Los cupones ahora se aplican correctamente a un pedido cuando un comprador aplica el cupón después de seleccionar el método de envío de tarifa plana donde se aplica un precio carro de compras regla con el método de envío establecido como condición. Anteriormente, el Página de carro de compras mostraba el error El cupón no es válido y el cupón no se había aplicado. [GitHub-34866](https://github.com/magento/magento2/issues/34866)

<!-- AC-8596 -->

* La **[!UICONTROL My billing and shipping address are the same]** casilla de verificación permanece marcada de forma predeterminada cuando un comprador utiliza Cromo autocompletar para rellenar su dirección de **envío y, a continuación, hace clic en Siguiente** antes de que se vuelva a cargar el bloque de métodos de envío. [GitHub-33725](https://github.com/magento/magento2/issues/33725)

<!-- ACP2E-2005 -->

* El `applied_rule_ids` valor de la `quote_item` tabla ahora incluye una lista correcta de los ID de regla aplicados. Anteriormente, este valor solo contenía el último ID de regla aplicado.

<!-- ACP2E-2025 -->

* Los datos de mini-carro de compras y de cliente en almacenamiento local ahora se restablecen cuando se elimina una sesión del servidor. Anteriormente, estos datos seguían apareciendo cuando se eliminó el archivo de sesión.

<!-- ACP2E-1763 -->

* Los carros discretos ya no se fusionan por error desde el Administrador cuando el carro de compras persistente está habilitado.

<!-- ACP2E-1988 -->

* La dirección de envío predeterminada en el paso de envío de cierre de compra ya no se rellena con la dirección de recogida en tienda seleccionada anteriormente.

<!-- ACP2E-1614 -->

* Los productos del carro de compras ya no se excluyen de las listas de productos relacionados y impulsar ventas después de vaciar la caché.

<!-- ACP2E-1580 -->

* El estimador de impuestos y envíos del carro de compras ahora refleja con precisión la configuración de destino predeterminada. Anteriormente, al configurar los ajustes predeterminados de cálculo del destino fiscal y especificar el estado/región y el código postal, en el carro de compras solo se mostraba el valor postal en **[!UICONTROL Estimate Tax and Shipping]**. Esto se debía a que Adobe Commerce establecía el ID de región en indefinido antes de invocar la afirmación condicional que establecía el ID de región predeterminado desde el administrador.

<!-- ACP2E-1547 -->

* Adobe Systems de Commerce ya no emite este error durante el cierre de compra cuando la carro de compras persistente está habilitada: `Invalid state change requested`. Anteriormente, cuando se producía este error, ocasionalmente se creaban varios pedidos con el mismo `quote_id` .

<!-- ACP2E-1456 -->

* El mini carro de compras ahora muestra paquete precios de productos que reflejan carro de compras ajustes de configuración de impuestos. Anteriormente, el mini carro de compras siempre incluía impuestos en los precios de paquete productos.

<!-- ACP2E-1414 -->

* Se ha mejorado el rendimiento de las reglas de segmento del cliente que dependen de carros activos, lo que ha reducido el tiempo necesario para agregar un producto al carro de compras.

<!-- AC-7503 -->

* La estimación de envío proporcionada por la Página de carro de compras ahora es precisa. `collectShippingRates` ahora se configura solo una vez. Anteriormente, la estimación de envío estaba duplicada. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* La consulta `cart` ya no devuelve un error cuando un producto del carro de compras especificado está agotado. Anteriormente, los compradores que usaban esta consulta para realizar una compra no podían completar su compra cuando un artículo estaba agotado y la página de cierre de compra estaba en blanco.

<!-- ACP2E-1459 -->

* Las solicitudes de la API de invitado a `POST V1/guest-carts/<cartId>/shipping-information` ya no devuelven el estado `cancel` si la página se vuelve a cargar durante el inicio de sesión en un entorno móvil. Anteriormente, Adobe Commerce arrojó un error 500 y registró esta excepción: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* La idoneidad para el envío gratuito ahora se calcula como se espera cuando se aplica la condición **[!UICONTROL Subtotal (Excl. Tax)]** para las reglas del carro de compras. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* La consulta `cart` ahora devuelve los precios de nivel correctos para un producto. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* Se han añadido mensajes de error informativos a la página de cierre de compra para guiar a los compradores cuando la aplicación de un cupón en la página de envío entra en conflicto con el método de envío seleccionado. Anteriormente, un mensaje indicaba a los compradores que volvieran a la página anterior.

<!-- ENGCOM-8387 -->

* La ventana emergente de autenticación ahora solo se inicializa cuando es necesaria, en lugar de cuando el cierre de compra de invitados está habilitado. Ahora se inicializa cuando el comprador invitado intenta continuar con el cierre de compra y el cierre de compra de invitado está deshabilitado. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Regla de precio del carro

<!-- AC-2054 -->

* La condición de subselección de producto regla precio carro de compras ahora incluye la `total (incl.tax)` opción según lo esperado. [GitHub-34871](https://github.com/magento/magento2/issues/34871)

<!-- ACP2E-2029 -->

* El `If an item is FOUND/NOT FOUND in the cart with ALL/ANY of these conditions true` precio regla condición de catálogo ahora funciona correctamente con categoría y unidad de almacén atributos. Anteriormente, esta condición no se aplicaba correctamente en carro de compras lógica de cupón de precios y se aplicaban no válido cupones a los pedidos. [GitHub-37660](https://github.com/magento/magento2/issues/37660)

<!-- ACP2E-1932 -->

* Ahora puede guardar con éxito un nuevo regla de precio de carro de compras con la `Magento_OfflineShipping` extensión desactivada. Anteriormente, Adobe Systems de Comercio arrojaba este error: `report.ERROR: Warning: Undefined array key "simple_free_shipping"`. [GitHub-37580](https://github.com/magento/magento2/issues/37580)

<!-- ACP2E-1516 -->

* Las reglas de precios del carro de compras ahora se aplican según lo esperado cuando se configura una regla de precios del carro de compras relacionada con un método de envío para la tienda y este método de envío se cambia por otro durante el cierre de compra. Anteriormente, el valor `applied_rule_ids` nunca se cambiaba en la tabla `sales_order_item` y la regla de precio del carro de compras no se aplicaba al pedido.

### Catálogo

<!-- AC-10746 -->

* Al ejecutar `bin/magento cache:clean` o `bin/magento cache:flush`, ya no se vacía toda la caché integrada o de página completa de Barnish a menos que se especifique lo contrario. [GitHub-38301](https://github.com/magento/magento2/issues/38301)

<!-- ACP2E-2257 -->

* Los comerciantes ahora pueden usar el carrusel de productos para crear bloques de CMS cuando `catalog_product_price dimensions-mode` está establecido en `website`. Anteriormente, Commerce no guardó el bloque y arrojó este error SQL: `report.CRITICAL: PDOException: SQLSTATE[42S02]: Base table or view not found: 1146 Table`.

<!-- AC-6847 -->

* Commerce ya no muestra imágenes duplicado cuando se cambia el color del producto en un Página de detalles del producto.  [GitHub-36243](https://github.com/magento/magento2/issues/36243)

<!-- ACP2E-2504 -->

* Se ha optimizado el algoritmo para sincronizar valores específicos de sitios web después de agregar un nuevo almacén o cambiar uno existente en entornos grandes de varias tiendas.

<!-- ACP2E-2631 -->

* Se ha mejorado el proceso de limpieza de los archivos de imagen en caché para evitar la creación de directorios ocultos en la carpeta `pub/media/catalog/product`. Anteriormente, los directorios ocultos provocaban problemas de espacio en disco durante las operaciones de limpieza. Se pudo finalizar la operación, lo que dejó directorios ocultos temporales que nunca se eliminaron.

<!-- AC-10316 -->

* Los precios de los paquetes de productos ahora se calculan correctamente y se ha resuelto un problema con el orden de las operaciones al calcular los precios. [GitHub-35665](https://github.com/magento/magento2/issues/35665)

<!-- AC-6996 -->

* Se ha eliminado una cláusula innecesaria de `catalog_product_price` consultas de índice, lo que ha mejorado el rendimiento de este indizador en almacenes con catálogos grandes. [GitHub-32382](https://github.com/magento/magento2/issues/32382)

<!-- ACP2E-2522 -->

* Commerce ya no inserta texto de descripción de producto en el campo de la página de detalles del producto **[!UICONTROL Meta Description]** cuando este campo se ha dejado vacío. Anteriormente, cuando una descripción de producto contenía código HTML generado por Page Builder u otro editor de HTML, el HTML se mostraba en el campo Meta **[!UICONTROL Description]** y no se podía dejar vacío este campo.

<!-- ACP2E-2308 -->

* Las opciones de producto configurables en páginas de PDP de producto configurables ya no se ven afectadas por otras opciones de productos configurables de la página. Anteriormente, los productos configurables con atributos desplegables ya no déclencheur una excepción cuando hay un carrusel de productos en la página de detalles del producto. Las opciones de producto configurables no se podían seleccionar cuando había otros productos configurables con opciones de muestra en la página.

<!-- ACP2E-2260 -->

* La información de productos visualizada recientemente ahora se muestra de acuerdo con la configuración de la vista de tienda. Anteriormente, los datos de productos vistos recientemente no se actualizaban por vista de tienda, incluidos el nombre y el idioma preferido.

<!-- ACP2E-2296 -->

* Los vídeos de Vimeo ahora se reproducen como se espera en las páginas de productos en la vista móvil en navegadores web basados en Chromium.

<!-- ACP2E-1959 -->

* El comando `bin/magento catalog:images:resize` ahora genera correctamente imágenes de producto para los productos asignados a un sitio web personalizado con un tema personalizado.

<!-- ACP2E-1982 -->

* Los metadatos con valores `NULL` o `NOT NULL` ahora se guardan para el almacén predeterminado de acuerdo con la casilla de verificación **Usar valor predeterminado** según lo esperado. Anteriormente, los metadatos con el valor `NULL` no se guardaban cuando esta casilla de verificación no estaba marcada.

<!-- ACP2E-2093 -->

* Los comerciantes ahora pueden eliminar con éxito una imagen existente del Página de detalles del producto y, a continuación, cargar una nueva imagen con el mismo nombre. Anteriormente, en esas circunstancias, el página de producto del escaparate no mostraba la imagen correcta.

<!-- ACP2E-2128 -->

* La `productDetail` consulta ahora devuelve el nombre del producto en lugar de nulo cuando el atributo de imagen `alt` del producto se establece como vacío.

<!-- ACP2E-2215 -->

* Los pedidos que incluyen productos descargables y físicos ahora incluyen enlaces de trabajo al producto descargable tan pronto como se haya completado el pedido. Anteriormente, los enlaces a productos descargables no estaban disponibles hasta que se enviaban los productos físicos del mismo pedido.

<!-- ACP2E-2343 -->

* URL reescrituras ahora se actualizan cuando un categoría se mueve de un categoría tienda/raíz a otro categoría tienda/raíz. Las entradas obsoletas de la base de datos ahora se eliminan cuando las subcategorías se transfieren a nuevas categorías principales. La base de datos ahora solo incluye entradas relevantes. Anteriormente, `url_path` no se actualizaba con el identificador de almacén adecuado.

<!-- ACP2E-2152 -->

* El extremo REST `V1/products/<sku>/media` ahora puede procesar la carga simultánea de varias imágenes multimedia. Anteriormente, al procesar varias solicitudes simultáneamente, se creaban datos incoherentes y Commerce arrojaba un error cuando estos datos se guardaban en la base de datos.

<!-- ACP2E-2259 -->

* Los titulares de segmentos de clientes ahora se comportan como se espera cuando un comprador que está usando una cuenta de cliente recién creada cierra sesión. Anteriormente, los titulares creados para el segmento de clientes que iniciaron sesión se mostraban incluso después de que finalizara esa sesión de cuenta (es decir, el comprador registrado cerró sesión).

<!-- ACP2E-2219 -->

* Se ha mejorado el rendimiento de reindexación parcial para los indexadores de Categoría de productos y Categorías de productos. Anteriormente, el trabajo cron `indexer_update_all_views` ejecutaba reindexadores varias veces por producto o categoría.

<!-- ACP2E-2043 -->

* Cuando el estado de existencias del producto se actualiza automáticamente a Existencias agotadas en función de la configuración de existencias (cantidad), el estado de existencias se actualizará posteriormente a existencias cuando se actualice el cantidad existencias. Anteriormente, la `stock_status_changed_auto` configuración se ignoraba cuando la configuración de stock de un producto se actualizaba a en stock.

<!-- AC-8904 -->

* El ordenamiento de las barras de herramientas ahora funciona como se espera en Search páginas cuando la **[!UICONTROL Remember Category Pagination]** configuración está habilitada. [GitHub-33220](https://github.com/magento/magento2/issues/33220)

<!-- ACP2E-1640 -->

* Los atributos de selección múltiple ahora se guardan según lo esperado cuando **[!UICONTROL Use Default Value]** se selecciona la casilla de verificación en la ámbito tienda-vista. Anteriormente, esta casilla de verificación no estaba marcada cuando se editaba el producto y se guardaba el valor predeterminado.

<!-- ACP2E-1878 -->

* Los usuarios administradores con acceso limitado al sitio web ahora pueden agregar imágenes a un producto que caiga dentro de sus ámbito. Si el administrador usuario no tiene derechos de acceso al producto, Comercio muestra un mensaje informativo. Anteriormente, los usuarios administradores con acceso limitado a sitios web no podían agregar imágenes a los productos a los que tenían acceso.

<!-- ACP2E-1956 -->

* Los valores `special_from_date`, `special_to_date`, `news_from_date` y `news_to_date` definidos por el usuario no se anulan cuando se edita un producto en el ámbito de vista de tienda.

<!-- AC-6761 -->

* Commerce ahora muestra el nombre correcto después de ordenar los productos por nombre en Administración > **[!UICONTROL Category]** > **[!UICONTROL Products in category]** en implementaciones de varias tiendas en las que los nombres de los productos varían según el almacén. [GitHub-36208](https://github.com/magento/magento2/issues/36208)

<!-- ACP2E-1975 -->

* La mutación `addProductsToCart` ahora devuelve opciones personalizables con datos. Anteriormente, solo devolvía opciones personalizables vacías. [GitHub-37599](https://github.com/magento/magento2/issues/37599)

<!-- ACP2E-1859 -->

* La posición del producto y la selección de ID ahora se muestran correctamente cuando un usuario administrador agrega un nuevo producto a una categoría después de borrar la caché, pero no recargando la página de categoría. Anteriormente, la posición y la selección del producto no coincidían y se mostraban incorrectamente.

<!-- ACP2E-1779 -->

* Los comerciantes ahora pueden actualizar la fecha u hora de inicio futuras de un cambio programado para un producto descargable. Anteriormente, Adobe Commerce arrojaba este error durante la actualización de la fecha u hora de inicio futuras del producto descargable: `The downloadable link isn't related to the product. Verify the link and try again`.

<!-- ACP2E-1943 -->

* El estado de producto no satisfecho ahora se muestra correctamente en la tienda. Anteriormente, los productos disponibles para el envío se identificaban incorrectamente como no pedidos.

<!-- ACP2E-1948 -->

* El acceso a productos descargables desde Admin ya no provoca un error cuando el usuario administrador cambia la vista de la tienda de la vista utilizada durante la creación del producto a otra vista de la tienda. Los precios de los productos ahora se convierten correctamente a flotantes cuando un administrador usuario cambia tienda vista de todas las vistas de tienda al vista de tienda predeterminado. Anteriormente, Adobe Commerce arrojaba un error. [GitHub-37519](https://github.com/magento/magento2/issues/37519)

<!-- ACP2E-1994 -->

* Los productos exportados ahora tienen el valor correcto `manage_stock` cuando el `use_config_manage_stock` valor es igual a `1`. Anteriormente, este valor predeterminado era incorrecto.

<!-- ACP2E-1479 -->

* Adobe Systems Commerce ya no muestra un mensaje de advertencia cuando guarda un producto creado con opciones personalizadas después de eliminar su imagen.

<!-- ACP2E-1419 -->

* Las miniaturas del producto ahora se muestran como se esperaba en el correo electrónico de alerta de existencias de productos que se envía cuando un producto vuelve a estar disponible. Anteriormente, esta imagen no se mostraba en el alerta correo electrónico

<!-- AC-3003 -->

* El recuento de productos en el árbol de categoría (administrador **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) ahora es preciso. Anteriormente, no se podía recuperar de la `catalog_category_product_index` tabla el recuento de productos categoría. Se ha corregido el error tipográfico que desencadenaba este error. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* La imagen principal del producto en los detalles del producto ya no Página desplaza visiblemente hacia abajo durante la carga Página cuando `product_image_white_borders` el tema `view.xml` está desactivado. Anteriormente, la imagen del producto se desplazaba visiblemente hacia abajo durante la carga Página debido a la configuración incorrecta de altura en Fotorama JS.

<!-- ACP2E-1361 -->

* Los clientes ahora son notificados sobre caídas en el precio del producto cuando el cliente está suscrito a alertas de caída de precios. Anteriormente, las notificaciones de bajada de precios no siempre se enviaban debido a almacenamiento en caché de nivel aplicación.

<!-- ACP2E-1422 -->

* Se han agregado validación del lado del servidor al proceso de creación de atributos de producto a través de la API web. No puede activar el campo si el valor del **[!UICONTROL Use in Layered Navigation Catalog]** **[!UICONTROL Catalog Input Type for Store Owner]** campo es `Text Field`, `Text Area`, `Text Editor`, `Date`, o `Date and Time`. Anteriormente, los productos se omitían de las categorías y búsqueda resultados.

<!-- ACP2E-1413 -->

* El Página categoría ahora se vuelve a cargar con la paginación correcta después de que un comprador abre el Página, cambia la paginación, navega a un página de producto y, a continuación, vuelve al Página categoría. [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* Los productos simples agotados que son opciones para un producto configurable ahora se muestran como deshabilitados en el escaparate cuando **[!UICONTROL Display Out of Stock Products]** se establece en **Sí**. Anteriormente, todas las opciones se mostraban como disponibles, independientemente de su estado y disponibilidad real.

<!-- ACP2E-1384 -->

* La actualización del atributo de ámbito de sitio web en un vista atributo de tienda específico ya no anula el valor de ese atributo en ámbito global. Anteriormente, la importación de precios de productos cuando había varias filas disponibles con la misma unidad de almacén y `store_view_code` daba como resultado precios inexactos para los ámbitos predeterminado y de vista de toda la tienda.

<!-- ACP2E-1632 -->

* Los comerciantes ahora pueden agregar una imagen GIF a la galería de imágenes de un producto desde el administrador. Anteriormente, Adobe Systems Commerce mostraba este error: `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Se han agregado comprobaciones para gestionar los errores resultantes de claves de matriz no definidas. Anteriormente, se producía un error durante la generación de la lista blanca esquema declarativa.

<!-- ACP2E-1749 -->

* Adobe Systems de comercio ahora devuelve un resultado válido para la fecha `01/01/1970`personalizada. Anteriormente, el atributo personalizado devolvía este error: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` Las consultas que utilizan fragmentos ahora devuelven categoría información según lo esperado. Anteriormente, se producía un error interno del servidor en la categoría Página. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Se han resuelto los problemas con el proceso de reindexación parcial y ha mejorado el rendimiento del `cataloginventory_stock` indizador. Anteriormente, las categorías de existencias y productos no se actualizaban con precisión.

<!-- AC-8226 -->

* Adobe Systems Commerce ahora genera un redirección 301 para un producto cuando la categoría a la que pertenece se ha movido a un nuevo padre. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Reglas de catálogo

<!-- ACP2E-1834 -->

* Las reglas del catálogo ahora se indexan correctamente cuando se habilita la actualización de la programación. Como resultado, los precios con descuento ahora se generan e indexan correctamente. Anteriormente, cuando había dos reglas de catálogo disponibles y una regla se activaba después de la primera regla antes de que la primera regla se completara la operación de indexación de la regla del catálogo, el catálogo regla los precios de descuento no se generaban para el segundo regla de catálogo.

<!-- ACP2E-1579 -->

* Las reglas del catálogo ahora se aplican como se espera en un entorno de varios sitios web.

### Productos configurables

<!-- ACP2E-1881 -->

* Los comerciantes ahora pueden seleccionar **[!UICONTROL Skip quantity at this time]** y **[!UICONTROL Skip image uploading at this time]** configurar un producto configurable sin afectar la fuente de los productos simples asociados. Anteriormente, al seleccionar **[!UICONTROL Skip quantity at this time]**, desaparecían los orígenes del producto.

<!-- AC-7099 -->

* La etiqueta **[!UICONTROL As low as]** ya no se muestra para un precio de producto configurable cuando todas las opciones tienen el mismo precio.

<!-- ACP2E-2464 -->

* Los usuarios administradores con permisos de sitio web ahora pueden guardar un producto secundario que forme parte de un producto configurable en un contexto de tienda diferente. Los procesos de reindexación ahora omiten este tipo de producto configurable.

<!-- ACP2E-2003 -->

* Los productos configurables con dos productos secundarios ya no se marcan como agotados cuando una actualización programada deshabilita un producto secundario.

<!-- AC-8060 -->

* Ha mejorado el rendimiento de las operaciones de guardado para productos configurables con varias opciones. Anteriormente, se podía agotar el tiempo de espera durante las operaciones de guardado del producto. [GitHub-36928](https://github.com/magento/magento2/issues/36928)

<!-- ACP2E-1764 -->

* La visualización de la tienda de los precios de los productos configurables ahora cambia según lo esperado cuando un comprador selecciona una opción de producto. [GitHub-37378](https://github.com/magento/magento2/issues/37378)

### Cupones

<!-- ACP2E-2495 -->

* Los códigos de cupón con un número limitado de usos por cliente ahora se pueden utilizar por segunda vez cuando falla el pedido para el que se utilizaban anteriormente. Anteriormente, el código de promoción no se lanzaba cuando se cancelaba el pedido anterior.

<!-- ACP2E-2428 -->

* Los códigos de cupón que contienen caracteres de espacio ya no se invalidan. Anteriormente, si un código cupón contenía un carácter de espacio (antes o después del código real), validación fallaba. [GitHub-38048](https://github.com/magento/magento2/issues/38048)

<!-- ACP2E-1551 -->

* Los compradores ahora pueden usar dos códigos de cupón generados automáticamente que han sido generados por el mismo regla de precios carro de compras. El `Uses per Coupon` campo se activa ahora cuando el tipo de cupón seleccionado como (similar para `Auto` cupón tipo =`Specific Coupon`) . Esto, a su vez, permite al comprador aplicar varios códigos cupón al mismo precio de carro de compras si los códigos son diferentes.

<!-- ACP2E-1496 -->

* El valor de cupón de un solo uso de un comprador ahora se restaura según lo esperado cuando se cancela el pedido al que se aplicaba.

<!-- ACP2E-1195 -->

* El `GET V1/coupons/<couponId>` punto final ahora devuelve la respuesta esperada completa para los cupones creados manualmente, al igual que para los cupones generados automáticamente. Anteriormente, se omitían algunos campos (por ejemplo, `usage_limit`, `usage_per_customer`, y `created_at`).

### cron

<!-- ACP2E-2457 -->

* El `aggregate_sales_report_bestsellers_data` trabajo cron ya no crea tablas MySQL temporales muy grandes y ahora se completa con éxito. Este trabajo cron ahora inserta datos por tienda, no para todas las tiendas a la vez. Anteriormente, este trabajo cron podía dar lugar a `No space left on device` errores.

<!-- ACP2E-2427 -->

* El número de registros pendientes en la `cron_schedule` tabla se ha reducido al evitar que los trabajos cron intenten adquirir bloqueos de trabajo cron innecesarios. Anteriormente, los trabajos cron intentaban adquirir bloqueos cuando ya era demasiado tarde para ejecutar el trabajo. Los trabajos de cron no `cron_schedule` se marcaron como perdidos igualado aunque ya habían pasado su hora programada. El Departamento de Comercio también mostró este error repetidamente en el registro de errores: `report.WARNING: Could not acquire lock for cron job: indexer_update_all_views`.

<!-- AC-9207 -->

* Se corrigió el error fatal de dividir por cero en las expresiones cron. [GitHub-37804](https://github.com/magento/magento2/issues/37804)

<!-- ACP2E-1792 -->

* El `sales_clean_quotes` proceso cron se ha optimizado para ejecutarse más rápido mediante la adición de un índice compuesto en `store_id` y `updated_at columns` en la tabla de cotizaciones. Este cambio mejora el rendimiento del trabajo cron al procesar muchas cotizaciones.

<!-- AC-7987 -->

* Los usuarios administradores ahora pueden vista qué tarea está realizando el `bin/magento cron:run` proceso. El título del proceso que se está ejecutando ahora enumera el grupo y los nombres de trabajo. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Cliente

<!-- AC-6748 -->

* Adobe Systems Commerce ahora muestra los **[!UICONTROL Date of Birth]**, , **[!UICONTROL Telephone]****[!UICONTROL Gender]****[!UICONTROL Company]**, , y **[!UICONTROL Fax]** los campos en el Página de edición del cliente en función de la configuración. **[!UICONTROL Tax/VAT Number]** [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### Segmentos de clientes

<!-- ACP2E-2471 -->

* Las condiciones de segmento del cliente ahora cargan a todos los clientes coincidentes como se esperaba. Anteriormente, el cliente segmento clientes coincidentes lista no contenía todos los clientes coincidentes.

### EAV

<!-- ACP2E-2222 -->

* El indexador EAV ya no requiere la eliminación de las entidades no visibles durante el procesamiento por lotes. De forma predeterminada, el indizador ya no almacena en lotes los productos no visibles y el rendimiento del indizador ha mejorado.

### Correo electrónico

<!-- ACP2E-2125 -->

* Los correos electrónicos que contienen diacríticos o acentos (es decir, utf8 correo electrónico) ahora son compatibles para clientes y empresas, así como para la realización de pedidos por parte de invitados y clientes registrados. Anteriormente, el Departamento de Comercio no guardaba los registros de clientes que contenían diacríticos y mostraba este error: `Something went wrong while saving the customer`.

<!-- ACP2E-2503 -->

* Los nombres de remitentes de correo electrónico ya no pueden incluir dos puntos. Un nuevo regla de validación ahora impide guardar los nombres de remitente que contienen dos puntos de la sección Almacenar direcciones de correo electrónico de la > **[!UICONTROL General]** de administración **[!UICONTROL Stores]** . Anteriormente, los comerciantes podían guardar un nombre de remitente que contenía dos puntos, lo que provocaba errores en el servidor de correo.

<!-- ACP2E-2018 -->

* Imagen opciones ya no se muestran como formato HTML en el informe Devoluciones de correos electrónicos de clientes (plantilla predeterminado) para productos con opciones de imagen personalizadas.

<!-- ACP2E-1529 -->

* Los detalles del administrador de la empresa ahora se guardan según lo esperado y los administradores se redirigen correctamente cuando los correos electrónicos de Asignar administrador de la empresa contienen un `CMS Block URL` variable.

<!-- AC-2903 -->

* Las direcciones correo electrónico de los clientes ahora pueden incluir signos diacríticos. Anteriormente, el front-end validación prohibía la creación de un usuario con diacríticos en su dirección correo electrónico. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Los correos electrónicos de Stock y precio alerta ahora se traducen de acuerdo con el idioma configurado para el vista de tienda predeterminado del sitio web. Anteriormente, estos correos electrónicos no se traducían.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` ahora envía una correo electrónico alertando a los clientes de que un pedido está listo para ser recogido solo cuando el pedido está listo. Ahora el correo electrónico solo se activa cuando el solicitud se ha completado sin excepción.

### Marcos

<!-- AC-10873 -->

* Se ha mejorado la depuración añadiendo el `UNCACHEABLE` valor al utilizar la salida de un encabezado HTTP con barniz. Anteriormente, solo `HIT` se generaban valores de OR`MISS`. [GitHub-37912](https://github.com/magento/magento2/issues/37912)

<!-- AC-10884 -->

* Se agregó código para admitir el manejo predeterminado de compresión de barniz. [GitHub-38309](https://github.com/magento/magento2/issues/38309)

<!-- AC-8502 -->

* El `bin/magento varnish:vcl:generate` comando ahora incluye un `input-file argument`archivo . Esto admite la adición de una VCL personalizada a un repositorio Git, en relación con la raíz de Commerce. [GitHub-37363](https://github.com/magento/magento2/issues/37363)

<!-- AC-10739 -->

* Se ha eliminado de la base de código la compatibilidad con Varnish 4.x y 5.x. [GitHub-38304](https://github.com/magento/magento2/issues/38304)

<!-- AC-8023 -->

* `phpcodesniffer-composer-installer` se `composer.json` ha actualizado a la versión 1.0.0. [GitHub-36913](https://github.com/magento/magento2/issues/36913)

<!-- AC-10858 -->

* Los caracteres que no cumplen con [RFC3986](https://www.rfc-editor.org/rfc/rfc3986.html) se han eliminado de la base de código. [GitHub-38355](https://github.com/magento/magento2/issues/38355)

<!-- AC-10692 -->

* Se ha corregido un etiqueta incorrecto de documento PHP en la `Magento\Reports\Block\Adminhtml\Shopcart\Product\Grid` clase. [GitHub-38186](https://github.com/magento/magento2/issues/38186)

<!-- AC-10865 -->

* Código refactorizado en toda la base de código que se creó cuando la práctica de codificación dictaba que cualquier sección de caché que se incluyera en el `app/etc/env.php` archivo incluiría una sección frontend. Esta refactorización resuelve problemas potenciales al actualizar las implementaciones de Commerce anteriores a 2.4.4. [GitHub-38363](https://github.com/magento/magento2/issues/38363)

<!-- AC-8005 -->

* Se ha aclarado el mensaje de error asociado con `StockItemValidator.php` cuando se proporciona un ID de stock con un valor de 0 durante una llamada de API. [GitHub-31107](https://github.com/magento/magento2/issues/31107)

<!-- AC-10583 -->

* Se ha añadido una matriz vacía predeterminada a `$tagGenerators` in `CompositeTagGenerator` para evitar errores durante la compilación de la inyección de dependencias. Anteriormente, ejecutar el `bin/magento setup:upgrade` comando cuando los `Magento_DirectoryGraphQl` módulos y `Magento_StoreGraphQl` estaban deshabilitados provocaba un error. [GitHub-38165](https://github.com/magento/magento2/issues/38165)

<!-- AC-9232 -->

* La clase `AlgorithmProviderFactory` no utilizada se ha quitado, así como las dependencias de esta clase en clases como `JweAlgorithmManagerFactory.php`, `JweContentAlgorithmManagerFactory.php` y `JwsAlgorithmManagerFactory`. [GitHub-37783](https://github.com/magento/magento2/issues/37783)

<!-- AC-9776 -->

* El archivo `var/log/system.log` ya no contiene `main.INFO error` mensajes. El registro de entrada de menú se ha movido del nivel INFO a DEPURACIÓN. Anteriormente, el archivo `var/log/system.log` se inundó de mensajes como este: `Add of item with id Magento_Theme::design_config was processed … `.

<!-- AC-8809 -->

* La precarga de Redis ya no falla cuando `exec()` devuelve el valor &quot;False&quot;. Se ha añadido una verificación al proceso de precarga para evitar `array_combine` que se reciba `false` como segundo argumento. Como resultado, la precarga continuará ejecutándose cuando `exec()` vuelva a ejecutarse`false`. [GitHub-37509](https://github.com/magento/magento2/issues/37509)

<!-- AC-8220 -->

* Se refactorizó el módulo para sustituir `$block` las `Magento_CatalogWidget` funciones de escape por `$escaper` funciones de escape. [GitHub-37107](https://github.com/magento/magento2/issues/37107)

<!-- AC-9336 -->

* `Swaziland` se ha actualizado a `Eswatini` toda la base de código. [GitHub-37873](https://github.com/magento/magento2/issues/37873)

<!-- ACP2E-2638 -->

* Se agregó la nueva moneda nicaragüense (NIO) al lista de monedas disponibles.

<!-- AC-10591 -->

* Se ha cambiado el `reponseBody` nombre del variable a `responseBody` en `app/code/Magento/CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`.[GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- AC-9221 -->

* Se han resuelto los errores de redondeo de subtotal que se producían en transacciones de productos para los que se había habilitado el cantidad decimal. [GitHub-37817](https://github.com/magento/magento2/issues/37817)

<!-- ACP2E-2127 -->

* El filtro de fechas para la cuadrícula de clientes de administración ahora funciona según lo esperado según la configuración regional especificada.

<!-- AC-9027 -->

* El `bin/magento setup:upgrade` comando ya no falla debido al tipo de dato variable `$schemaPatch`. Anteriormente, el valor de cadena se pasaba a la `get_class` función, lo que causaba el error. [GitHub-37545](https://github.com/magento/magento2/issues/37545)

<!-- ACP2E-2485 -->

* Ya no se producen errores críticos de lectura de la base de datos cuando `synchronous_replication` está habilitado para conexiones secundarias en Adobe Commerce Cloud.

<!-- ACP2E-2345 -->

* La conexión a la base de datos MySQL ahora se restaura si se agota el tiempo de espera de la conexión durante una transacción cuando configura `max_messages = 0` para consumidor. Anteriormente, la conexión había finalizado.

<!-- ACP2E-2121 -->

* El `magento/module-release-notification` módulo principal se ha marcado como obsoleto en el código de desarrollo 2.4 con este comentario: `Starting from Magento 2.4.7,  Magento_ReleaseNotification module is deprecated in favor of another in-product messaging mechanism`.

<!-- AC-9388 -->

* La generación de código proxy ahora genera archivos Proxy y Factory como se espera para las implementaciones que se ejecutan en modo de producción. [GitHub-35252](https://github.com/magento/magento2/issues/35252)

<!-- AC-1477 -->

* El estado indio de Ladakh ahora aparece como una opción en los menús desplegables de Dirección **[!UICONTROL State]** de administración. [GitHub-33698](https://github.com/magento/magento2/issues/33698)

<!-- AC-8388 -->

* El ticker de cuenta atrás de evento ahora se muestra como se esperaba en el Página de categoría.

<!-- AC-8369 8368 8365 8317 8351 8357 8377 8357 8351 8323-->

* El etiqueta prohibido `@author` se ha eliminado de la base de código, incluyendo estos módulos: `Magento_user-variable-wee`, `Magento_Catalog`, y , `Magento_Wishlist``Magento_Review` `Tax`, `Magento_Customer`, y en toda la marco de trabajo. [GitHub-37245](https://github.com/magento/magento2/issues/37245), [GitHub-37246](https://github.com/magento/magento2/issues/37246), [GitHub-37249](https://github.com/magento/magento2/issues/37249), [GitHub-37263](https://github.com/magento/magento2/issues/37263)

<!-- AC-9489 -->

* El serializador JSON del módulo `User` se ha reemplazado por un serializador nuevo y más preciso (`JsonHexTag`). Anteriormente, Commerce a veces se bloqueaba al intentar utilizar datos serializados por el serializador normal cuando contenía elementos sin escape. [GitHub-31377](https://github.com/magento/magento2/issues/31377)

<!-- ACP2E-2138 -->

* Ya no se producen errores de canalización rotos al ejecutar un reíndice completo (`bin/magento indexer:reindex`). Las conexiones AMPQ ahora se cierran antes de que el administrador de procesos ramifique los procesos.

<!-- ACP2E-2244 -->

* El validador de mensajes de cola ahora valida el subtipo de todos los elementos de la matriz. Anteriormente, Commerce arrojaba una excepción.

<!-- ACP2E-2066 -->

* La configuración de conexión de cola por tema en `app/etc/env.php` ahora funciona correctamente. Anteriormente, la cola de alertas de productos no se generaba correctamente cuando se creaba una nueva cola de mensajes con un intercambio personalizado. Si la conexión de cola de un tema se configuró en `app/etc/env.php` con un intercambio personalizado, se creó un nuevo enlace para todos los temas con ese intercambio personalizado. Los comerciantes no pudieron procesar las alertas de productos.

<!-- ACP2E-2144 -->

* Los formatos temporales marcados con un comentario `/* mariadb-5.3 */` ya no causan errores durante `bin/magento setup:install` al actualizar el servidor MariaDB a la versión 10.5.1 o superior.

<!-- ACP2E-2147 -->

* El controlador AwsS3 ahora funciona según lo esperado como reemplazo de la implementación base predeterminada de almacenamiento de archivos. Anteriormente, los datos podían dañarse cuando este controlador se configuraba para el almacenamiento de archivos. [GitHub-37844](https://github.com/magento/magento2/issues/37844)

<!-- ACP2E-1999 -->

* `bin/magento config:show` y `set` los comandos que usan `$_ENV` variables ahora admiten el uso de códigos web y tienda que contienen caracteres en mayúsculas o minúsculas.

<!-- AC-8923 -->

* Se han añadido clases con `!important` las que se usan en Tailwind 3 para la compatibilidad con el diseño CSS. [GitHub-37568](https://github.com/magento/magento2/issues/37568)

<!-- AC-9115 -->

* Se ha agregado una dependencia que falta `jQuery` al `trim-input.js` archivo. [GitHub-37683](https://github.com/magento/magento2/issues/37683)

<!-- AC-9387 -->

* Los detalles específicos del evento ahora se pasan como un segundo atributo (`context`) del `log` método. [GitHub-37879](https://github.com/magento/magento2/issues/37879)

<!-- AC-9109 -->

* Se han añadido valores de relación de aspecto a las imágenes del catálogo y se han eliminado scripts innecesarios del marco de trabajo de la interfaz de usuario. [GitHub-37691](https://github.com/magento/magento2/issues/37691)

<!-- AC-9188 -->

* Se han revisado los mensajes de error desencadenados por no válido configuración XML para que sean más informativos. [GitHub-37788](https://github.com/magento/magento2/issues/37788)

<!-- AC-9335 8817-->

* Código obsoleto refactorizado relacionado con la creación de propiedades dinámicas en toda la base de código.

<!-- AC-7009 -->

* El rendimiento de los indexadores para grandes almacenes con bases de datos de productos extremadamente activas ha mejorado. Los indexadores ahora indexan la información más reciente del producto una vez para cada índice, en lugar de múltiples veces. Anteriormente, los productos desaparecían del sitio web y los datos de los productos podían estar desactualizados en el sitio web. [GitHub-30012](https://github.com/magento/magento2/issues/30012)

<!-- ACP2E-1971 -->

* `mview_state` El estado del registro ahora indica con precisión el estado en función del registro de cambios actividad cuando está disponible una conexión de base de datos esclava. Anteriormente, estos registros permanecían en estado en nube `waiting` implementaciones igualado cuando no había nuevas entradas en el registro de cambios.

<!-- ACP2E-2022 -->

* Se agregó compatibilidad con la opción `precision` para el formato de moneda a fin de conservar la paridad de características con la clase `ZendCurrency` obsoleta.

<!-- AC-8854 -->

* Los mensajes de cookies se han convertido en atributos observables y los desarrolladores ahora pueden manipular el estado, lo que puede almacenar en déclencheur los cambios en la interfaz de usuario. Anteriormente, las cookies eran de solo lectura y no se podían manipular. [GitHub-37308](https://github.com/magento/magento2/issues/37308)

<!-- AC-6325 -->

* Los usuarios administradores ahora pueden generar una factura cuando su instancia de comercio esté conectado a la almacenamiento de S3.Anteriormente, el Departamento de Comercio mostraba este error: `Cannot create image resource. File not found`. [GitHub-35706](https://github.com/magento/magento2/issues/35706)

<!-- AC-6906 -->

* Adobe Systems Commerce ahora registra un mensaje de excepción como se esperaba cuando el número de IVA validación por el servicio de validación VIES falla. [GitHub-36065](https://github.com/magento/magento2/issues/36065)

<!-- AC-8146 -->

* El `Administrators` nombre se ha eliminado de la consulta utilizada para recuperar un función de administrador durante la creación de la función de administración. [GitHub-36998](https://github.com/magento/magento2/issues/36998)

<!-- AC-8607 -->

* El `bin/magento setup:config:set` comando ya no falla cuando se incluye en el `app/etc/env.php` archivo un nombre de usuario de base de datos no válido. [GitHub-37409](https://github.com/magento/magento2/issues/37409)

<!-- AC-8595 -->

* Ordenar por columna las palabras reservadas en un componente de IU de administración predeterminado ya no genera un error SQL en `var/log/exception.log`. [GitHub-37423](https://github.com/magento/magento2/issues/37423)

<!-- AC-8562 -->

* Se agregó `AddDataForCostaRica.php` para proporcionar información estatal para Costa Rica. [GitHub-37382](https://github.com/magento/magento2/issues/37382).

<!-- AC-8577 -->

* Se ha mejorado el mensaje de error para usuario caso en el que  intenta acceder a un URL de no válido desde el administrador. [GitHub-35682](https://github.com/magento/magento2/issues/35682).

<!-- ACP2E-1841 -->

* `Param $options[`La posición`]` para los símbolos de moneda ahora funciona como se espera y admite la personalización de la posición del símbolo de moneda. Anteriormente, después de migrar desde Zend Framework 1, el `toCurrency` método ignoraba el `position` parámetro. Este problema se producía en toda la interfaz de administración.

<!-- AC-8817 -->

* Código obsoleto refactorizado relacionado con la creación de propiedades dinámicas en toda la base de código.

<!-- AC-8154 -->

* Los formatos de estilo personalizados que se crearon ampliando el editor TinyMCE en las versiones de Adobe Commerce y Magento Open Source anteriores a la 2.4.6 ahora están disponibles como se espera en el tipo de contenido de Page Builder `text`. Anteriormente, el formato de estilo personalizado se ignoraba y solo se cargaban los formatos predeterminados después de actualizar a Adobe Commerce 2.4.6-p1. [GitHub-36950](https://github.com/magento/magento2/issues/36950)

<!-- AC-8576 -->

* Se agregó la siguiente nota informativa al archivo `quote.php`: `Important: This method also copies customer data to quote and removes quote addresses`. [GitHub-37400](https://github.com/magento/magento2/issues/37400)

<!-- ACP2E-1973 -->

* La creación de instancias del proveedor de bloqueo ahora pasa por la clase `\Magento\Framework\Lock\Proxy`. El proveedor de bloqueos ahora está configurado con la configuración `lock` a través del archivo `app/etc/env.php`.

<!-- ACP2E-1492 -->

* Mutex se ha implementado para pedidos que evitan condiciones de carrera durante la actualización mediante solicitudes simultáneas. Anteriormente, las solicitudes simultáneas (condiciones de carrera) para cancelaciones de pedidos provocaban entradas duplicadas en la tabla `inventory_reservation`.

<!-- ACP2E-1381 -->

* La función `populateWithArray` ahora transforma correctamente las propiedades del objeto en un caso de serpiente, lo que la hace compatible con los captadores y establecedores de `AbstractModel`. Anteriormente, el formato del caso de la serpiente era incorrecto cuando el nombre del atributo de datos contenía varias letras mayúsculas en una fila.

<!-- ACP2E-1522 -->

* El valor de incremento automático de la tabla `catalog_product_entity_varchar` ahora se incrementa correctamente después de guardar un producto. Anteriormente, este valor aumentaba en diez.

<!-- ACP2E-1701 -->

* Adobe Commerce ya no emite esta excepción del sistema de archivos cuando intenta vaciar la memoria caché de JavaScript/CSS: `No such file or directory`.

<!-- ACP2E-1358 -->

* El valor de `value_id` en `customer_entity_int` ahora se incrementa correctamente. Se ejecuta una consulta de actualización en lugar de `insert on duplicate key update` al actualizar una entidad que incorpora estos atributos. Como resultado, las columnas de incremento automático utilizadas dentro del modelo EAV ahora crecen de forma lineal. Anteriormente, el proceso de incremento automático de columnas omitía valores debido a consultas de inserción fallidas. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* Se ha eliminado espacio en blanco innecesario de `id` atributos que no lo requieren. (Este error se introdujo mediante un cambio de código de Adobe Commerce 2.4.6).

<!-- AC-7923 -->

* Los códigos de tienda ya no aparecen en la dirección URL de la tienda cuando esta se encuentra en modo de tienda única. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Se han realizado actualizaciones menores en `around` complementos. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Las muestras `Helper` se han refactorizado para eliminar alias de importación engañosos. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Los usuarios administradores ahora pueden eliminar o cambiar el nombre de un `sitemap.xml` archivo según lo previsto. Anteriormente, un usuario de administración podía eliminar el archivo de la administración, pero permanecía en el sistema de archivos. [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* Los cupones ya no se marcan como utilizados cuando el pago falla para el pedido al que se han aplicado. Los mensajes en cola ahora se procesan en el orden en que se publican cuando se inicia el consumidor. Anteriormente, el primer mensaje se extraía del cola para simplemente verificar si los mensajes estaban en cola y se rechazaba después, lo que provocaba que el primer mensaje se procesara al final.

<!-- ACP2E-1627 -->

* Adobe Systems Commerce ya no hace una excepción en el archivo de registro cuando un usuario intenta imprimir una etiqueta de envío. Anteriormente, si una extensión modificaba los encabezados de respuesta que contenían un archivo adjunto, el sistema lanzaba una excepción en el archivo de registro.

<!-- AC-7986 -->

* Se ha añadido compatibilidad con más clases HTML a `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)

### Correcciones generales

<!-- AC-10591 -->

* Se ha cambiado el `reponseBody` nombre del variable a `responseBody` en `app/code/Magento/CatalogRule/Controller/Adminhtml/Promo/Catalog/NewConditionHtml.php`.[GitHub-38093](https://github.com/magento/magento2/issues/38093)

<!-- ACP2E-2647 -->

* La programación de actualizaciones de productos ya no borra los datos de atributos de selección múltiple. Anteriormente, cuando se programaba una actualización para un producto, los datos de atributos de selección múltiple del producto se borraban por error. [GitHub-37675](https://github.com/magento/magento2/issues/37675)

<!-- AC-2904 -->

* Guardar un producto con un ámbito de almacén no predeterminado ya no provoca que los atributos sin modificar se conviertan en ámbitos de almacén al cargarse mediante `ProductRepository`. [GitHub-8897](https://github.com/magento/magento2/issues/8897)

<!-- ACP2E-2132 -->

* Los compradores ahora pueden acceder a páginas configuradas como nodos de jerarquía cuando las restricciones de acceso están habilitadas. Anteriormente, se producía un bucle de redirección infinito y el explorador arrojaba este error: `ERR_TOO_MANY_REDIRECTS`.

<!-- ACP2E-2404 -->

* Se han agregado mensajes de error informativos a los validación de campos personalizados de las páginas de detalles del producto. [GitHub-38006](https://github.com/magento/magento2/issues/38006)

<!-- ACP2E-2511 -->

* Ahora se pueden utilizar caracteres especiales en los campos de nombre. Anteriormente, el carácter &amp;ampersand (&amp;) estaba restringido en el validador de nombres, lo que bloqueaba las operaciones de adición o edición de clientes cuando el nombre del cliente contenía un ampersand. [GitHub-38080](https://github.com/magento/magento2/issues/38080)

<!-- ACP2E-2469 -->

* Los usuarios administradores con acceso restringido a un tienda específico ahora pueden usar una acción de actualización masiva para actualizar las reseñas del producto. Anteriormente, el Departamento de Comercio lanzó esta excepción: `report.CRITICAL: TypeError: array_intersect(): Argument #1 ($array) must be of type array, null given in app/code/Magento/AdminGws/Model/Models.php:439`.

<!-- AC-8600 -->

* La tienda inicio de sesión funcionalidad de Mostrar Contraseña de Página ahora muestra las contraseñas como se esperaba. Anteriormente, las contraseñas no se mostraban. [GitHub-37432](https://github.com/magento/magento2/issues/37432)

<!-- ACP2E-2062 -->

* El lista de comparación de productos ahora es siempre específico del sitio web para los compradores invitados y no contiene productos que se agregaron desde los otros sitios web, incluidos los productos que se asignaron a ambos sitios web.

<!-- ACP2E-2087 -->

* Los bloques de contenido CMS que contienen emojis ya no se truncan después del emoji cuando se guardan en la base de datos. Anteriormente, contenido estaba truncado después del emoji porque la configuración predeterminada de la base de datos no admitía caracteres de cuatro bytes.

<!-- ACP2E-2154 -->

* El producto relacionado regla&#39;s **Is one of** ahora funciona correctamente cuando se configura con la **configuración Productos para coincidir** . Anteriormente, este regla no identificaba ningún producto.

<!-- ACP2E-2164 -->

* La cuadrícula de Página CMS ahora filtros páginas en función del vista de tienda asignado al usuario de administración. Anteriormente, función ámbito no se aplicaba.

<!-- AC-8823 -->

* Las contraseñas ahora se muestran como se esperaba cuando la casilla de **[!UICONTROL Show Password]** verificación del Página inicio de sesión está activa.

<!-- ACP2E-2037 -->

* El atributo del sistema de token de Restablecer Contraseña del validación de entidad del cliente (`rp_token`) se ha eliminado del atributo validación durante la creación del cuenta del cliente, y los validación diacríticos solo se incluyen en el correo electrónico del cliente resultante. Anteriormente, el Departamento de Comercio no guardaba el registro de cliente y mostraba este error: `Something went wrong while saving the customer`.

<!-- AC-8826 -->

* Ahora puede guardar correctamente las ediciones en las páginas de administración y en la cuadrícula Bloquear después de eliminar una columna. [GitHub-37525](https://github.com/magento/magento2/issues/37525)

<!-- ACP2E-1933 -->

* Los administradores de empresa ahora pueden agregar usuarios compañía desde el escaparate. Anteriormente, el Departamento de Comercio registraba este error cuando el administrador usuario intentado agregar un nuevo usuario: `report.CRITICAL: Error: Call to a member function __toArray() on null in app/code/Magento/LoginAsCustomerLogging/Observer/LogSaveCustomerObserver.php:123`.

<!-- ACP2E-1972 -->

* Ahora, los clientes pueden iniciar sesión correctamente con un nuevo contraseña desde una dispositivos después de restablecer su contraseña en otro dispositivos.

<!-- ACP2E-1609 -->

* El campo Estado/Provincia **de la dirección** del cliente administrador ahora retiene el último valor guardado según lo esperado. Anteriormente, cuando se quitaba el valor de este campo, el Departamento de Comercio seguía mostrando el valor eliminado en el **campo Estado/Provincia** . [GitHub-36846](https://github.com/magento/magento2/issues/36846)

<!-- ACP2E-1796 -->

* Adobe Systems Commerce ya no muestra un error de infracción de restricción cuando anula la selección por primera vez y luego selecciona un Página CMS recién creado.

<!-- ACP2E-1639 -->

* Una jerarquía raíz de sitio web ahora se asigna correctamente a un Página CMS recién creado. Anteriormente, la selección de raíz del sitio web jerarquía no coincidía en las páginas CMS recién creadas.

<!-- ACP2E-1508 -->

* Los errores ya no se producen durante las solicitudes de un fuente RSS para las categorías cuando **[!UICONTROL RSS Feed Top Level Category]** está habilitado. Anteriormente, la exploración del categoría RSS fuente Página provocaba errores Elasticsearch `CRITICAL` en los archivos de registro cuando **[!UICONTROL RSS Feed Top Level Category]** estaba habilitado.

<!-- ACP2E-1490 -->

* Ahora se guarda el valor correcto para `gws_store_groups` cuando función ámbito cambia durante usuario función creación. Anteriormente, cuando función ámbito se seleccionaba como `All`, el valor se guardaba como nulo durante usuario `gws_store_groups` creación, pero no durante función edición. Además, si se seleccionó el ámbito de rol como `Custom`, el valor `gws_store_groups` siempre se guardó como nulo.

<!-- ACP2E-1446 -->

* Ahora se puede acceder a la página de restablecimiento de contraseña haciendo clic en el vínculo Admin reset password de la página de inicio de sesión de Admin cuando la configuración de **[!UICONTROL Add Store Code to Urls]** esté habilitada. El vínculo Admin reset password abría anteriormente la página de inicio de sesión o la página 404.

<!-- ACP2E-1274 -->

* El intervalo de fechas del tablero de estadísticas de administración ahora se calcula en función de la zona horaria establecida en los ajustes de configuración y, a continuación, se convierte a UTC para recuperar datos de la base de datos.

<!-- ACP2E-1665 -->

* El filtro de jerarquía CMS funciona como se espera después de filtrar un tienda vista luego hacer clic **[!UICONTROL Save]** en Administrador **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Anteriormente, al hacer clic **[!UICONTROL Save]** se actualizaba el Página, pero se perdía el contexto y el vista de tienda seleccionado ya no se mostraba.

<!-- ACP2E-1631 -->

* Al hacer clic en la **[!UICONTROL Send invitation]** botón (Administrador **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]** > **[!UICONTROL Invitation]**), se envía un petición POST junto con la clave del formulario y se envía la invitación correctamente. Anteriormente, al hacer clic en este botón, ni la método HTTP POST ni la clave de formulario estaban presentes.

<!-- ACP2E-1608 -->

* Los archivos de cero bytes ahora se pueden copiar correctamente en almacenamiento remotos con AWS S3.

<!-- AC-7402 -->

* Los usuarios administradores ahora pueden agregar una nueva dirección de cliente desde la administración cuando ese cliente se ha creado para otro sitio web cuyo ID de tienda no coincide con el ID del sitio web. Anteriormente, Adobe Systems de Comercio mostraba este mensaje elemento emergente: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* El bloque CMS editor Página ahora muestra el valor de widget `block_id` correcto. [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Tarjetas regalo y envoltorios

<!-- AC-7372 -->

* Los comerciantes ya no pueden crear una tarjeta de regalo con un valor negativo.

<!-- ACP2E-1890 1806-->

* La `setGiftOptionsOnCart` mutación ahora elimina el envoltorio de regalo de un pedido como se esperaba. El valor de `gift_wrapping_id` ahora no se ha establecido en el nivel de carro de compras. Anteriormente, `gift_wrapping_id` se actualizaba a su valor anterior después de realizar el pedido incluso cuando este valor no estaba establecido en el nivel de carro de compras.

<!-- ACP2E-1866 -->

* Las cuentas de tarjetas de regalo ahora permanecen activas como se espera cuando se procesa el reembolso parcial de un producto simple desde el pedido al que se aplicó la tarjeta. Anteriormente, se eliminaba la cuenta de la tarjeta regalo.

<!-- ACP2E-1805 -->

* La mutación `setGiftOptionsOnCart` ahora actualiza correctamente la base de datos al eliminar un mensaje de regalo del carro de compras. Anteriormente, los detalles del mensaje no se actualizaban en la base de datos y el mensaje de regalo no se eliminaba del carro de compras.

<!-- ACP2E-1741 -->

* La etiqueta del registro de `Event Information` regalos ahora se traduce como se espera.

<!-- ACP2E-1586 -->

* Los subtotales ahora se calculan correctamente para los importes de tarjeta regalo personalizados.

<!-- ACP2E-1350 -->

* Las tarjetas regalo ahora se aplican correctamente durante el proceso de pago con varias direcciones. Anteriormente, los importes de tarjeta regalo se aplicaban incorrectamente a los envíos de varias direcciones, lo que daba como resultado no válido importes de tarjeta regalo.

<!-- ACP2E-1341 -->

* La emulación ahora comienza durante `send()` las llamadas una vez que la emulación se ha completado durante la `getInfoBlockHtml()` llamada y no se registra ningún error. Anteriormente, el `system.log` archivo estaba inundado con este error: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Ahora puede usar la `updateCartItems` mutación para actualizar un tarjeta de regalo en una carro de compras. Anteriormente, solo la cantidad tarjeta podía actualizarse en el carro de compras por esta mutación.

<!-- ACP2E-1669 -->

* El envoltorio para regalos ahora se incluye como se espera en una cotización basada en carros combinados. Anteriormente, los mensajes de regalo se combinaban correctamente, pero no se envolvían las selecciones.

<!-- AC-7530 -->

* La `addProductsToCart` mutación ahora agrega con éxito un tarjeta de regalo a una carro de compras. Anteriormente, este consulta esperaba que el regalo tarjeta destinatario nombre, pero en su lugar se devolvía el nombre del remitente. Adobe Systems Commerce ha lanzado este error: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)


### Administrador de etiquetas de Google

<!-- ACP2E-1520 -->

* El módulo Google Tag ahora inserta los datos correctos en la capa de datos. Anteriormente, Página datos de impresiones no se insertaban en la capa de datos.

### GraphQL

<!-- AC-8964 -->

* El `getCustomerWishlist` consulta ya no genera un error interno del servidor al consultar listas que contienen productos configurables.

<!-- AC-8966 -->

* El `customerCart` consulta ahora devuelve todos los descuentos aplicados en paquete productos según lo esperado. Anteriormente, el total de descuentos que se aplicaban a un producto paquete se devolvía como cero.

<!-- AC-8964 -->

* El `getCustomerWishlist` consulta ya no genera un error interno del servidor al consultar listas que contienen productos configurables.

<!-- AC-9147 -->

* La declaración del `is_subscribed` indicador, su resolución, caché `NewsletterGraphQl` y las pruebas asociadas se han movido del `CustomerGraphQl` módulo al módulo.

<!-- AC-9362 -->

* La `addProductsToCart` mutación ya no notifica errores no relacionados en `user_errors`. Anteriormente, los errores relacionados con el carro de compras se incluían `user_errors` junto con los errores de operación esperados. [GitHub-37908](https://github.com/magento/magento2/issues/37908)

<!-- ACP2E-2119 -->

* El filtro de producto de consulta `products` ahora puede devolver resultados de coincidencia parciales así como coincidencias completas. El nuevo atributo `match_type` (PARCIAL, COMPLETO) admite la especificación del tipo de coincidencia. Anteriormente, la consulta solo devolvía coincidencias completas.

<!-- ACP2E-2155 -->

* Las solicitudes simultáneas han agregado la exclusión mutua a la consulta `addConfigurableProductsToCart` para evitar condiciones de carrera durante una actualización. Anteriormente, cuando un comerciante enviaba dos solicitudes paralelas para agregar el mismo producto configurable a un carro de compras, se agregaban dos artículos independientes con el mismo SKU del producto. [GitHub-37847](https://github.com/magento/magento2/issues/37847)

<!-- ACP2E-2201 -->

* La agregación de productos en las respuestas de GraphQL ahora incluye valores distintos de cero para los atributos cuando **[!UICONTROL Use in Layered Navigation]** está establecido en **[!UICONTROL Filterable (no results)]**. Anteriormente, solo se devolvían valores distintos de cero.

<!-- ACP2E-2141 -->

* Se ha mejorado el rendimiento de la consulta `setShippingAddressForEstimate` para operaciones relacionadas con el carro de compras que implican atributos de producto personalizados. Anteriormente, la consulta cargaba todos los atributos de producto cuando los parámetros se enviaban como variables.

<!-- ACP2E-2255 -->

* El campo `products` consulta `ConfigurableProduct.configurable_options` ahora devuelve solamente valores que tienen al menos un producto habilitado. Anteriormente, este campo devolvía productos simples desactivados.

<!-- ACP2E-2151 -->

* Se mejoró el rendimiento de `GetCategories query` al reducir el número de consultas SQL innecesarias que genera.

<!-- AC-8623 -->

* La gestión de errores de dirección para componentes de GraphQL biblioteca ahora funciona como se espera.

<!-- AC-9058 -->

* Ahora, la `products` consulta devuelve todos los detalles relevantes de los precios de la tienda cuando los precios dinámicos se establecen en no y se aplican descuentos. Anteriormente, no se devolvía el rango de precios de los productos. [GitHub-35649](https://github.com/magento/magento2/issues/35649)

<!-- ACP2E-1744 -->

* Los nombres de las transacciones de GraphQL ahora incluyen nombres de consulta de nivel superior solo en los registros de Nuevo Relic. Anteriormente, los nombres de transacción también incluían nombres de consulta secundarios.

<!-- AC-8623 -->

* La gestión de errores de dirección para componentes de GraphQL biblioteca ahora funciona como se espera.

<!-- AC-7430 -->

* Cuando la configuración Visibilidad de un producto está establecida en `Catalog`, `products` las consultas sobre ese producto ahora resuelven la configuración correctamente. Anteriormente, cualquier filtro proporcionado se cambiaba a la `Visibility: Catalog` configuración. [GitHub-36591](https://github.com/magento/magento2/issues/36591)

<!-- ACP2E-1769 -->

* La `customer` consulta ahora devuelve un campo que incluye impuestos `product_sale_price` sobre los pedidos cuando el precio del producto se ha configurado para incluir impuestos. [GitHub-36946](https://github.com/magento/magento2/issues/36946)

<!-- ACP2E-1584 -->

* Los atributos de tipo de producto `DateTime` ahora se asignan al filtro en las `FilterRangeTypeInput` consultas de productos. Anteriormente, estos atributos estaban asignados a `FilterMatchTypeInput`. Como consecuencia de este cambio, las consultas que filtran por `DateTime` atributos requieren `from` valores y `to` en lugar de valores coincidentes.

<!-- ACP2E-1552 -->

* El `customer` consulta ahora devuelve solo opiniones de clientes relacionadas con un vista de tienda específico, tal como se espera cuando se filtra por ID tienda.

<!-- AC-7544 -->

* La `categories` consulta ya no devuelve un error cuando el valor de respuesta `items.redirect_code` contiene un valor nulo. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* Los productos relacionados basados en reglas ahora se cargan como se esperaba en las respuestas de GraphQL después de una limpieza completa de la caché. Anteriormente, los atributos EAV del producto responsables de las coincidencias basadas en regla no se cargaban para la entidad solicitada, aunque se cargaban después de volver a cargar el página de producto de escaparate.

<!-- ACP2E-1486 -->

* La `changeCustomerPassword` mutación ahora desencadena correo electrónico como se esperaba después de restablecer con éxito un contraseña.

<!-- ACP2E-1494 -->

* `urlResolver` y `route` las consultas ahora devuelven un resultado cuando el `Target Path` de URL reescritura es un URL absoluto. Anteriormente, el `urlResolver` consulta devolvía NULL cuando se usaba para recuperar redirección datos.

<!-- AC-7979 -->

* Ahora, la `products` consulta devuelve etiquetas correctas cuando existen varias vistas de tienda. [GitHub-29635](https://github.com/magento/magento2/issues/29635)

<!-- ACP2E-1315 -->

* La `categoryList` consulta devuelve ahora una sección rellenada `product` del `options` bloque para los productos secundarios de paquete productos, según lo esperado. Anteriormente, no se devolvía ninguna información sobre paquete producto secundario.

<!-- AC-7114 -->

* Ahora, la `route` consulta devuelve rutas para categorías y productos según lo esperado, sin un error interno del servidor. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* El `products` consulta ahora obtiene `url_key` valores cuando se seleccionan varias categorías.

<!-- LYNX-1716-->

* `product` Ahora, las consultas solo devuelven agregaciones para los productos asignados al catálogo compartido especificado. Anteriormente, los datos de agregación de productos no asignados a un catálogo compartido aparecían en navegación por capas.

<!-- AC-6680 -->

* El `OptionValueProvider` método class `get()` devuelve ahora un valor de opción de atributo basado en el valor dado `option_id` según lo esperado. Anteriormente, devolvía un error. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* Ahora, la `products` consulta devuelve todas las agregaciones (filtros) disponibles y sus etiquetas traducidas correctamente. Anteriormente, las etiquetas de agregación de precios y categoría no se traducían como se esperaba. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Ahora puede utilizar un fragmento `ProductCard` al consultar `related_products`, `upsell_products`, y `crosssell_products` en `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* Ahora, la `products` consulta devuelve productos relacionados, impulsar ventas y realizar venta cruzada en el orden en que se guardaron. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* Las consultas GraphQL ahora devuelven datos de productos relacionados ordenados por posición. [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` se ha agregado a `ProductAttributeFilterInput`, que permite solicitar todos los productos para una categoría en un solo consulta. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* Corregido un error en el que el método que establece el tienda actual en una mutación GraphQL ejecutado antes que el método que controla validación. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Imagen

<!-- ACP2E-1353 -->

* El icono del favorito de administración cargar formulario ahora admite `.ico` tipos de archivos. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importar/exportación

<!-- ACP2E-2261 -->

* El proceso de importación de productos ahora analiza los valores con el separador correcto. Anteriormente, el proceso de importación utilizaba el operador de barra vertical (&quot;|&quot;) para analizar los valores de selección múltiple hasta que el separador de valores determinado no era igual al valor predeterminado. Posteriormente, el proceso de importación falló.

<!-- ACP2E-2490 -->

* Ahora, las redirecciones 301 se crean automáticamente cuando `URL Key` CSV importación actualiza los valores.

<!-- ACP2E-2129 -->

* Las tarifas de la tabla de envío ahora se actualizan según lo esperado en el archivo de CSV importación de tarifas de tabla. El archivo de cargar de velocidad de tabla se almacena temporalmente hasta que se ejecute el trabajo cron del procesador de configuración asíncrono. Este trabajo cron recoge la nueva ubicación del archivo y la procesa en consecuencia. Anteriormente, las velocidades de tabla no se actualizaban como se esperaba porque el procesador asíncrono buscaba el archivo en la ubicación incorrecta.

<!-- ACP2E-2298 -->

* La cuadrícula Exportar Archivos ahora muestra todos los archivos exportados, independientemente de la marca de tiempo. Anteriormente, la cuadrícula no mostraba todos los archivos exportados que tuvieran la misma marca de tiempo. [GitHub-36951](https://github.com/magento/magento2/issues/36951)

<!-- ACP2E-2028 -->

* Ahora se pueden importar correctamente los productos con opciones personalizables. Anteriormente, los datos de opciones se perdían durante la importación. [GitHub-37598](https://github.com/magento/magento2/issues/37598)

<!-- ACP2E-2214 -->

* Los caracteres especiales de los archivos de CSV exportados ahora se representan según lo esperado en Excel. [GitHub-37921](https://github.com/magento/magento2/issues/37921)

<!-- ACP2E-2301 -->

* La importación de orígenes de stock y direcciones de clientes mediante esta **[!UICONTROL Customers and Addresses (single file)]** opción ahora se completa correctamente.

<!-- ACP2E-1930 -->

* La importación del producto ya no falla por falta de memoria. Anteriormente, la importación de cualquier número de productos a una base de datos que ya contiene aproximadamente diez millones de productos fallaba debido a la falta de memoria.

<!-- AC-9116 -->

* Las comprobaciones de validación ahora detienen el proceso de importación según lo esperado cuando no hay datos válidos que importar, y Comercio ahora muestra este error: `There are no valid rows to import`. Anteriormente, validación pasaba bajo estas condiciones, pero el proceso de importación fallaba con este mensaje: `entity values are mixed`. [GitHub-32905](https://github.com/magento/magento2/issues/32905)

<!-- ACP2E-1754 -->

* Al importar claves de URL con el mismo producto, ya no se sobrescribirán ni eliminarán las claves de vista tienda predeterminadas existentes. URL reescrituras ahora solo se regeneran para las vistas de tienda cuando no hay ningún valor anulado `url_key` . Anteriormente, al importar URL reescrituras con la misma clave de URL se sobrescribía la clave de URL vista de tienda predeterminada existente. `key_store`( URL se eliminaron las reescrituras, pero la URL reescritura en el nivel de vista de tienda predeterminado para el producto seguía establecida en `key_store`.)

<!-- ACP2E-1875 -->

* El número de productos ya no cambia inesperadamente durante la importación. Ahora, el vaciado de la caché se pospone hasta después del proceso de importación.

<!-- ACP2E-1813 -->

* El estado de las acciones de importación programadas ahora representa con precisión el éxito o el fracaso de la operación de importación. Anteriormente, todas las acciones se registraban como satisfactorias.

<!-- AC-7039 -->

* El comercio ahora tiene en cuenta la configuración durante la **[!UICONTROL Disable Automatic Group Change Based on VAT ID]** importación de los registros de clientes. Anteriormente, se ignoraba el `disable_auto_group_change` valor en los archivos de importación. [GitHub-36409](https://github.com/magento/magento2/issues/36409)

<!-- AC-965 -->

* `Magento\Framework\Convert\Excel`ahora gestiona correctamente los números precedidos por un espacio. El XML de Excel ahora codifica los campos como un `String`archivo . Anteriormente, el escritor de Excel codificaba estos valores como `number`, lo que daba como resultado no válido archivos. [GitHub-33422](https://github.com/magento/magento2/issues/33422)

<!-- ACP2E-1641 -->

* Los comerciantes ahora pueden especificar la configuración regional en la que se presentan los datos de importación y cómo los validadores de datos deben analizar estos datos. Si no se especifica un valor de configuración regional, Adobe Systems de Comercio utiliza la configuración regional predeterminada (no la configuración tienda predeterminada vista) para analizar los datos. En los procesos de administración, importación y exportación seguirán usando la configuración regional de la interfaz de administración usuario para importar, analizar y formato datos, respectivamente.

<!-- ACP2E-1847 -->

* La importación de productos con `country_of_manufacture` atributos creados por un usuario de administración con una configuración regional diferente a la del usuario de administración que está importando los productos ya no arroja un error validación. Anteriormente, esta operación de importación podía dar lugar a un error de validación en el `country_of_manufacture` atributo.

<!-- ACP2E-1981 -->

* Stock datos de origen ahora se importan correctamente mediante el proceso de importación tienda, y Comercio ahora muestra un mensaje de notificación completo cuando se completa el proceso de importación. Anteriormente, faltaba el mensaje notificación.

<!-- ACP2E-1889 -->

* La invalidación del indexador redundante se ha eliminado cuando los indexadores están en modo programado.

<!-- ACP2E-1994 -->

* Los productos exportados ahora tienen el valor correcto `manage_stock` cuando el `use_config_manage_stock` valor es igual a `1`. Anteriormente, este valor predeterminado era incorrecto.

<!-- ACP2E-1620 -->

* Adobe Systems Commerce ahora muestra un mensaje de error informativo en la cuadrícula de importación programada cuando una imagen no se importa correctamente durante una operación de importación programada. Anteriormente, no se mostraba ningún mensaje de error.

<!-- ACP2E-1565 -->

* El proceso de importación de productos ya no se interrumpe cuando faltan imágenes de productos. Anteriormente, cuando faltaba una imagen de producto durante la importación de un servicio de terceros mediante un archivo CSV, Adobe Systems de Comercio mostraba este error: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* El rendimiento de la exportación de clientes desde la cuadrícula del cliente se ha mejorado en las implementaciones donde B2B está habilitado.

<!-- ACP2E-1391 -->

* El proceso de importación de productos ya no arroja un error de validación cuando un valor de atributo de la `configurable_variations` columna contiene una coma.

<!-- ACP2E-1377 -->

* La decodificación se ha excluido del proceso de exportación. El texto del archivo de exportación de CSV permanece sin cambios después de la importación. Como resultado, la descripción no cambia después de la reimportación. Anteriormente, las etiquetas HTML se eliminaban en el editor de Page Builder después de exportar e importar productos.

<!-- ACP2E-1451 -->

* Las configuraciones no predeterminadas (sitio web o ámbito de tienda) que se agregan como variables de entorno ya no interrumpen el proceso `app:config:import` con un error de recursión.

<!-- ACP2E-1569 -->

* Los indexadores de precios y búsqueda catálogo de la actualización en modo Guardar ya no se invalidan tras la importación. Anteriormente, la versión de documento de Elasticsearch Indexer cambiaba de versión cuando se importaban productos nuevos y existentes.

<!-- ACP2E-1482 -->

* Ahora los informes de productos se exportan al `var` directorio. Anteriormente, estos informes se exportaban al directorio raíz documento, que es un directorio de solo lectura en nube instancias.

<!-- ACP2E-1736 -->

* Los campos vacíos de dirección de cliente de selección múltiple ya no interrumpen ni detienen el proceso de exportación.

### Índice

<!-- AC-10911 -->

* Se mejoró el rendimiento del indizador `catalogrule_product` cuando no se estableció ninguna regla de catálogo. [GitHub-34784](https://github.com/magento/magento2/issues/34784)

<!-- ACP2E-2204 -->

* Se han resuelto problemas con el rendimiento del indexador de precios. El rendimiento del indexador ya no se degrada gradualmente. El indizador se ha refactorizado para aumentar la velocidad de procesamiento del indizador al cambiar la forma en que se crean las tablas temporales. Estas tablas temporales ahora se recrean en lugar de abordarse con instrucciones de DELETE que llevan más tiempo.

<!-- ACP2E-2033 -->

* Se ha mejorado el rendimiento del indexador de precios. Se ha añadido una sugerencia de índice al indexador de precios que mejora los tiempos de ejecución de las consultas MySQL que se activan durante la indexación.

<!-- AC-9223 -->

* Ahora todos los indizadores utilizan los mismos colores para representar el estado del indizador. [GitHub-34648](https://github.com/magento/magento2/issues/34648)

<!-- ACP2E-1697 -->

* Se ha mejorado el rendimiento del indexador de producto de reglas de catálogo en implementaciones en las que las reglas no están asignadas a todos los sitios web.

<!-- ACP2E-1401 -->

* La creación de un tipo de producto personalizado cuando los indizadores están establecidos en **[!UICONTROL Update on schedule]** ya no hace que la tarea de actualización de índice `cron` falle. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* Se han resuelto los problemas de visualización en la página de detalles del producto de la tienda que se debían a la indexación de permisos de catálogo. Anteriormente, Adobe Commerce borraba primero la tabla de índice y después volvía a indexar durante un proceso de indexación completo de `catalogpermissions_product` o `catalogpermissions_category`. Los permisos del catálogo no funcionaron según lo esperado en la tienda hasta que se completó la reindexación.

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` ya no falla con un error de MySQL cuando la cuadrícula de clientes incluye atributos de cliente personalizados recién creados. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* El cambio de modo de indexador para varios indexadores (es decir, un cambio de modo de indexador de acción masiva) ahora cambia el modo de un indexador solo cuando el modo actual difiere del que se está aplicando. Esto mejora el rendimiento al evitar desplazamientos innecesarios a la base de datos. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

### Infraestructura

<!-- AC-10866 -->

* Se ha añadido una instrucción que faltaba `return` al controlador de habilitación de uso de administrador. Anteriormente, no había ninguna `return` declaración y el controlador en `FrontendController` clase se manejaba incorrectamente. [GitHub-31374](https://github.com/magento/magento2/issues/31374)

<!-- AC-9390 -->

* Se reemplazó MySQL `CREATE TEMPORARY TABLE ... LIKE` con refactorizado `CREATE TEMPORARY TABLE` para cumplir con MySQL 8.x. [GitHub-37926](https://github.com/magento/magento2/issues/37926)

<!-- ACP2E-1462 -->

* Adobe Systems Commerce ya no incluye la ruta completa a la raíz del servidor en el mensaje de error que muestra cuando se ha enviado una petición HTTP malformada al servidor. Ahora sólo se pasan cadenas al `explode` método como segundo argumento.

<!-- AC-8384 -->

* `restricted_classes.php` ha reemplazado `Zend_Validate_File_Upload`a . Anteriormente, el validador se bloqueaba durante cargar de un archivo de importación mayor que el valor configurado en `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* Las opciones de atributo proporcionadas por el modelo fuente de datos e instaladas mediante el parche de datos de configuración (normalmente de módulos de terceros) ahora se pueden usar con reglas de segmento del cliente. Anteriormente, esta combinación no devolvía el lista de clientes que coincidía con el segmento configurado.

<!-- AC-7093 -->

* El motor de plantilla correo electrónico ahora puede procesar correctamente determinadas directivas anidadas (por ejemplo, `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` las consultas con datos de agregación ahora devuelven los valores de etiqueta correctos para los atributos del producto de tipo booleano. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- https://github.com/magento/magento2/pull/29173 -->

* Los archivos CSS ya no se corrompen cuando se fusionan `var/tmp` y `pub/static` están en diferentes sistemas de archivos y **[!UICONTROL CSS Merging Enabled]** está habilitado. Los archivos temporales se han creado en el mismo directorio estático que el archivo destino para garantizar que ambos archivos estén en el mismo sistema de archivos. Como resultado, el llamado a cambiarle el nombre es atómico. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Se ha corregido un posible error al llamar a una función `getId()` miembro en `int`, que en ocasiones desencadenaba una excepción cuando se visualizaba un cliente en Administración.

<!-- https://github.com/magento/magento2/pull/34092 -->

* Las comprobaciones de tipo ahora se aplican para el tipo de matriz en el procesador de configuración del tema de diseño. [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Gestión de inventario

<!-- ACP2E-1883 -->

* Los productos ahora se devuelven automáticamente al estado En stock después de una nota de crédito que incluye una devolución del producto cantidad. Anteriormente, si un producto estaba agotado pero una nota de crédito devolvía existencias de este producto, los comerciantes tenían que cambiar manualmente el estado de las existencias del producto.

<!-- ACP2E-2123 -->

* Se ha mejorado el rendimiento del indizador de inventario en modo asíncrono mediante la eliminación de solicitudes redundantes de reindexación de elementos de origen predeterminados.

<!-- AC-7023 -->

* Se han corregido problemas con el indexador de inventario que afectaban a la precisión del recuento de existencias de escaparate de los productos configurables. [GitHub-36421](https://github.com/magento/magento2/issues/36421)

<!-- ACP2E-2082 -->

* La actualización de inventario elementos de origen a través de REST `V1/inventory/source-items` ahora funciona más rápido. La llamada ya no desencadena una operación de reindexación o limpieza de caché en productos inventario sin cambios.

<!-- ACP2E-1842 -->

* REST `V1/products/<sku>` ahora activa un reíndice de acciones automatizado al actualizar el estado de existencias de un producto. Anteriormente, no se activaba un reíndice de acciones para el producto que se estaba actualizando.

<!-- ACP2E-1653 -->

* El estado del stock de productos configurable ahora se actualiza en el escaparate como se espera cuando los productos secundarios se actualizan mediante `V1/inventory/source-items`.

<!-- ACP2E-2114 -->

* La `POST <store_code>/V1/inventory/source-items` llamada REST ahora valida la carga útil para el espacio en blanco en los elementos de origen de inventario devueltos y envía un mensaje de error sobre validación según sea necesario.

<!-- ACP2E-2072 -->

* Los comerciantes ahora pueden notificar a los compradores que un pedido está listo para recoger cuando la **[!UICONTROL No Manage Stock]** configuración está habilitada para un producto. Anteriormente, cuando se habilitaba esta configuración, Comercio mostraba este mensaje de error: `Your order is not ready for pickup`.

<!-- ACP2E-2227 -->

* Los comerciantes ahora pueden crear una nota de crédito para pedidos de los que se ha eliminado un producto simple que está asociado con un producto configurable. Anteriormente, los comerciantes no podían crear el abono y Commerce lanzó una excepción `TypeError`.

<!-- ACP2E-2310 -->

* El recuento de fuentes de cuadrícula de administración ahora devuelve registros válidos después de aplicar un filtro. Anteriormente, el método `getSourcesCount` siempre devolvía el número total de orígenes después de aplicar un filtro.

<!-- ACP2E-1364 -->

* La página Categoría ya no redirige al panel de administración al ordenar los productos mediante la opción &quot;Mover de stock a la parte inferior&quot;. El problema se ha resuelto colocando la instrucción de combinación SQL dentro de la instrucción condicional solo después de asegurarse de que ya no se incluye. Anteriormente, la página se redirigía al panel de administración con el mensaje: `Invalid security or form key. Please refresh the page`.

<!-- ACP2E-1488 -->

* `AUTO_INCREMENT` de la `inventory_source_item` tabla ya no aumenta con cada `UPDATE` operación. Anteriormente, cada actualización aumentaba el `AUTO_INCREMENT` de esta tabla, lo que finalmente causaba que el `AUTO_INCREMENT` valor estuviera fuera del rango al agregar un nuevo registro al `inventory_source_item table`archivo . Como resultado, los usuarios administradores recibieron el siguiente error cuando intentaron crear un nuevo producto desde el administrador: `Numeric value out of range...`.

<!-- ACP2E-1378 -->

* Los usuarios administradores ahora pueden agregar un producto a un carro de compras de cliente desde el administrador para un tienda particular vista ámbito con la administración de inventario. Anteriormente, el ID de stock no se determinaba correctamente y los usuarios administradores no podían agregar el producto a la carro de compras del cliente.

<!-- ACP2E-1399 -->

* La sincronización entre el inventario y el catálogo ya no depende de los **[!UICONTROL Synchronize with Catalog]** ajustes de configuración. Anteriormente, los productos se sincronizaban correctamente solo cuando esta opción estaba habilitada.

<!-- ACP2E-1382 -->

* Adobe Systems Commerce ya no arroja un error después de Página recargar cuando un comprador deduce un cantidad de producto de un pedido que cae dentro del rango de producto disponible al seleccionar la fuente de envío.

<!-- ACP2E-1259 -->

* El estado del stock de producto configurable ahora se actualiza correctamente cuando un producto configurable y su valor de productos `Stock Availability` secundarios se actualiza mediante una actualización masiva inventario. Anteriormente, no se podía devolver un producto configurable y sus productos secundarios a stock mediante una actualización masiva.

<!-- ACP2E-2096 -->

* El tipo de datos de los orígenes no predeterminados se ha actualizado a `DECIMAL (12, 4)` para admitir hasta ocho dígitos enteros, que es el mismo límite implementado para el stock predeterminado. Este valor ahora está sincronizado con las páginas de producto de adición y edición de administración, que admiten la validación de entrada de hasta ocho dígitos para todo tipo de orígenes de inventario. Anteriormente, la entrada del campo **[!UICONTROL Quantity]** (para orígenes no predeterminados) solo era compatible con seis dígitos.

<!-- ACP2E-2054 -->

* Tanto los orígenes predeterminados como los no predeterminados ahora muestran la información correcta para la cantidad vendible del producto cuando se procesa para su envío un origen no predeterminado que se solicitó desde la tienda. Anteriormente, Adobe Systems Commerce mostraba un estado de existencias incorrecto para las fuentes de productos.

<!-- ACP2E-1950 -->

* `\Magento\Catalog\Model\Product::getIsSalable()` devuelve ahora el estado de existencias en función del ámbito definido en el objeto de producto (`\Magento\Catalog\Model\Product::getStoreId()`). Anteriormente, el estado de existencias devolvía en función de la ámbito actual, `getIsSalable()` independientemente del objeto del producto.

### Registro

<!-- ACP2E-1788 -->

* Se ha actualizado el formato de fecha y hora en la función Informes del sistema para incluir registros de archivos de registro en los informes.

<!-- ACP2E-1385 -->

* Los usuarios administradores ahora pueden ver los registros de las acciones masivas creadas mediante integraciones en la sección Registro de acciones masivas de Admin.

### Iniciar sesión

<!-- ACP2E-1521 -->

* Restablecer una contraseña en un explorador y posteriormente iniciar sesión en otro explorador ya no genera una excepción. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* Ahora se redirige a los clientes al Página de inicio de sesión después de activar un cuenta según lo previsto. Anteriormente, los clientes iniciaban sesión automáticamente.

### Galería multimedia

<!-- ACP2E-2568 -->

* Los comerciantes ahora pueden cargar imágenes con el mismo nombre pero con diferentes mayúsculas y minúsculas (una mezcla de caracteres en mayúsculas y minúsculas) a la Galería de medios. Anteriormente, archivo de imagen nombres no distinguían mayúsculas de minúsculas en Page Builder, y los archivos con los mismos nombres que no fueran mayúsculas y minúsculas se sobreescribían en los almacenamiento de Commerce medios que estaban alojados en sistemas de archivos con distinción de mayúsculas y minúsculas.

### Boletín

<!-- AC-10806 -->

* Ahora, Commerce comprueba si el funcionalidad de suscripción al boletín está habilitado antes de aceptar nuevos suscriptores a un boletín. [GitHub-33040](https://github.com/magento/magento2/issues/33040)

### Órdenes

<!-- AC-8857 -->

* Los productos movidos de la carro de compras de administración a la lista de artículos a pedir ahora se eliminan según lo esperado de la carro de compras. [GitHub-37538](https://github.com/magento/magento2/issues/37538)

<!-- ACP2E-2535 -->

* Los comerciantes ahora pueden crear notas de abono según lo esperado para la devolución parcial de pedidos que se pagaron en parte mediante puntos de recompensa. Anteriormente, cuando un comerciante creaba una devolución parcial, el estado del pedido se identificaba incorrectamente como cerrado y la página Pedido del administrador no mostraba las opciones de abono.

<!-- ACP2E-2632 -->

* La rotación del registro de acciones del administrador funciona ahora como se espera cuando el Frecuencia de archivado del registro de rotación se establece en intervalos semanales o mensuales. Anteriormente, cuando se establecían intervalos semanales o mensuales, los registros no se rotaban.

<!-- ACP2E-2583 -->

* Comercio ahora aplica la cantidad de descuento correcta a los pedidos cancelados parcialmente. Anteriormente, la cantidad de descuento calculada en la `base_discount_cancelled` columna se calculaba incorrectamente cuando se cambiaba un pedido. Se ha añadido compatibilidad para valores negativos a las facturas de pedidos con descuento.

<!-- ACP2E-2585 -->

* El punto final REST `V1/orders` ahora aplica tarjetas regalo como se espera al importar pedidos. Anteriormente, los cambios en los atributos de regalo tarjeta extensión en este extremo no se guardaban.

<!-- ACP2E-2412 -->

* Comercio ahora ordena los atributos de dirección de cliente personalizados según el orden de clasificación que se proporcionó cuando el administrador usuario creó el pedido en Administración.

<!-- ACP2E-2400 -->

* La página Administración de cuadrícula de pedidos de ventas ahora se carga como se espera cuando un comerciante inicia una búsqueda desde esta página. Anteriormente, cuando un comerciante intentaba buscar pedidos de esta tabla, la página se bloqueaba y Commerce mostraba un error `Request-URI Too Long` en la consola del explorador.

<!-- ACP2E-2294 -->

* El estado del pedido ahora se marca como cerrado en lugar de completo cuando el importe completo del pedido se ha reembolsado con crédito de tienda más un método de pago adicional. Anteriormente, el estado del pedido se marcaba como completado porque el importe reembolsado se calculaba incorrectamente.

<!-- ACP2E-2213 -->

* Se mejoró el rendimiento del método `OrderRepository::get()` al reducir el número de veces que carga un pedido de la base de datos. Anteriormente, este método cargaba un pedido varias veces. [GitHub-36636](https://github.com/magento/magento2/issues/36636)

<!-- ACP2E-1918 -->

* Los comerciantes ahora pueden generar notas de abono para pedidos que contienen algunos artículos con un total cero cuando hay otros artículos de pedido disponibles para devolución. Anteriormente, los comerciantes no podían realizar múltiples reembolsos cuando un cliente tenía un descuento del 100% en algunos artículos del pedido.

<!-- AC-8254 -->

* Los vínculos entre los productos secundarios y principales ahora se muestran en el Página de pedidos durante la nueva orden del producto secundario desde el administrador. [GitHub-37028](https://github.com/magento/magento2/issues/37028)

<!-- AC-1756 -->

* La sección de encabezado de la Página de pedido ahora contiene la información esperada sobre la factura enviada, la nota de crédito y el envío. [GitHub-27474](https://github.com/magento/magento2/issues/27474)

<!-- AC-7632 -->

* Ahora, las notas de crédito para pedidos que contienen un solo producto configurable ahora se generan correctamente. Anteriormente, la `isLast()` función no regresaba `true` como se esperaba. [GitHub-36722](https://github.com/magento/magento2/issues/36722)

<!-- ACP2E-1961 -->

* Se ha mejorado el rendimiento del `aggregate_sales_report_bestsellers_data` trabajo cron optimizando el consulta de datos principales.

<!-- ACP2E-1962 -->

* Adobe Systems Commerce ya no arroja un error al crear una nota de crédito con un reembolso de sin conexión a un saldo de cliente cuando el usuario de administración no tiene permiso al sitio web del cliente. Anteriormente, Adobe Systems Departamento de Comercio lanzaba este error: `More permissions are needed to view this item`y el administrador usuario no podía crear un reembolso de crédito tienda.

<!-- ACP2E-1714 -->

* El estado del pedido ahora es correcto cuando se ha realizado un reembolso parcial para un pedido que contiene paquete productos. Anteriormente, el estado del pedido aparecía como completo después de que se emitiera un reembolso parcial, igualado aunque el pedido restante no estuviera completo. [GitHub-37377](https://github.com/magento/magento2/issues/37377)

<!-- ACP2E-1514 -->

* Los compradores ya no pueden solicitar un producto con un precio personalizado cuando se genera un pedido por primera vez desde el administrador utilizando el precio personalizado único. Anteriormente, si un pedido contenía un artículo con precios personalizados, este precio personalizado se aplicaba a otros pedidos realizados con la funcionalidad de repedido.

<!-- ACP2E-1421 -->

* Los compradores ya no pueden guardar estados de pedidos incorrectos en la página de pedidos. El estado del pedido ya no cambia de Completado a Procesando cuando se envía un artículo. Anteriormente, Adobe Commerce no comprobaba el estado actual del pedido antes de guardarlo después de que un comprador escribiera un comentario. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* Adobe Systems Commerce ya no muestra un error en el Página de devolución del pedido en la tienda cuando se ha eliminado el producto configurable que se está devolviendo. Anteriormente, Adobe Systems de Comercio registraba este error: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* La cuadrícula de pedidos de ventas ahora está sincronizada asincrónicamente con todos los pedidos como se esperaba. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* La funcionalidad de filtrado por fecha de compra de la sección de pedidos del cliente de la Página de pedidos ahora funciona como se espera. Anteriormente, se producía un error de JavaScript cuando la lógica de conversión de huso horario arrojaba un error cuando se proporcionaba la misma zona horaria al método.

<!-- ACP2E-1294 -->

* El panel de Adobe Commerce ahora muestra las estadísticas de pedidos correctas en la primera carga. Anteriormente, el panel mostraba información de pedidos incorrecta, pero mostraba la información correcta una vez actualizado el periodo de tiempo.

<!-- ACP2E-1762 -->

* Los usuarios administradores ahora se redirigen según lo esperado a la página de pedidos después de seleccionar una vista de tienda durante la creación de nuevos pedidos desde el Administrador.

<!-- ACP2E-1418 -->

* El `GET V1/orders/<OrderID>` punto final ahora devuelve información sobre los productos configurables y simples en el pedido, independientemente del estado de stock de los productos simples. Los usuarios administradores pueden realizar pedidos ahora solo si los artículos (productos) seleccionados están en stock o se pueden vender. Anteriormente, esta API solo devolvía información sobre los productos que estaban en stock.

<!-- AC-7901 -->

* La nota de crédito ya no Página se bloquea cuando gratuito envío está habilitado cuando el precio de envío incluye impuestos y los cálculos de impuestos se aplican después de los descuentos. Anteriormente, Adobe Systems Commerce lanzaba una `Division by zero` excepción. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* El uso del `rest/V1/orders/{id}/comments` extremo para entrada un comentario sobre un pedido sin proporcionar el estado del pedido ya no afecta a la visualización del pedido. Anteriormente, el estado del pedido se registraba como NULO en las `sales_order` tablas and `sales_order_grid` y ni la Página Mis pedidos ni la cuadrícula de pedidos de Administrador mostraban el pedido. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* Las facturas, los envíos y las notas de crédito ahora se pueden mover correctamente desde el archivo junto con sus pedidos asociados cuando los ID que incluyen difieren de los ID de pedidos. Anteriormente, si un pedido se movía al archivo y luego se restauraba, faltaban registros de facturas, envíos y notas de crédito en ese pedido si los números de identificación no coincidían. [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- AC-8777 -->

* Ahora, las imágenes mantienen la relación de aspecto correcta cuando se cambia el tamaño en Page Builder. [GitHub-37493](https://github.com/magento/magento2/issues/37493)

<!-- AC-10919 -->

* Page Builder ahora muestra mensajes de error según sea necesario cuando intenta cargar una imagen mayor que el tamaño de archivo máximo especificado. Anteriormente, Comercio mostraba un mensaje emergente de alerta para los archivos de imagen cargados que eran más pequeños que el máximo especificado.

<!-- ACP2E-1992 -->

* Los controles deslizantes de producto de CMS Página ahora incluyen los productos principales de cualquier producto secundario que se haya seleccionado para su inclusión en el regulador. Anteriormente, los productos principales estaban excluidos del regulador.

<!-- ACP2E-2115 -->

* Los contenido convertidos en HTML ahora se muestran en plantillas de correo electrónico como se espera cuando el `Magento_AsyncConfig` módulo está deshabilitado. Anteriormente, correo electrónico plantillas solo contenían HTML sin procesar.

<!-- AC-9128 -->

* El rendimiento de las operaciones de guardado Page Builder en la explorador de Cromo ha mejorado.

<!-- ACP2E-1954 -->

* Ahora puede utilizar la opción Page Builder en la > de > **[!UICONTROL Content]** **[!UICONTROL Pages]** de administración para insertar texto copiado en todos los estilos mediante el `text` elemento. Anteriormente, Page Builder solo mostraba texto sin formato y no guardaba estilos.

<!-- ACP2E-1646 -->

* Los errores CORS ya no aparecen durante la edición del contenido del producto con Page Builder cuando el usuario administrador tiene una ACL específica. El administrador usuario ahora puede guardar el producto. Anteriormente, Page Builder no guardaba el producto y el proceso de guardado se bloqueaba.

<!-- ACP2E-1852 -->

* Ahora se incluye información precisa sobre el tamaño de archivo en la previsualización de imágenes cargadas en Page Builder.

<!-- ACP2E-2016 -->

* Page Builder elementos Página ahora se representan a una velocidad aceptable en la explorador de Cromo (v112). Anteriormente, el guardado de contenido con Page Builder ejecutándose en la explorador de Cromo era lento y el Departamento de Comercio registraba este error en la consola explorador: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks`.

<!-- ACP2E-1654 -->

* Page Builder elemento de vídeo reproducción automática ahora funciona como se espera en los exploradores Safari móviles en iOS cuando el elemento está vinculado directamente a un archivo de vídeo remoto. Anteriormente, no se mostraba ninguna imagen previsualización.

<!-- ACP2E-1974 -->

* Page Builder ahora funciona como se espera en la explorador Cromo. Anteriormente, contenido cambios realizados en ese explorador no siempre se guardaban.

<!-- ACP2E-2086 -->

* Al cargar un producto de administración, la edición Página de un producto ya no genera un error de JavaScript intermitente `Uncaught TypeError` .

<!-- ACP2E-1886 -->

* Las imágenes que se han cargado mediante el editor de Page Builder ahora están etiquetadas como utilizadas en **[!UICONTROL Content]** > **[!UICONTROL Media Gallery]**. Anteriormente, estas imágenes estaban marcadas como **no utilizadas en ninguna parte** de la Galería multimedia.

<!-- ACP2E-1564 -->

* Al agregar un producto a una carro de compras desde el carrusel de Page Builder, ya no se duplica el cantidad de artículos de páginas con dos widgets diferentes que muestran los mismos productos.

<!-- ACP2E-1542 -->

* Page Builder ya no agrega el atributo HTML a las etiquetas `a` de `tabindex` hipervínculo cuando edita un hipervínculo y, a continuación, guarda un plantilla.

<!-- ACP2E-1444 -->

* El widget de productos y Page Builder previsualización ahora gestionan correctamente los caracteres especiales HTML. Anteriormente, el widget de producto no mostraba correctamente los SKU que contenían el `&` carácter.

<!-- ACP2E-1441 -->

* Page Builder contenido de elemento de texto ahora se actualiza como se esperaba al seleccionar y actualizar el bloque de contenido completo en modo previsualización.

<!-- ACP2E-1362 -->

* Copiar y pegar texto de un editor de texto de Page Builder a otro ahora funciona como se esperaba. Anteriormente, no se podía guardar el Página en el que intentaba pegar texto, y Adobe Systems Commerce mostraba este error de consola: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* `column-block` Page Builder tipo de contenido que se creaba en versiones anteriores de Page Builder ahora se muestra correctamente.

<!-- ACP2E-1234 -->

* Se ha mejorado el filtrado del producto metadatos descripción durante la creación del producto desde el administrador. Anteriormente, si los Page Builder estaban activados, la descripción del metadatos del producto se generaba en función de la máscara predeterminada` {{name}} {{description}}` . La máscara de meta descripción del producto predeterminada ahora se compone de `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* Agregar un bloque dinámico sin contenido ya no genera un error.

### Pago

<!-- ACP2E-2533 -->

* Commerce ahora gestiona correctamente los errores 502 de PayPal evitando la creación de pedidos cuando se produce este error. Anteriormente, los pedidos aún se creaban a pesar de un error 502 de PayPal, que posible cliente a inconsistencias entre los registros de comercio y los de PayPal.

<!-- AC-9142 -->

* PayPal transacciones de Cierre de compra exprés ahora incluyen SKU de producto secundario y títulos completos de los productos. Ahora, el `Magento/Paypal/Model/Cart.php` archivo recopila los SKU de productos secundarios con el título del producto principal para identificar el título del producto con el unidad de almacén secundario. [GitHub-36808](https://github.com/magento/magento2/issues/36808)

<!-- ACP2E-1964 -->

* La **[!UICONTROL Card Security Code Does Not Match]** configuración ahora se procesa como se espera durante el proceso de pago Payflow Pro. Anteriormente, este proceso de evaluación nunca se completaba, lo que bloqueaba el cierre de compra.

<!-- ACP2E-1215 -->

* La opción de método de pago de Vault ya no aparece en el flujo de trabajo de pago del administrador cuando el comprador no tiene un token de vault. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* Ahora **[!UICONTROL Venmo]** el botón se puede oculta cuando los botones PayPal están activados. Anteriormente, el **[!UICONTROL Venmo]** botón no se podía eliminar de las páginas de carro de compras, mini carro de compras, detalles de productos o cierre de compra.

<!-- BUNDLE-3313 -->

* Los compradores ahora pueden seleccionar un método de envío mientras aplican cupón código durante el proceso de pago. Anteriormente, bajo estas condiciones, Commerce arrojaba un error y asignaba el envío de tarifa plana al pedido.

<!-- BUNDLE-3310 -->

* Se han resuelto los problemas con el procesamiento del escaparate de los métodos de pago de crédito PayPal y PayPal.

<!-- BUNDLE-3273 -->

* Se han resuelto problemas con URL alternativas para pedidos pagados con pagos ideales cuando el pago local está habilitado.

<!-- BUNDLE-3253 -->

* Los compradores ya no pueden crear un pedido PayPal sin añadir un apellido.

#### Braintree

<!-- AC-2901 -->

* Braintree información de pago ahora se guarda por tienda, y los compradores ahora solo ven tarjeta información que se ha guardado en el tienda en el que están comprando. Anteriormente, los compradores podían ver la información de tarjeta almacenada de todas las tiendas durante el proceso de pago. [GitHub-34253](https://github.com/magento/magento2/issues/34253)

<!-- BUNDLE-3304 -->

* Los compradores ahora pueden pagar un pedido que se envía a varias direcciones utilizando un método de pago Braintree cuando la bóveda para pagos de tarjeta está desactivada. [GitHub-37615](https://github.com/magento/magento2/issues/37615)

<!-- BUNDLE-3244 -->

* Los pedidos parcialmente facturados ahora se capturan como se espera en la cuenta correcta en implementaciones donde los comerciantes tienen dos ID de cuenta comerciante diferentes para la misma moneda en su cuenta Braintree.

<!-- BUNDLE-3250 -->

* Adobe Systems Commerce ya no arroja un error al crear una segunda factura parcial para un pedido pagado por Braintree cuando está **[!UICONTROL Enable Vault for Card Payments]** habilitado. Anteriormente, cuando un comerciante intentaba crear una segunda factura, Adobe Systems de Comercio arrojaba este error: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

<!-- ACP2E-1229 -->

* La opción de método de pago Braintree Vault ya no se anula automáticamente en la flujo de trabajo de pago cuando un comprador actualiza su dirección facturación. Anteriormente, se anulaba la selección del método de pago cuando el comprador anulaba la selección del **[!UICONTROL My billing and shipping address are the same]** botón.

<!-- BUNDLE-3248 -->

* Se han resuelto problemas con el cierre de compra con PayPal a través de Braintree después de actualizar desde Adobe Systems Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Los números de teléfono ahora se representan según lo esperado con las direcciones en los campos de dirección de envío emergentes modales de Google Pay. Anteriormente, faltaban números de teléfono.

<!-- BUNDLE-3228 -->

* Los pedidos ahora se realizan correctamente con Braintree cuando la respuesta Braintree incluye un valor vacío para `threeDSecureInfo/eciFlag`. Anteriormente, se producía un error de PHP durante el cierre de compra cuando este valor estaba vacío.

<!-- BUNDLE-3243 -->

* Adobe Systems Commerce ya no arroja un error cuando un comprador aplica un cupón en el Página de revisión de pedidos al pagar con Google Pay desde el mini carro de compras. Anteriormente, los compradores eran redirigidos a un Página 404.

<!-- BUNDLE-3245 -->

* Los compradores ahora pueden completar el proceso de pago utilizando Braintree Payments and Adobe Systems Commerce 2.4.6 con ReCAPTCHA v2 o v3 invisible. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Los compradores ya no pueden hacer clic en la **[!UICONTROL PayPal]** botón para comprar un producto configurable sin seleccionar primero las opciones requeridas. Anteriormente, los compradores podían hacer clic en el **[!UICONTROL PayPal]** botón y posteriormente se les redirigía de nuevo al página de producto con un error:

<!-- BUNDLE-3148 -->

* Ahora, la **[!UICONTROL PayPal]** botón se muestra según lo previsto en las páginas carro de compras y mini carro de compras. Anteriormente, este botón no se mostraba en el Página de carro de compras y se duplicaba en el Página de mini carro de compras.

### Rendimiento

<!-- AC-9753 -->

* Si se hace clic varias veces en el **** menú desplegable de acción masiva del > **Pedidos** Página ventas ya no se generan varias solicitudes de POST.  [GitHub-37997](https://github.com/magento/magento2/issues/37997)

<!-- AC-10944 -->

* Solo `200` las respuestas o `404` se almacenan en caché cuando un comprador navega a un Página que activa un redirección 301, a menos que el encabezado Cache-Control del Página contenga `private `. Anteriormente, se almacenaba en caché un estado HTTP 200 en `private` el encabezado Cache-Control y un estado HTTP 301 a menos que estuviera contenido `private` en su encabezado Cache-Control. [GitHub-36492](https://github.com/magento/magento2/issues/36492)

<!-- AC-9302 -->

* Se ha eliminado lo no utilizado `Magento\Catalog\Controller\Adminhtml\Product\Initialization\Helper` de `Magento\Catalog\Model\ProductRepository`. Anteriormente, `ProductRepository` se ha cargado este ayudante, que es un `Adminhtml` controlador. [GitHub-37864](https://github.com/magento/magento2/issues/37864)

<!-- AC-9127 -->

* Se ha mejorado el rendimiento de Página velocidad de carga cuando se agregan muchas opciones a los productos agrupados. [GitHub-29409](https://github.com/magento/magento2/issues/29409)

<!-- ACP2E-2069 -->

* Se ha optimizado el proceso de asignación de productos a categorías desde la ficha **[!UICONTROL Products in Category]**. Los botones **[!UICONTROL Assign]** y **[!UICONTROL Remove]** de la ficha **[!UICONTROL Add Product by SKU]** ahora están deshabilitados hasta que los productos se carguen completamente en la cuadrícula. Anteriormente, los usuarios administradores no podían agregar productos por SKU en catálogos que contenían millones de productos registrados.

<!-- ACP2E-2098 -->

* Se ha mejorado el rendimiento de la mutación `addProductToCart` al ejecutar con muchos atributos de producto personalizados. Anteriormente, cuando esta mutación se ejecutaba con muchos atributos de producto ( aproximadamente 1000), Commerce intentaba cargar todos los atributos de producto.

<!-- ACP2E-1965 -->

* Se han resuelto los problemas de rendimiento al cargar atributos de producto utilizados por reglas del carro de compras. Ahora solo se cargan los atributos de producto para las reglas de carro de compras activas.

<!-- ACP2E-1864 -->

* El comando `bin/magento setup:perf:generate-fixtures setup/performance-toolkit/profiles/ee/small.xml` ahora se ejecuta correctamente cuando se ejecuta varias veces. Anteriormente, generaba este error cuando se ejecutaba más de una vez: `Coupon with the same code already exists`.

### Promoción

<!-- ACP2E-1290 -->

* Los efectos de la regla de precio **[!UICONTROL Fixed amount discount for whole cart]**, cuando se aplica con la regla **[!UICONTROL Apply to shipping amount]**, ahora se distribuyen proporcionalmente según lo esperado entre los productos y los importes de envío. Anteriormente, los cálculos de descuento eran incorrectos.

<!-- ACP2E-1300 -->

* La configuración **[!UICONTROL Discard Subsequent Rules]** ahora se aplica según lo esperado. Cuando esta configuración está habilitada, otras reglas con prioridad baja solo se pueden aplicar a un producto diferente. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### reCAPTCHA

<!-- ACP2E-2509 -->

* Invisible reCAPTCHA v3 ahora funciona como se espera para el cierre de compra Página **[!UICONTROL Sign in]** botón. Anteriormente, los compradores no podían inicio de sesión y Comercio arrojaba JavaScript errores.

<!-- ACP2E-1539 -->

* El reCAPTCHA de Google en el flujo de trabajo de pago ahora funciona como se espera para cheques, giros postales y métodos de pago personalizados.

<!-- ACP2E-1311 -->

* Adobe Systems formularios de comercio ya no se pueden enviar antes de que se cargue la casilla de verificación Google ReCAPTCHA.

<!-- ACP2E-1338 -->

* El widget reCAPTCHA ahora precede al botón **[!UICONTROL Place Order]** de la página de pago. Anteriormente, el widget se mostraba en la parte superior de la página.

### Informes

<!-- ACP2E-1541 -->

* El informe Pedidos (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) ahora incluye valores de pedidos correctos cuando los pedidos son generados por tiendas que usan monedas no predeterminadas. Anteriormente, este informe incluía valores incorrectos. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Se ha revisado para mayor claridad la información engañosa del formulario de informe de pedido de cliente.

<!-- ACP2E-1435 -->

* Los usuarios administradores ahora pueden búsqueda registros con correos electrónicos que contienen `+` (más) signos del Página de informes de carritos abandonados. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* Los nombres de las transacciones de GraphQL ahora se muestran correctamente después de que Nuevo Reliquia esté deshabilitada desde la Administración de comercio. [GitHub-36112](https://github.com/magento/magento2/issues/36112)

### Comentarios

<!-- ACP2E-1998 -->

* Los compradores ya no pueden enviar rápidamente duplicado reseñas de productos cuando Invisible reCAPTCHA v3 está habilitado.

### Recompensas

<!-- ACP2E-2099 -->

* Los correos electrónicos de caducidad de puntos de recompensa ya no se envían después de que hayan caducado los puntos. Las tareas cron `magento_reward_balance_warning_notification` y `magento_reward_expire_points` se han refactorizado para aumentar la flexibilidad y la capacidad de envío de correo electrónico. Anteriormente, los comerciantes no podían enviar muchos correos electrónicos generados por estas tareas cron en un corto período de tiempo. Esto podría haber causado retrasos en la entrega de notificaciones con distinción de tiempo.

<!-- ACP2E-2283 -->

* Los puntos de recompensa vencidos ahora se restan del saldo actual de puntos de recompensa del comprador, según lo esperado.

<!-- ACP2E-1473 -->

* La notificación por correo electrónico de actualización del balance de puntos de recompensa ahora tiene en cuenta el contexto actual de la tienda. Anteriormente, el correo electrónico de actualización del balance de puntos de recompensa utilizaba los ajustes de configuración de la tienda predeterminada.

<!-- ACP2E-1329 -->

* Los puntos de recompensa ahora se pueden reembolsar después de la creación de una nota de crédito. Anteriormente, los comerciantes no podían reembolsar puntos de recompensa después de crear una nota de crédito, y el estado del pedido se mantenía `Completed`, no `Closed`.

### RMA

<!-- ACP2E-2246 -->

* El solicitud REST `POST /V1/returns` crea ahora un RMA por producto. Anteriormente, este solicitud podía omitir validación y devolver varias RMA por producto.

<!-- ACP2E-2450 -->

* Los atributos RMA ahora se agregan automáticamente al formulario EAV predeterminado cuando el **[!UICONTROL Show on Storefront]** atributo RMA se establece en **no**. Anteriormente, la ventana emergente de detalles del elemento de RMA estaba en blanco cuando se creaba un atributo de devolución personalizado y el **[!UICONTROL Show on Storefront]** atributo RMA se establecía en **no**.

<!-- ACP2E-2211 -->

* El valor del atributo ahora coincide con el valor especificado en la configuración cuando la **[!UICONTROL Use Config]** casilla de verificación del Página de edición del **[!UICONTROL Enable RMA]** producto está activada.

<!-- ACP2E-1230 -->

* El **[!UICONTROL Enable RMA]** atributo en el nivel producto para particulares ahora respeta la configuración de tienda RMA. Anteriormente, esta opción estaba desactivada de forma predeterminada al agregar un producto, independientemente de cuáles fueran las opciones de configuración tienda.

### Buscar {#search-heading}

<!-- ACP2E-2272 -->

* Las sugerencias de búsqueda de autocompletado del frontend del búsqueda del encabezado ahora funcionan como se espera. Anteriormente, el completado automático no rellenaba este campo cuando esta función estaba habilitada. [GitHub-37557](https://github.com/magento/magento2/issues/37557)

<!-- ACP2E-2101 -->

* El rendimiento de las consultas realizadas desde la barra de búsqueda de administración se ha mejorado mediante la adición de un indizador. Anteriormente, cuanto más grande era la `search_query` tabla, más tardaba la consulta en completarse.

<!-- ACP2E-2279 -->

* La ordenación alfabética de productos por nombre ahora funciona correctamente para nombres que contienen caracteres Turco.

<!-- ACP2E-1854 -->

* Los **[!UICONTROL Use in Search Results Layered Navigation]** Propiedad de atributo de producto ahora solo se muestran cuando **[!UICONTROL Use in Search]** se establece en **[!UICONTROL Yes]**.

<!-- ACP2E-1870 -->

* Los filtros de SKU y precio de búsqueda avanzada ahora funcionan correctamente cuando se aplican juntos en una búsqueda avanzada. [GitHub-37581](https://github.com/magento/magento2/issues/37581)

<!-- ACP2E-1787 -->

* Ya no se realizan búsquedas de campos búsqueda vacíos. Esto reduce el tamaño de la `search_query` tabla. Anteriormente, las consultas incorrectas o las consultas en campos de búsqueda vacíos devolvían un conjunto de datos enorme, lo que aumentaba el tamaño de la `search_query` tabla y daba lugar a problemas con `/tmp`.

<!-- ACP2E-1916 -->

* Los filtros de tienda ahora funcionan según lo esperado al ordenar las entradas de catálogo con atributos personalizados desplegables.

<!-- ACP2E-1499 -->

* Los resultados de búsqueda ahora muestran los resultados relevantes en función de la ponderación de búsqueda de los atributos según lo esperado.

<!-- AC-7505 -->

* El texto informativo bajo el campo de entrada `Storefront Properties` del atributo `Search Weight` en Administración **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** ahora describe posibles valores. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Envío

<!-- ACP2E-2515 -->

* Las reglas de precios del carro de compras ahora funcionan como se espera cuando se agrega un producto agrupado al carro de compras cuando se desactivan los atributos de precios dinámicos. El envío gratuito y la tarifa de tabla correcta se aplican independientemente de si el atributo dinámico está habilitado o deshabilitado. Anteriormente, el envío gratuito no se aplicaba según lo esperado.

<!-- AC-9729 -->

* Commerce ahora cambia a una nueva página de envío como se espera después de crear un envío parcial para un pedido. Anteriormente, después de crear un envío parcial, Commerce no creaba una página de envío completa para los productos restantes del pedido. [GitHub-38063](https://github.com/magento/magento2/issues/38063)

<!-- AC-8795 -->

* La cantidad total para enviar un pedido a varias direcciones ahora se calcula correctamente. Anteriormente, cuando una oferta contenía más de una dirección de envío, el recolector total actualizaba el importe de envío de la dirección indicada en `$quote->getShippingAddress()` en lugar de pasarla en `$shippingAssignment` como se esperaba. [GitHub-37283](https://github.com/magento/magento2/issues/37283)

<!-- ACP2E-2459 -->

* El departamento de comercio ya no ofrece excepciones durante el cierre de compra con varias direcciones de envío cuando el administrador usuario ha utilizado la función inicio de sesión como cliente.

<!-- ACP2E-2258 -->

* Los productos ahora aparecen correctamente en la cuadrícula Paquetes Página Productos de Crear cuando agrega productos a un paquete después de que se haya creado la etiqueta de envío.

<!-- ACP2E-2044 -->

* El `cart` consulta ahora devuelve descuentos de envío discretos como descuentos de envío separados con etiquetas de descuento únicas. El nuevo `applied_to` Propiedad de descuento admite la diferenciación entre los descuentos aplicados a un carro de compras artículo. Anteriormente, todos los descuentos de envío se combinaban en un solo valor codificado **[!UICONTROL Shipping Discount]** .

<!-- ACP2E-1826 -->

* Cuando un administrador usuario crea un reorden, las direcciones facturación y de envío del pedido inicial rellenan automáticamente los campos relevantes cuando el administrador usuario hace clic en el **[!UICONTROL Reorder]** botón (Administrador **[!UICONTROL Sales]** > **[!UICONTROL Orders]** > **[!UICONTROL View]** ). Si se guardan las mismas direcciones en la libreta de direcciones del comprador, el reordenamiento siempre incorporará una versión actualizada de estas direcciones. Anteriormente, el campo de dirección de envío se rellenaba previamente con los datos actualizados, pero el campo de dirección de facturación no.

<!-- AC-7003 -->

* El **[!UICONTROL Shipping Policy]** cuadro de texto ahora está visible en la Ver de la tienda de administración ámbito cuando **[!UICONTROL Apply custom Shipping Policy]** está habilitado y hay disponible un directiva de envío personalizado. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* Ahora, la `cart` consulta devuelve un `selected_shipping_method` valor que coincide con uno de los `available_shipping_methods` códigos de operador y método. Anteriormente, cuando uno de los métodos de envío seleccionados contenía un guión bajo, estos códigos de transportista/método no coincidían. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* La mutación `setShippingAddressesOnCart` ya no genera un error cuando el segundo valor de la matriz de la calle es nulo. Anteriormente, se produjo esta excepción: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### Sitemap

<!-- AC-2465 -->

* El mapa del sitio XML ahora funciona como se espera en una implementación de varios pisos. Anteriormente, los mapas del sitio no contenían las páginas predeterminadas asignadas para cada tienda. [GitHub-35001](https://github.com/magento/magento2/issues/35001)

<!-- AC-2267 -->

* Los comerciantes ahora pueden crear y guardar un producto cuando el sitio web `id != 1` y el modo de tienda única están habilitados. Anteriormente, se produjo un error en la acción de guardar con este mensaje: `SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails`. [GitHub-35009](https://github.com/magento/magento2/issues/35009)

### Ensayo

<!-- ACP2E-2665 -->

* Las actualizaciones de ensayo para reglas de ventas ya no están duplicadas en el panel de ensayo.

<!-- ACP2E-2173 -->

* Los productos agrupados ahora se actualizan correctamente si un comprador los agrega al carro de compras cuando se está realizando una actualización de programación. Anteriormente, si se agregaba un producto agrupado con opciones al carro de compras cuando una tarea de programación estaba en proceso, Commerce arrojaba esta excepción: `Some of the products below do not have all the required options. Please select all required options`.

<!-- ACP2E-2252 -->

* Las actualizaciones programadas ahora mantienen los precios correctos para las opciones de paquete. Anteriormente, estos precios se cambiaban a cero para vistas específicas de sitios web o tiendas.

<!-- ACP2E-2150 -->

* Al actualizar una actualización programada ya no se elimina la versión anterior del elemento ensayado si no se especifica una fecha de finalización. Anteriormente, cuando se actualizaba un elemento almacenado en zona intermedia, la versión de rollback del elemento se eliminaba si no se especificaba una fecha de finalización. Commerce no produjo un error ni advirtió a los usuarios administradores antes de la eliminación.

<!-- ACP2E-1923 -->

* Los valores de etiquetas de vista de tienda ya no se borran después de una actualización programada de las reglas de precios del carro de compras. Anteriormente, estas etiquetas se borraban incluso si no se especificaban en la actualización.

<!-- ACP2E-1803 -->

* Las vistas previas de ensayo de contenido ahora funcionan correctamente para las páginas vinculadas. Anteriormente, no se podía navegar a páginas vinculadas en la vista previa de ensayo, sino que se le dirigía incorrectamente a páginas de tienda.

<!-- ACP2E-1876 -->

* СCambiar una actualización de ensayo ya no implica eliminar las actualizaciones programadas que tienen asignada una fecha posterior.

<!-- ACP2E-1501 -->

* Los errores de JavaScript ya no se producen cuando se añaden o editan actualizaciones programadas para categorías cuando Experimentos de contenido de Google Analytics está habilitado.

<!-- ACP2E-1344 -->

* Los comerciantes ahora pueden guardar correctamente una actualización de programación existente para una categoría después de verla o editarla. Anteriormente, Adobe Commerce arrojó un error en `system.log`.

<!-- ACP2E-1596 -->

* Los vínculos descargables ahora se conservan según lo esperado cuando se aplica una actualización programada mientras los productos añadidos anteriormente están en el carro de compras. Anteriormente, los vínculos descargables desaparecían de la página Mi cuenta (Mis productos descargables) del cliente y de la página de vista de pedidos del administrador.

<!-- ACP2E-1458 -->

* Los productos ahora están visibles en el escaparate como se esperaba después de aplicar una actualización de ensayo que habilita el producto. Anteriormente, el producto estaba habilitado en el administrador, pero no era visible en el escaparate categoría cuando el modo de indexador del inventario del catálogo se configuró en Actualización según lo programado. Un reindexado completo solucionó el problema.

<!-- ACP2E-1647 -->

* La `staging.synchronize_entity_period` cola de consumidor de la `magento_bulk` tabla ya no aumenta cuando no hay actualizaciones de ensayo que procesar. Anteriormente, cuando `cron` estaba configurado para ejecutarse cada minuto, se agregaba un nuevo registro relacionado con el `staging.synchronize_entity_period` consumidor a esta tabla cada minuto.

<!-- ACP2E-1415 -->

* Adobe Systems Commerce ya no muestra un error SQL cuando se crea un cambio de programación para un producto mientras se guarda otro. Anteriormente, Adobe Systems Commerce mostraba este error: `The product with the SKU "%1" couldn't be added to the current update`.

### Target reglas

<!-- ACP2E-1438 -->

* Las reglas de Target ahora funcionan correctamente con diferentes vistas de tienda. Anteriormente, los problemas con la caché de reglas de productos relacionados impedían la visualización de los productos recomendados en implementaciones de varias tiendas.

### Impuestos

<!-- ACP2E-2651 -->

* Ahora, las facturas muestran el subtotal correcto cuando se configuran los impuestos y se activa FPT.

<!-- ACP2E-2245 -->

* Commerce ahora muestra el valor correcto para el valor **[!UICONTROL Regular Price]** cuando se selecciona una opción personalizada para un producto que tiene un valor **[!UICONTROL Special Price]** cuando **[!UICONTROL Price Display Settings]** está establecido para incluir impuestos.

<!-- ACP2E-2303 -->

* Ahora, los impuestos se incluyen según lo esperado en el precio de envío del flujo de trabajo de cierre de compra, tal como especifican los ajustes de configuración.

<!-- AC-9758 -->

* El valor de respuesta `cart` consulta `applied_taxes` ahora incluye todas las reglas de impuestos individuales según lo esperado. Anteriormente, devolvía el valor fiscal total cuando se configuraban varias reglas fiscales.

<!-- ACP2E-2247 -->

* El icono de contraer o expandir de la sección durante la creación de la **[!UICONTROL Additional Settings]** regla de impuestos ahora funciona como se espera. Anteriormente, solo funcionaba el icono de expandir. [GitHub-37922](https://github.com/magento/magento2/issues/37922)

<!-- ACP2E-1527 -->

* Ahora puede editar el valor del tipo de impuesto País y Región desde la Página de edición de la regla de impuestos como se espera. Anteriormente, las ediciones realizadas a partir de ese Página no se guardaban.

<!-- ACP2E-1143 -->

* El importe del impuesto en el área de estimación de carro de compras ahora se actualiza según lo esperado cuando se actualiza el método de envío. Anteriormente, la tasa impositiva no se actualizaba después de que un comprador cambiara de país durante el proceso de pago.

<!-- AC-8227 -->

* El `tax class` valor de los productos simples recién creados ahora se establece en el valor del producto principal al crear nuevas variaciones de un producto configurable existente en Store Ver ámbito. Anteriormente, este valor se establecía en ninguno. Como resultado, no se agregó ningún impuesto a estos productos en el carro de compras, y a los clientes se les cobró un impuesto inferior. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Prueba

<!-- ACP2E-2501 -->

* Se mejoró el `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` prueba para eliminar los fallos causados por la finalización prematura del campo correo electrónico.

<!-- AC-10863 -->

* `StorefrontVerifyProductAfterPartialReindexOnSeveralWebsitesTest` se ha refactorizado para mejorar la fiabilidad. [GitHub-38359](https://github.com/magento/magento2/issues/38359)

<!-- ACP2E-2501 -->

* Se ha corregido la prueba `AdminSimpleProductwithTextandVisualSwatch` mediante la introducción de un paso adicional que establecía explícitamente los atributos que se usarían en la búsqueda.

<!-- AC-9194 -->

* Se corrigió el error tipográfico en la prueba unitaria de `SortbyTest`. [GitHub-37792](https://github.com/magento/magento2/issues/37792)

<!-- AC-9035 -->

* Se han eliminado las referencias a clases inexistentes en las pruebas unitarias. [GitHub-37636](https://github.com/magento/magento2/issues/37636)

<!-- ACP2E-2604 -->

* Se mejoró el `AdminCreateOrderWithVirtualProductFromDefaultSourceWithBackorders` prueba para eliminar los fallos causados por la finalización prematura del campo correo electrónico.

<!-- ACP2E-2202 -->

* Se refactorizó `Magento\GraphQl\Catalog\ProductSearchTest::testFilterProductsBySingleCategoryId` prueba para gestionar el orden de categoría aleatorio en `products` consulta respuestas.

<!-- AC-7098 -->

* Se han resuelto los problemas de rendimiento de las matrices `TableNameSniff` grandes.

<!-- ACP2E-1690 -->

* Las pruebas de integración para el registro de regalos de edición ya no funcionalidad depender de los ID de entidad existentes. Todos los datos requeridos ahora se obtienen a través de accesorios. Anteriormente, `\Magento\GiftRegistry\Controller\Index\EditPostTest` fallaba.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` ahora representa el horario de verano.

<!-- ACP2E-1824 -->

* Se ha corregido el aviso de obsolescencia para `StorefrontDeleteItemFromRequisitionListPrintView`.

### IU marco de trabajo

<!-- AC-9604 -->

* El cargador de imágenes ahora funciona como se espera en filas dinámicas. Ahora las imágenes se cargan correctamente cuando se envían como una matriz multinacional. [GitHub-37957](https://github.com/magento/magento2/issues/37957)

<!-- AC-10877 -->

* Archivo estilos cargar ya no se duplican en el tema Luma. [GitHub-32373](https://github.com/magento/magento2/issues/32373)

<!-- AC-9984 -->

* Los campos de calle en el formulario de edición de dirección de cuenta del cliente ahora se guardan correctamente. Ahora, estos campos se ordenan correctamente mediante las claves proporcionadas en el formulario. [GitHub-37973](https://github.com/magento/magento2/issues/37973)

<!-- AC-9107 -->

* Se ha corregido el comportamiento del cursor en el campo de texto registro **[!UICONTROL Message]** de regalos.

<!-- AC-3001 -->

* Los valores acumulativos de desplazamiento Diseño (CLS) han mejorado en las páginas de detalles del producto. (Esta Métrica cuantifica la estabilidad visual de Página diseños).[GitHub-35410](https://github.com/magento/magento2/issues/35410)

<!-- AC-10567 -->

* Se ha mejorado el mensajería de errores que se producen durante el procesamiento plantilla. El comercio muestra ahora un mensaje informativo. Anteriormente, Commerce mostraba fugas de HTML cuando se producía un error PHP.

<!-- ACP2E-2595 -->

* Los atributos personalizados del cliente (tipo `File attached`) ahora funcionan correctamente con las imágenes que se han eliminado y que se han cargado posteriormente. Anteriormente, los atributos personalizados cargados, eliminados y cargados de nuevo no se podían guardar desde el escaparate.

<!-- AC-9125 -->

* Se corrigió un error de sintaxis en el archivo de plantilla calendario. [GitHub-37725](https://github.com/magento/magento2/issues/37725)

<!-- AC-6445 -->

* Los usuarios administradores ahora pueden cambiar el logotipo del escaparate cuando el modo tienda único está habilitado. Anteriormente, Comercio mostraba el logotipo de reserva predeterminado. [GitHub-35952](https://github.com/magento/magento2/issues/35952)

<!-- ACP2E-2045 -->

* Los valores de configuración de Mixins ya no están vacíos y las mezclas de jQuery ahora funcionan independientemente de la posición de carga. Anteriormente, las mezclas de jQuery no se cargaban de forma consistente en todos los navegadores.

<!-- AC-8823 -->

* Las contraseñas ahora se muestran como se esperaba cuando la casilla de **[!UICONTROL Show Password]** verificación del Página inicio de sesión está activa.

<!-- ACP2E-2034 -->

* Adobe Systems Commerce ahora muestra precios correctos para productos de paquete fijo con precios especiales.

<!-- AC-8285 -->

* Se ha actualizado el vincular al Página de listado de problemas de GitHub en el archivo de plantilla de pie de página del escaparate. [GitHub-37214](https://github.com/magento/magento2/issues/37214)

<!-- AC-6282 -->

* El widget Vistos recientemente ahora muestra la cantidad correcta de impuestos en los precios de los productos agrupados. [GitHub-35881](https://github.com/magento/magento2/issues/35881)

<!-- AC-6636 -->

* Los usuarios administradores ahora pueden arrastrar y soltar las opciones personalizables creadas para el producto simple como se esperaba. [GitHub-36051](https://github.com/magento/magento2/issues/36051)

<!-- AC-8345 -->

* El orden de los tipos de atributo desplegable de productos ahora coincide con el orden de las imágenes en el página de producto configurable. [GitHub-37285](https://github.com/magento/magento2/issues/37285)

<!-- ACP2E-1969 -->

* Los mensajes del sistema ahora se cargan más rápidamente. Solo se cargan los mensajes que se muestran. Anteriormente, todos los mensajes se cargaban desde la base de datos, lo que consumía mucho tiempo.

<!-- ACP2E-1804 -->

* La eliminación de la ruta de exploración nodo mediante el establecimiento `remove=true` de XML de diseño ya no da como resultado la eliminación del título del Página en el Página categoría. Anteriormente, al eliminar las rutas de exploración de esta forma, se eliminaba el título del Página del Página categoría.

<!-- ACP2E-1717 -->

* El formulario registro cliente ahora se carga según lo esperado cuando incluye atributos de cliente de selección múltiple. Anteriormente, Adobe Systems de Comercio lanzaba esta excepción: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* Bienvenido mensajes que contienen comillas simples ahora se representan correctamente en el escaparate sin errores de consola. Anteriormente, si un mensaje de bienvenida contenía una sola comilla, el mensaje de bienvenida no se cargaba durante la representación del escaparate. Adobe Systems Commerce también mostraba errores de consola.

<!-- ACP2E-1369 -->

* Adobe Systems Commerce ya no arroja un error cuando intenta cambiar rápidamente la vista entre el historial de comentarios y las devoluciones en el Página de pedidos de administración. Anteriormente, Adobe Systems de Comercio mostraba este error genérico: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Los usuarios administradores con privilegios restringidos a un sitio web ahora pueden actualizar los atributos de producto específicos del sitio web definidos en un `all stores view` ámbito.

<!-- ACP2E-1648 -->

* El widget de la lupa ahora se carga como se esperaba en el página de producto.

<!-- ACP2E-1216 -->

* Las opciones personalizables multilínea ahora se representan correctamente en los documentos PDF de facturas, envíos y notas de crédito. Anteriormente, el texto de varias líneas estaba precedido por un salto de Página inesperado y, si el texto excedía el Página, el texto se truncaba.

<!-- AC-7402 -->

* Los usuarios administradores ahora pueden agregar una nueva dirección de cliente desde la administración cuando ese cliente se ha creado para otro sitio web cuyo ID de tienda no coincide con el ID del sitio web. Anteriormente, Adobe Systems de Comercio mostraba este mensaje elemento emergente: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* Los detalles del administrador de la empresa ahora se guardan según lo esperado y los administradores se redirigen correctamente cuando los correos electrónicos de Asignar administrador de la empresa contienen un `CMS Block URL` variable.

<!-- ACP2E-1775 -->

* Error mensajes asociados con el envío de comentarios en el Página de detalles del pedido ahora son más informativos. Anteriormente, cuando se hacía clic **[!UICONTROL Submit comment]** en un comprador sin cambiar el estado del pedido ni introducir texto en el área de comentarios, Adobe Systems Commerce mostraba este mensaje: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* El icono de calendario ahora se muestra como se espera en los campos intervalo de fecha de la > **[!UICONTROL Cart Price Rules]** de administración **[!UICONTROL Marketing]** después de seleccionar una fecha para un campo. Anteriormente, después de seleccionar una fecha para un campo, el icono de calendario ya no se mostraba en otros campos y Adobe Systems de Comercio mostraba texto de marcador de posición. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* Los formularios registro cliente que incluyen campos de selección múltiple ahora se cargan correctamente. Anteriormente, este formulario no se cargaba cuando contenía campos de selección múltiple y se activaba el siguiente error: `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Al hacer clic en una miniatura de vídeo en el modo pantalla completa de la galería de productos, el vídeo se muestra como se esperaba. Anteriormente, el vídeo no se mostraba y la consola explorador mostraba un error JavaScript. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* Se ha añadido un variable a la línea de copyright que se actualiza automáticamente cada año. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* La regulador de imagen del página de producto ahora funciona como se espera en los vista móviles. Anteriormente, solo se mostraba correctamente la primera imagen. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### URL reescrituras

<!-- AC-8039 -->

* El `crossorigin` atributo se ha agregado a `linkTypes` for `HEAD` elements.[GitHub-32509](https://github.com/magento/magento2/issues/32509)

<!-- ACP2E-2549 -->

* URL reescrituras ahora se generan en función de la configuración de visibilidad de tienda nivel en implementaciones de varias tienda. Anteriormente, no se generaban reescrituras de URL para tiendas no predeterminadas cuando la visibilidad del producto se establecía en **no visible** en la ámbito de tienda predeterminada.

<!-- AC-10464 -->

* `Category::getUrl()` ya no obtiene un redirección 301. [GitHub-38152](https://github.com/magento/magento2/issues/38152)

<!-- ACP2E-2629 -->

* Commerce ya no genera reescrituras de URL de productos para las categorías raíz y para los productos que se establecen **[!UICONTROL Not Visible Individually]** en configuraciones de varias tienda al generar reescrituras de URL que faltan para tiendas personalizadas.

<!-- ACP2E-2481 -->

* Las etiquetas URL canónicas ahora reflejan los cambios según lo esperado después de que se haya actualizado la Propiedad clave de URL categoría. Anteriormente, se utilizaba el URL de categoría obsoleto, que inmediatamente desencadenaba la redirección al nuevo URL.

<!-- AC-6728 -->

* Categoría reescrituras de URL de producto ahora se generan como se espera para todas las vistas de tienda cuando se agrega un producto a un categoría. [GitHub-32910](https://github.com/magento/magento2/issues/32910)

<!-- ACP2E-1783 -->

* Commerce ya no muestra un error cuando intenta crear un redirección 301/302 para un URL de producto cuando **está activada la opción Generar categoría/producto URL reescrituras** . Cuando se crea un producto y se asigna a un categoría, se crean reescrituras de URL automatizadas: una para el URL directo y otra para el producto a través de la ruta de categoría. Cuando se crea un nuevo producto URL reescritura, se comprueban las correlaciones entre producto, categoría y tienda. Esta comprobación ahora se basa en propiedades de entidad correlacionadas (categoría y producto). Anteriormente, esta comprobación se realizaba en reescrituras de URL preexistentes.

<!-- ACP2E-1737 -->

* Categoría reescrituras URL ahora se generan para todas las vistas tienda cuando se importa una nueva categoría desde un archivo CSV.

<!-- ACP2E-1700 -->

* Las configuraciones de sufijo URL producto y sufijo URL Categoría ahora coinciden con los sufijos de la `url_rewrite` tabla. Anteriormente, se producían las condiciones de carrera al actualizar URL configuraciones de sufijos y los sufijos de URL configurados y la `url_rewrite` tabla no coincidían.

<!-- ACP2E-1703 -->

* Adobe Systems Commerce ahora procesa el árbol de categoría en todos los niveles al crear categoría URL reescritura. Anteriormente, solo se mostraban los tres primeros niveles de categorías. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* Las páginas CMS recién creadas con una nodo secundaria ahora se incluyen en la cuadrícula de filtro de marketing (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**). Anteriormente, no se creaban URL reescrituras para esas páginas CMS.

<!-- ACP2E-1737 -->

* Categoría reescrituras URL ahora están presentes en el archivo CSV durante la importación de un nuevo categoría.

<!-- ACP2E-1668 -->

* Las páginas CMS multi tienda sin reescrituras URL ahora se reenvían como se esperaba. Anteriormente, las páginas CMS multi tienda solicitadas sin reescrituras URL se redirigían al página de inicio tienda, pero las páginas CMS originales no se dirigían.

### Visual Merchandiser

<!-- ACP2E-1363 -->

* Ahora puede usar el atributo `Categories` para las reglas de Visual Merchandiser. Anteriormente, Adobe Commerce arrojaba esta excepción: `Something went wrong while saving the category`.

### Marco de API web

<!-- AC-6980 -->

* Commerce ya no muestra una advertencia `Integration not secure` en Administración **[!UICONTROL System]** > **[!UICONTROL Extensions]** > **[!UICONTROL Integrations]** cuando los campos **[!UICONTROL Callback URL]** y **[!UICONTROL Identity link URL]** están vacíos. [GitHub-36407](https://github.com/magento/magento2/issues/36407)

<!-- ACP2E-2483 -->

* Se agregaron los atributos de extensión `taxes`, `itemized_taxes` y `additional_itemized_taxes` a  `Magento\Sales\Api\Data\OrderInterface`. Estos atributos le permiten guardar los impuestos aplicados con llamadas REST de pedidos.

<!-- ACP2E-2610 -->

* La API de REST de precios de nivel ahora admite cantidades decimales. Anteriormente, esta API no permitía cantidades decimales aunque la configuración **[!UICONTROL Use Decimal Quantity]** estuviera habilitada.

<!-- AC-8998 -->

* El extremo REST `V1/orders/{id}/comments` ya no cambia el estado de un pedido al intentar agregar un comentario al estado de un pedido pendiente. Ahora se muestra un error informativo. Anteriormente, este punto final cambiaba el estado del pedido al agregar un comentario.

<!-- ACP2E-2275 -->

* El extremo de la API de REST `GET` y `POST V1/products/attributes` ya no devuelve el mismo valor para el atributo `is_filterable` para las opciones `Filterable(with results)` y `Filterable(no results)` de la opción **[!UICONTROL Use in Layered Navigation]**. Anteriormente, este extremo devolvía el mismo valor porque la propiedad del atributo `is_filterable` era del tipo `Boolean`, que no permitía establecer esta propiedad en `Filterable(no results)`. [GitHub-37979](https://github.com/magento/magento2/issues/37979)

<!-- AC-9117 -->

* El campo `media_gallery_entries` que falta se ha agregado al extremo REST `V1/configurable-products/sku/children`. Anteriormente, a esta función le faltaba el código necesario para almacenar y mostrar `media_gallery_entries`. [GitHub-37607](https://github.com/magento/magento2/issues/37607)

<!-- ACP2E-1986 -->

* El método REST `V1/carts/mine/estimate-shipping-methods` ahora valida todos los niveles de datos de campo de carga útil y devuelve un código HTTP 400 para datos no válidos. Anteriormente, solo se validaba el primer nivel de carga útil de API y, si se devolvían datos no válidos en niveles no validados de la carga útil, Commerce devolvía un código de estado 500.

<!-- ACP2E-2053 -->

* Las operaciones asíncronas masivas de la API de REST para actualizar productos con precios de nivel y diferentes conjuntos de atributos ahora se completan correctamente. Anteriormente, los productos con diferentes conjuntos de atributos no se podían actualizar de esta manera y Commerce mostraba este error: `The product was unable to be saved. Please try again`.

<!-- AC-7002 -->

* El extremo `POST /V1/products/tier-prices` devuelve ahora un mensaje de error más informativo cuando se utiliza un nombre de grupo de clientes no válido durante la creación del precio de nivel. Anteriormente, Adobe Commerce devolvía un error como este: `Notice: Undefined index: XXXXX in ~/public_html/vendor/magento/module-catalog/Model/Product/Price/Validation/TierPriceValidator.php on line 474"`. [GitHub-36431](https://github.com/magento/magento2/issues/36431)

<!-- ACP2E-1776 -->

* Ahora puede ejecutar una solicitud de API asíncrona masiva autorizada para crear clientes con un ID de grupo no predeterminado. Anteriormente, estas solicitudes restablecían el ID de grupo al valor predeterminado.

<!-- ACP2E-1543 -->

* Los clientes creados con la API masiva ahora reciben correos electrónicos de registro del cliente en el idioma configurado en su sitio web asignado. Anteriormente, todos los correos electrónicos se enviaban a la configuración regional predeterminada, no a la configuración regional del sitio web al que está asignado el cliente.

<!-- ACP2E-1339 AC-7577-->

* La `POST V1/guest-carts` llamada ya no envía pedidos de invitados cuando **[!UICONTROL Allow Guest Checkout]** está desactivado.

<!-- ACP2E-1336 -->

* Ahora puede abrir un pedido del administrador con el estado `Received` cuando `AsyncOrder` no está habilitado. Anteriormente, no se podía abrir el Página de detalles del pedido desde el Administrador cuando el estado del pedido se cambiaba mediante `POST V1/orders`.

<!-- ACP2E-1526 -->

* Adobe Systems Departamento de Comercio ahora devuelve correctamente el atributo (código de imagen base64) en `GET V1/products/sku/media` las respuestas de `content` API de medios de productos. El `content` atributo no aparecía anteriormente en la respuesta.

### Deseo lista

<!-- ACP2E-1784 -->

* El comercio ahora muestra un mensaje que indica que un artículo ya se ha agregado a una lista de deseos cuando un comprador intenta agregar el mismo artículo a una lista de deseos varias veces. Anteriormente, bajo estas condiciones, Comercio aumentó el cantidad de productos en la lista de deseos.

<!-- AC-8610 -->

* Adobe Systems Commerce ahora agrega con éxito productos con archivos de opciones personalizables cargados requeridos a la lista de deseos. Anteriormente, Comercio agregaba dos productos a la lista de deseos, no uno. [GitHub-37437](https://github.com/magento/magento2/issues/37437)


## requisitos del sistema

Nuestra pila de tecnología se basa en PHP y MySQL. Para obtener más información, consulte [requisitos del sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Instrucciones de instalación y actualización

Puede instalar Adobe Systems Commerce 2.4.7 usando [Composer](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
