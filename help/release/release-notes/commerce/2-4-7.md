---
title: Notas de la versión de Adobe Commerce 2.4.7-beta1
description: Obtenga información acerca de las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.7-beta1 de Adobe Commerce.
badgeCoreBeta: label="2.4.7-beta1" type="informative"
source-git-commit: 6540f70bcc16b08387b434ce17578b9f0c1cf7c3
workflow-type: tm+mt
source-wordcount: '8212'
ht-degree: 0%

---

# Notas de la versión de Adobe Commerce 2.4.7-beta1


>[!IMPORTANT]
>
>Las versiones beta pueden contener defectos y se proporcionan &quot;TAL CUAL&quot; sin garantía de ningún tipo. Adobe no tiene obligación de mantener, corregir, actualizar, cambiar, modificar o admitir de otro modo (a través de los Servicios de soporte de Adobe o de otro modo) las versiones beta. Se recomienda a los clientes que tengan cuidado y no dependan en modo alguno del correcto funcionamiento o rendimiento de las versiones beta y/o de la documentación o los materiales adjuntos. Por lo tanto, cualquier uso de las versiones beta es totalmente bajo el propio riesgo del cliente.


Adobe Commerce 2.4.7-beta1 incluye más de 200 correcciones y mejoras de calidad. Las dependencias del Compositor principal y las bibliotecas de terceros se han actualizado a las versiones más recientes disponibles. Se ha añadido compatibilidad con Composer 2.5, mientras que Composer 2.2.x sigue siendo compatible.

Esta versión aumenta la cobertura de GraphQL para atributos personalizados y capacidades mejoradas de almacenamiento en caché de GraphQL.

{{bics}}

## Otra información de la versión

Aunque el código de estas funciones está empaquetado con versiones del código principal de Adobe Commerce, varios de estos proyectos (por ejemplo, B2B, Page Builder y Progressive Web Application (PWA) Studio) también se publican de forma independiente. Las correcciones de errores para estos proyectos se documentan en la información de versión independiente y específica del proyecto que está disponible en la documentación de cada proyecto.

## Adobe Commerce 2.4.7-beta1

Adobe Commerce 2.4.7-beta1 se ha probado con las siguientes versiones de componentes:

* Composer 2.5
* Elasticsearch 8.5
* MariaDB 10.6
* MySQL 8.0
* OpenSearch 2.5
* PHP 8.2 y 8.1
* RabbitMQ 3.11
* Redis 7.0
* Barniz 7,3

Nuestra pila de tecnología está construida sobre PHP y MySQL. Consulte [Requisitos del sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Puntos destacados de Adobe Commerce 2.4.7

Busque los siguientes aspectos destacados en esta versión.

### Mejoras de seguridad

Esta versión incluye 13 correcciones de seguridad y mejoras de seguridad de la plataforma.

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, es posible que se aprovechen ciertas vulnerabilidades para acceder a la información de los clientes o hacerse cargo de las sesiones de administrador. La mayoría de estos problemas requieren que un atacante obtenga acceso primero al administrador. Como resultado, le recordamos que tome todas las medidas necesarias para proteger a su administrador, incluidas, entre otras, las siguientes:

* INCLUSIÓN EN LA LISTA DE PERMITIDOS IP
* [Autenticación de doble factor](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Uso de una VPN
* Uso de una ubicación única en lugar de `/admin`
* Buena higiene de las contraseñas

Consulte [Boletín de seguridad del Adobe](https://helpx.adobe.com/security/products/magento/apsb23-35.html) para conocer la última discusión de estos problemas corregidos.

#### Mejoras de seguridad adicionales

Las mejoras de seguridad para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes, incluido este cambio, que introduce un cambio en el comportamiento predeterminado de un extremo REST existente:

El comportamiento predeterminado del [`isEmailAvailable`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/is-email-available/) GraphQL query y ([`V1/customers/isEmailAvailable`](https://adobe-commerce.redoc.ly/2.4.6-admin/tag/customersisEmailAvailable/#operation/PostV1CustomersIsEmailAvailable)) El extremo REST ha cambiado. De forma predeterminada, la API ahora siempre devuelve `false`. Los comerciantes pueden activar el comportamiento original, que es devolver `true` si el correo electrónico no existe en la base de datos y `false` si existe. <!-- AC-6695 -->

### Mejoras de Platform

Las actualizaciones de plataforma para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes. Adobe Commerce 2.4.7-beta1 presenta:

* Composer 2.5.x. La compatibilidad con Composer 2.2.x se mantiene.  <!-- AC-8129 -->

* **Compatibilidad con caché de barniz 7.3**. Esta versión es compatible con la última versión de Varnish Cache 7.3. La compatibilidad se mantiene con las versiones 6.0.x y 7.2.x, pero recomendamos usar Adobe Commerce 2.4.7-beta1 solo con Varnish Cache versión 7.3 o versión 6.0 LTS.

* **Compatibilidad con RabbitMQ 3.11**. Esta versión es compatible con la última versión de RabbitMQ 3.11. La compatibilidad sigue siendo con RabbitMQ 3.9, compatible hasta agosto de 2023, pero recomendamos utilizar Adobe Commerce 2.4.7-beta1 solo con RabbitMQ 3.11.

#### Otras actualizaciones y reemplazos

Las bibliotecas de JavaScript obsoletas se han actualizado a sus versiones más recientes, incluidas las siguientes:

* `moment.js` biblioteca (v2.29.4) <!-- AC-7389 -->
* `jQuery UI` biblioteca (v1.13.2)  <!-- AC-7775 -->
* `jQuery` biblioteca de complementos de validación (v1.19.5) <!-- AC-8077 -->

### Mejoras de rendimiento y escalabilidad

Esta versión introduce mejoras significativas en la velocidad de procesamiento de las operaciones de guardado para configuraciones de implementación grandes.

* **Operaciones de guardado más rápidas de las configuraciones en el nivel de tienda para implementaciones con muchas tiendas**. Guardar las opciones de configuración en implementaciones con más de 500 tiendas puede llevar mucho tiempo. El nuevo [`Async Config`](../../../performance/configuration.md#asynchronous-configuration-save-badge-247-beta1typeinformative-urlhelpreleaserelease-notescommerce2-4-7md-tooltipavailable-in-247-beta1-only) : este módulo habilita las operaciones de guardado de configuración asincrónica ejecutando una `cron` trabajo que utiliza un consumidor para procesar la operación de guardado en una cola de mensajes. `AsyncConfig` es **inhabilitado** de forma predeterminada.  <!-- ACPT-831 -->

* **Generación más rápida de la caché de configuración para configuraciones grandes**. El `bin/magento cache:clean config` El comando ahora precalienta la caché de configuración cuando esta está habilitada. Esto reduce el tiempo de inactividad necesario para generar la caché de configuración para configuraciones grandes. Las operaciones de guardado de configuración ya no limpian el `config_scopes` antes de escribir datos en la caché, lo que también reduce el tiempo que otras solicitudes están bloqueadas mientras se escriben los datos de configuración.
<!-- ACPT-992 -->

### Servidor de aplicaciones para API de GraphQL

Esta versión presenta un nuevo servidor de aplicaciones PHP que se implementa en una extensión Swoole PHP. Este servidor de aplicaciones permite a Adobe Commerce mantener el estado entre las solicitudes de la API de Commerce GraphQL y elimina la necesidad del arranque. Al compartir el estado de la aplicación entre los procesos, las solicitudes de API se vuelven significativamente más eficientes y los tiempos de respuesta de la API pueden disminuir de 50 a 60 milisegundos.

El `ApplicationServer` : Este módulo implementa el servidor de aplicaciones PHP, que solo está disponible para implementaciones locales. Los desarrolladores que deseen implementar este servidor también deben instalar y configurar Swoole y Nginx.

Esta versión beta de este servidor de aplicaciones solo está disponible para implementaciones locales; no admite implementaciones basadas en la nube. Todavía no admite la funcionalidad de GraphQL B2B. Es posible que las solicitudes de GraphQL no funcionen según lo esperado en implementaciones locales cuando se configura esta versión del servidor de aplicaciones PHP. Consulte [Servidor de aplicaciones para API de GraphQL](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/performance-best-practices/application-server.html). <!-- ACPT-27 -->

### Metpaquete de extensión de Adobe Commerce

Esta versión presenta la extensión de Adobe Commerce metapackage v2.0.0-beta1, que agrupa automáticamente las extensiones de Adobe Commerce seleccionadas con esta versión principal. Las versiones de estas extensiones que se incluyen en este metapaquete se instalan cuando `composer update` se ejecuta, lo que simplifica el proceso de actualización de estas extensiones al actualizar a la última versión principal. Estas extensiones mantienen programaciones de versiones independientes.

El metapaquete de extensión de Adobe Commerce para Adobe Commerce 2.4.7-beta1 incluye tres extensiones:

* [Cierre rápido de pernos](https://experienceleague.adobe.com/docs/commerce-merchant-services/quick-checkout/overview.html)
* [Eventos de Adobe I/O para Adobe Commerce](https://developer.adobe.com/commerce/events/get-started/)
* [Servicios de pago](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)

Las versiones futuras de este metapaquete de extensión contendrán extensiones adicionales.

### B2B

Esta versión incluye nuevas funciones y mejoras para presupuestos negociables B2B, actualizaciones de la API de REST, así como varias correcciones de errores.

* **Presupuesto iniciado por el vendedor**. Los representantes de ventas de B2B ahora pueden iniciar una cotización directamente desde las cuadrículas de Oferta y Cliente en el Administrador. Consulte [Crear presupuesto](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-request.html)

* **Descuentos de artículo de línea**. Los descuentos ahora se pueden aplicar como porcentaje de descuento, un valor fijo o como precio ampliado para artículos de línea específicos dentro de una oferta.

* **Intercambio de notas en cotización**. Durante el proceso de negociación, los compradores y vendedores B2B ahora pueden añadir notas directamente a una oferta. La creación de notas y las actualizaciones se incluyen en el historial de artículos de línea y presupuestos para una mayor transparencia. Consulte [Negociar una oferta](https://experienceleague.adobe.com/docs/commerce-admin/b2b/quotes/quote-price-negotiation.html)

* **Vista de detalles de presupuesto mejorada**. Mientras ve la página de detalles de la oferta, los vendedores y compradores ahora pueden añadir artículos por SKU o desde el catálogo de productos, añadir o editar notas, aplicar descuentos de artículos de línea y acceder a la configuración del producto directamente desde la página de detalles de la oferta.

* Actualizaciones de la API de REST

   * Se ha añadido un punto final para proporcionar cobertura de API web para la capacidad de oferta iniciada por el vendedor introducida en esta versión. Consulte [Administrar presupuestos negociables](https://developer.adobe.com/commerce/webapi/rest/b2b/negotiable-manage/).

     `POST /V1/negotiableQuote/draft`

   * La cobertura mejorada de la API web de las funciones de la tienda para el catálogo compartido incluye nuevos extremos para asignar y restablecer acciones de precios personalizadas:

     `POST /V1/sharedCatalog/:sharedCatalogId/assignCustomPrices`
     `POST /V1/sharedCatalog/:sharedCatalogId/resetCustomPrices`

  Un nuevo `quickorder_active` para el `storeConfig` y `availableStores` consultas. Este campo indica si la función de orden rápido está activada.

Para obtener más información sobre REST y la cobertura de la API de GraphQL para Commerce B2B, consulte la [API web de Commerce](https://developer.adobe.com/commerce/webapi/) documentación para desarrolladores. Consulte [Notas de la versión B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html) para obtener descripciones de corrección de errores.

### GraphQL

Esta versión agrega capacidades mejoradas de almacenamiento en caché de GraphQL y compatibilidad con el esquema de GraphQL para atributos personalizados, como:

* **Compatibilidad mejorada con atributos personalizados**. La compatibilidad con atributos personalizados de GraphQL se ha mejorado mediante el enriquecimiento de datos de API, por lo que ahora admite todos los tipos de atributos. El esquema de atributos EAV de GraphQL ahora admite la ampliación de atributos del cliente y objetos de dirección del cliente en el administrador y su recuperación mediante GraphQL. Las áreas específicas de mejora incluyen: <!-- LYNX-61 110-->

   * compatibilidad con atributos personalizados ampliados/añadidos en áreas específicas como cliente y dirección del cliente
   * se ha agregado almacenamiento en caché para atributos personalizados
   * se ha mejorado la compatibilidad de atributos personalizados existentes con productos

* **Las funciones mejoradas de almacenamiento en caché de GraphQL mejoran la velocidad de carga de la página**. Se ha añadido la capacidad de almacenamiento en caché a estas consultas, lo que mejora la velocidad del tiempo de carga de la página para la mayoría de las páginas de PWA:

   * [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) <!-- B2B-2487 2258 -->
   * [`currency`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/currency/) <!-- B2B-2255 -->
   * [`countries`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/countries/) y [`country`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/country/) <!-- B2B-2256 -->
   * [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) <!-- B2B-2257 -->
   * [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-customAttributeMetadata) <!-- B2B-2259 -->


* Se ha añadido la `quickorder_active` a la [`storeConfig`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) y [`availableStores`](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/) consultas. Este campo indica si la función de orden rápido está activada. <!-- LYNX-58 -->

* El rendimiento del analizador de GraphQL ha mejorado al reducir el número de veces que se utiliza el `parse` se llama al método por solicitud. Ahora se llama una vez. Anteriormente, se llamaba al analizador al menos tres veces. <!-- B2B-2606 -->

#### Nueva consulta

[`customAttributeMetadataV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata-v2/) <!-- LYNX-152 160-->

#### Consultas en desuso

* [`attributesMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/attributes-metadata/) <!-- LYNX-77-->
* [`customAttributeMetadata`](https://developer.adobe.com/commerce/webapi/graphql/schema/attributes/queries/custom-attribute-metadata/)

### Page Builder

Page Builder v.1.7.4 es compatible con Adobe Commerce 2.4.7-beta1.

### PWA Studio

PWA Studio 13.2.x es compatible con Adobe Commerce 2.4.7-beta1. Incluye varias mejoras para mejorar la accesibilidad. Para obtener información sobre la corrección de errores, consulte [Versiones del PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [Compatibilidad de versión](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de versiones de PWA Studio y sus versiones principales de Adobe Commerce compatibles.

## Problemas solucionados

Hemos corregido cientos de problemas en el código principal de Adobe Commerce 2.4.7-beta1. A continuación, se describe un subconjunto de los problemas corregidos que se incluyen en esta versión.

### Instalación, actualización e implementación

<!-- ACP2E-1505 -->

* El `bin/magento setup:upgrade` El comando ya no falla con este tipo de error relacionado con el límite de memoria MySQL: `PHP Fatal error:  Allowed memory size of 4294967296 bytes exhausted (tried to allocate 20480 bytes)`. La migración de atributos de selección múltiple se ha optimizado para que consuma menos memoria durante `setup:upgrade`.

<!-- ACP2E-1751 -->

* La generación de una copia de seguridad de la base de datos ahora funciona como se espera desde la línea de comandos y la de administración. Anteriormente, Adobe Commerce arrojaba este error: `Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'delimiter' at line 1, query was: delimiter ;;`.

<!-- ACP2E-1604 -->

* Ejecutando `setup:config:set` sin especificar el `--lock-db-prefix` ya no borra el valor actual del parámetro `env.php` archivo.

<!-- ACP2E-1498 -->

* La configuración del barniz se ha actualizado para evitar que los usuarios invitados accedan al contenido almacenado en caché relacionado con otros grupos de clientes.

<!-- AC-7113 -->

* Los compradores ahora pueden realizar un pedido en una implementación que implemente una base de datos dividida cuando **[!UICONTROL Checkout Async]** está activada. Anteriormente, Adobe Commerce arrojaba este error: `An error occurred on the server. Please try to place the order again`.

<!-- https://github.com/magento/magento2/pull/33092 -->

* `bin/magento setup:upgrade` ahora se completa correctamente al instalar un nuevo módulo que instala tanto las tablas como los módulos asociados `mview` indexadores.

<!-- ENGCOM-9243 -->

* `bin/magento setup:upgrade` ahora muestra un mensaje de error más informativo cuando un tema de la cola de mensajes no incluye un nombre de tema. [GitHub-34246](https://github.com/magento/magento2/issues/34246)

<!-- https://github.com/magento/magento2/pull/36239 -->

* `bin/magento setup:upgrade` ahora muestra un mensaje de error más informativo cuando los archivos XML combinados no son válidos. El mensaje de error ahora incluye el nombre de archivo.

### Paquete de productos

<!-- ACP2E-1478 -->

* Los productos agrupados ahora se importan correctamente sin duplicar SKU en las opciones de producto. Anteriormente, Adobe Commerce creaba varios SKU duplicados en las opciones de producto al importar productos agrupados con entradas duplicadas.

<!-- ACP2E-1388 -->

* El precio del producto del paquete ahora se calcula correctamente cuando uno de los productos del paquete está agotado. Anteriormente, si un producto que formaba parte del paquete estaba agotado, se eliminaba del cálculo de precios.

<!-- ACP2E-1503 -->

* Los productos agrupados ahora se muestran como agotados cuando se compra el último de sus productos secundarios requeridos. Anteriormente, los productos agrupados se mostraban como disponibles en la tienda cuando sus productos simples estaban agotados.

<!-- ACP2E-1443 -->

* Problemas de rendimiento al añadir productos en paquete con opciones no requeridas al carro de compras mediante `addBundleProductsToCart` se han resuelto las mutaciones.

<!-- ACP2E-1264 -->

* El `categoryList` query ahora devuelve todas las opciones de paquete como se espera cuando la variable **[!UICONTROL Show out-of-stock products]** La opción de configuración está habilitada. Anteriormente, las opciones sin existencias no se incluían en la respuesta de consulta.

<!-- ACP2E-1345 -->

* Paquete de productos creado con `POST V1/products` ahora se realiza correctamente cuando el ámbito del precio de catálogo se establece en `website`. Anteriormente, se producía una infracción de restricción de integridad. [GitHub-35595](https://github.com/magento/magento2/issues/35595)

### Caché

<!-- ACP2E-1524 -->

* La caché de página ahora se borra como se espera para un producto principal cuando se ha guardado uno de sus productos secundarios desde el administrador. Se ha introducido una comprobación de complemento para alcanzar la invalidación de caché para variantes configurables, similares a otros tipos de productos, independientemente del estado del indexador (programado o en tiempo real). Anteriormente, los precios no se actualizaban correctamente en la tienda después de actualizar una variación configurable desde el administrador.

<!-- ACP2E-1454 -->

* Se ha agregado un mecanismo de almacenamiento en caché para las credenciales de AWS. Un proveedor de credenciales ahora utiliza la caché de Magento para almacenar en caché las credenciales recuperadas de AWS para la configuración EC2.

<!-- AC-7639 -->

* El complemento cuyo propósito es agregar la etiqueta de caché configurable cuando se guarda un producto simple asociado con un producto configurable ahora funciona según lo esperado. Todas las etiquetas de caché configurables relevantes se eliminan según lo esperado cuando un producto simple se actualiza por `POST V1/products`. Anteriormente, no todos los precios se actualizaban en la tienda y las cachés tenían que borrarse manualmente. [GitHub-36726](https://github.com/magento/magento2/issues/36726)

### Carro y cierre de compra

<!-- ACP2E-1614 -->

* Los productos del carro de compras ya no se excluyen de las listas de productos relacionados y de ventas adicionales después de vaciar la caché.

<!-- ACP2E-1580 -->

* El estimador de impuestos y envíos del carro de compras ahora refleja con precisión la configuración de destino predeterminada. Anteriormente, al configurar los ajustes de cálculo de destino de impuestos predeterminados y especificar Estado/Región y ZIP, solo se mostraba el valor ZIP en el carro de compras en **[!UICONTROL Estimate Tax and Shipping]**. Esto se debía a que Adobe Commerce establecía el ID de región en indefinido antes de invocar la afirmación condicional que establecía el ID de región predeterminado desde el administrador.

<!-- ACP2E-1547 -->

* Adobe Commerce ya no genera este error durante el cierre de compra cuando se habilita el carro de compras persistente: `Invalid state change requested`. Anteriormente, cuando se producía este error, se producían varios pedidos con el mismo `quote_id` se crearon ocasionalmente.

<!-- ACP2E-1456 -->

* El minicarrito ahora muestra precios de productos agrupados que reflejan los ajustes de configuración de impuestos del carrito. Anteriormente, el minicarrito siempre incluía impuestos en los precios de los productos agrupados.

<!-- ACP2E-1414 -->

* Se ha mejorado el rendimiento de las reglas de segmentos de clientes que dependen de carros de compras activos, lo que ha reducido el tiempo necesario para agregar un producto al carro de compras.

<!-- AC-7503 -->

* La estimación de envío proporcionada desde la página del carro de compras ahora es precisa. `collectShippingRates` ahora se establece solo una vez. Anteriormente, la estimación de envío se duplicaba. [GitHub-36648](https://github.com/magento/magento2/issues/36648)

<!-- ACP2E-1417 -->

* El `cart` query ya no devuelve un error cuando un producto del carro especificado está agotado. Anteriormente, los compradores que usaban esta consulta para realizar una compra no podían completar su compra cuando un artículo estaba agotado y la página de cierre de compra estaba en blanco.

<!-- ACP2E-1459 -->

* Solicitudes de API de invitado a `POST V1/default/V1/guest-carts/<cartId>/shipping-information` ya no devuelve un `cancel` estado si la página se vuelve a cargar durante el inicio de sesión en un entorno móvil. Anteriormente, Adobe Commerce arrojaba un error 500 y registraba esta excepción: `TypeError: Argument 2 passed to Magento\CustomerCustomAttributes\Model\Plugin\ProcessCustomerShippingAddressCustomAttributes::beforeSaveAddressInformation() must be of the type string, null given`.

<!-- AC-7886 -->

* La idoneidad para el envío gratuito ahora se calcula según lo esperado cuando el **[!UICONTROL Subtotal (Excl. Tax)]** se aplica la condición para reglas del carro de compras. [GitHub-36760](https://github.com/magento/magento2/issues/36760)

<!-- AC-6672 -->

* El `cart` query ahora devuelve el precio de nivel correcto para un producto. [GitHub-29655](https://github.com/magento/magento2/issues/29655)

<!-- ACP2E-1162 -->

* Se han añadido mensajes de error informativos a la página de cierre de compra para guiar a los compradores cuando la aplicación de un cupón en la página de envío entra en conflicto con el método de envío seleccionado. Anteriormente, un mensaje indicaba a los compradores que volvieran a la página anterior.

<!-- ENGCOM-8387 -->

* La ventana emergente de autenticación ahora solo se inicializa cuando es necesaria, en lugar de cuando el cierre de compra de invitados está habilitado. Ahora se inicializa cuando el comprador invitado intenta continuar con el cierre de compra y el cierre de compra de invitado está deshabilitado. [GitHub-30672](https://github.com/magento/magento2/issues/30672)

### Regla de precio del carro

<!-- ACP2E-1516 -->

* Las reglas de precios del carro de compras ahora se aplican según lo esperado cuando se configura una regla de precios del carro de compras relacionada con un método de envío para la tienda y este método de envío se cambia por otro durante el cierre de compra. Anteriormente, la variable `applied_rule_ids` El valor nunca se cambió en `sales_order_item` y la regla de precio del carro de compras no se aplicó al pedido.

### Catálogo

<!-- ACP2E-1479 -->

* Adobe Commerce ya no muestra un mensaje de advertencia cuando guarda un producto creado con opciones personalizadas después de eliminar su imagen.

<!-- ACP2E-1419 -->

* Las imágenes en miniatura del producto ahora se muestran según lo esperado en el correo electrónico de alerta de stock de productos que se envía cuando un producto vuelve a estar disponible. Anteriormente, esta imagen no se mostraba en el correo electrónico de alerta

<!-- AC-3003 -->

* El recuento de productos en el árbol de categorías (Administrador) **[!UICONTROL Catalog]** > **[!UICONTROL Category]**) ahora es preciso. Anteriormente, no se podía recuperar el recuento de productos de la categoría de `catalog_category_product_index` tabla. Se ha corregido el error tipográfico que activaba este error. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

* La imagen principal del producto en la página de detalles del producto ya no se desplaza visiblemente hacia abajo durante la carga de la página cuando `product_image_white_borders` en el tema `view.xml` está deshabilitada. Anteriormente, la imagen del producto se desplazaba visiblemente hacia abajo durante la carga de la página debido a la configuración de altura incorrecta en Fotorama JS.

<!-- ACP2E-1361 -->

* Ahora se notifica a los clientes sobre caídas en el precio del producto cuando el cliente está suscrito a las alertas de caída de precios. Anteriormente, las notificaciones de caída de precios no siempre se enviaban debido al almacenamiento en caché de nivel de aplicación.

<!-- ACP2E-1422 -->

* La validación del lado del servidor se ha añadido al proceso de creación de atributos de producto a través de la API web. No se puede activar la variable **[!UICONTROL Use in Layered Navigation Catalog]** cuando la variable **[!UICONTROL Catalog Input Type for Store Owner]** el valor del campo es `Text Field`,  `Text Area`,  `Text Editor`, `Date`, o `Date and Time`. Anteriormente, los productos se omitían de las categorías y los resultados de búsqueda.

<!-- ACP2E-1413 -->

* La página de categoría ahora se vuelve a cargar con la paginación correcta después de que un comprador abra la página, cambie la paginación, navegue a una página de producto y, a continuación, vuelva a la página de categoría.  [GitHub-36563](https://github.com/magento/magento2/issues/36563)

<!-- ACP2E-1334 -->

* Los productos simples sin existencias que son opciones para un producto configurable ahora se muestran como deshabilitados en la tienda cuando **[!UICONTROL Display Out of Stock Products]** se establece en **Sí**. Anteriormente, todas las opciones se mostraban como disponibles, a pesar de su estado y disponibilidad real.

<!-- ACP2E-1384 -->

* Al actualizar el atributo de ámbito del sitio web en una vista de almacén específica, ya no se anula el valor de ese atributo en el ámbito global. Anteriormente, los precios de importación de productos cuando había varias filas disponibles con el mismo SKU y `store_view_code` Esto provocaba precios inexactos para los ámbitos de vista predeterminado y de Todas las tiendas.

<!-- ACP2E-1632 -->

* Los comerciantes ahora pueden añadir una imagen de GIF a la galería de imágenes de un producto desde el administrador. Anteriormente, Adobe Commerce mostraba este error:  `imagecolorsforindex(): Argument #2 ($color) is out of range`.

<!-- ACP2E-1709 -->

* Se han agregado comprobaciones para gestionar los errores resultantes de claves de matriz no definidas. Anteriormente, se producía un error durante la generación de la lista blanca de esquemas declarativos.

<!-- ACP2E-1749 -->

* Adobe Commerce ahora devuelve un resultado válido para la fecha personalizada `01/01/1970`. Anteriormente, el atributo personalizado devolvía este error: `Invalid input datetime format of value '1/01/1970`. [GitHub-37274](https://github.com/magento/magento2/issues/37274)

<!-- AC-6507 -->

* `routes` las consultas que utilizan fragmentos ahora devuelven información de categoría según lo esperado. Anteriormente, se producía un error interno del servidor en la página de categoría. [GitHub-35906](https://github.com/magento/magento2/issues/35906)

<!-- ACP2E-1772 -->

* Problemas con el `cataloginventory_stock` se ha resuelto el proceso de reindexación parcial y el rendimiento del indexador ha mejorado. Anteriormente, las categorías de stock y producto no se actualizaban con precisión.

<!-- AC-8226 -->

* Adobe Commerce ahora genera una redirección 301 para un producto cuando la categoría a la que pertenece se ha movido a una nueva principal. [GitHub-37039](https://github.com/magento/magento2/issues/37039)

### Reglas de catálogo

<!-- ACP2E-1579 -->

* Las reglas de catálogo ahora se aplican como se espera en un entorno de varios sitios web.

### Cupones

<!-- ACP2E-1551 -->

* Los compradores ahora pueden utilizar dos códigos de cupón autogenerados independientes que se han generado mediante la misma regla de precio del carro de compras. El `Uses per Coupon` ahora está habilitado cuando el tipo de cupón seleccionado es `Auto` (similar para el tipo de cupón =`Specific Coupon`). Esto, a su vez, permite al comprador aplicar varios códigos de cupón al mismo precio del carro de compras si los códigos son diferentes.

<!-- ACP2E-1496 -->

* El valor de cupón de un solo uso de un comprador ahora se restaura según lo esperado cuando se cancela el pedido al que se aplicó.

<!-- ACP2E-1195 -->

* El `GET V1/coupons/<couponId>` ahora, el punto final devuelve la respuesta esperada completa para los cupones creados manualmente, igual que para los cupones generados automáticamente.  Anteriormente, se omitían algunos campos (por ejemplo, `usage_limit`, `usage_per_customer`, y `created_at`).

### cron

<!-- AC-7987 -->

* Los usuarios administradores ahora pueden ver qué tarea usa el `bin/magento cron:run` el proceso se está ejecutando. El título del proceso que se está ejecutando ahora enumera los nombres de grupo y trabajo. [GitHub-34321](https://github.com/magento/magento2/issues/34321)

### Cliente

<!-- AC-6748 -->

* Adobe Commerce ahora muestra el **[!UICONTROL Date of Birth]**, **[!UICONTROL Tax/VAT Number]**, **[!UICONTROL Gender]**, **[!UICONTROL Telephone]**, **[!UICONTROL Company]**, y **[!UICONTROL Fax]** en la página editar cliente en función de los ajustes de configuración. [GitHub-36196](https://github.com/magento/magento2/issues/36196)

### Correo electrónico

<!-- ACP2E-1529 -->

* Los detalles del administrador de la empresa ahora se guardan según lo esperado y se redirige correctamente a los administradores cuando los correos electrónicos de asignación de administrador de la empresa contienen un `CMS Block URL` variable.

<!-- AC-2903 -->

* Las direcciones de correo electrónico de los clientes ahora pueden incluir diacríticos. Anteriormente, la validación del front-end prohibía la creación de un usuario con diacríticos en su dirección de correo electrónico. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

<!-- ACP2E-1682 -->

* Los correos electrónicos de alerta de cotizaciones y precios ahora se traducen según el idioma configurado para la vista de tienda predeterminada del sitio web. Anteriormente, estos correos electrónicos no se traducían.

<!-- ACP2E-1571 -->

* `POST V1/order/notify-orders-are-ready-for-pickup` ahora envía un mensaje de correo electrónico avisando a los clientes de que un pedido está listo para su recogida solo cuando el pedido está listo. Ahora, el correo electrónico solo se activa cuando se ha satisfecho la solicitud sin excepción.

### Marcos

<!-- ACP2E-1492 -->

* Mutex se ha implementado para pedidos que evitan condiciones de carrera durante la actualización mediante solicitudes simultáneas. Anteriormente, las solicitudes simultáneas (condiciones de carrera) para cancelaciones de pedidos provocaban entradas duplicadas en `inventory_reservation` tabla.

<!-- ACP2E-1381 -->

* El `populateWithArray` Ahora, la función transforma las propiedades del objeto en una caja de serpiente correctamente, lo que la hace compatible con el `AbstractModel` captadores y establecedores. Anteriormente, el formato del caso de la serpiente era incorrecto cuando el nombre del atributo de datos contenía varias letras mayúsculas en una fila.

<!-- ACP2E-1522 -->

* El valor de incremento automático en `catalog_product_entity_varchar` ahora se incrementa correctamente después de guardar un producto. Anteriormente, este valor aumentaba en diez.

<!-- ACP2E-1701 -->

* Adobe Commerce ya no genera esta excepción del sistema de archivos cuando intenta vaciar la caché de JavaScript/CSS:  `No such file or directory`.

<!-- ACP2E-1358 -->

* El valor de `value_id` in `customer_entity_int` ahora se incrementa correctamente. Se ejecuta una consulta de actualización en lugar de `insert on duplicate key update` al actualizar una entidad que incorpora estos atributos. Como resultado, las columnas de incremento automático utilizadas dentro del modelo EAV ahora crecen de forma lineal. Anteriormente, el proceso de incremento automático de columnas omitía valores debido a consultas de inserción fallidas. [GitHub-28387](https://github.com/magento/magento2/issues/28387)

<!-- AC-8462 -->

* Se ha eliminado el espacio en blanco innecesario de `id` atributos que no lo requieren. (Este error se introdujo mediante un cambio de código de Adobe Commerce 2.4.6).

<!-- AC-7923 -->

* Los códigos de tienda ya no aparecen en la dirección URL de la tienda cuando esta se encuentra en modo de tienda única. [GitHub-36831](https://github.com/magento/magento2/issues/36831)

<!-- AC-7988 -->

* Se han realizado actualizaciones menores en `around` complementos. [GitHub-31443](https://github.com/magento/magento2/issues/31443)

<!-- AC-7989 -->

* Las muestras `Helper` se ha refactorizado para eliminar alias de importación engañosos. [GitHub-31373](https://github.com/magento/magento2/issues/31373)

<!-- AC-8708 -->

* Los usuarios administradores ahora pueden eliminar o cambiar el nombre de un `sitemap.xml` como se esperaba. Anteriormente, un usuario administrador podía eliminar el archivo del Administrador, pero permanecía en el sistema de archivos.  [GitHub-37468](https://github.com/magento/magento2/issues/37468)

<!-- ACP2E-1747 -->

* Los cupones ya no se marcan como utilizados cuando falla el pago del pedido al que se han aplicado. Los mensajes en cola ahora se procesan en el orden en que se publican cuando se inicia el consumidor. Anteriormente, el primer mensaje se extraía de la cola para comprobar simplemente si los mensajes estaban en cola y se rechazaba posteriormente, lo que provocaba que el primer mensaje se procesara en último lugar.

<!-- ACP2E-1627 -->

* Adobe Commerce ya no genera una excepción en el archivo de registro cuando un usuario intenta imprimir una etiqueta de envío. Anteriormente, si una extensión modifica los encabezados de respuesta que contienen un archivo adjunto, el sistema arrojaba una excepción en el archivo de registro.

<!-- AC-7986 -->

* Se ha añadido compatibilidad con más clases de HTML a `elements.xsd`. [GitHub-36891](https://github.com/magento/magento2/issues/36891)


### Correcciones generales

<!-- ACP2E-1508 -->

* Ya no se producen errores durante las solicitudes de una fuente RSS para categorías cuando **[!UICONTROL RSS Feed Top Level Category]** está activada. Anteriormente, la exploración de la página de categoría de fuente RSS resultaba en Elasticsearch `CRITICAL` errores en archivos de registro al **[!UICONTROL RSS Feed Top Level Category]** se ha activado.

<!-- ACP2E-1490 -->

* El valor correcto ahora se guarda para `gws_store_groups` cuando se cambia el ámbito de la función durante la creación de la función del usuario. Anteriormente, cuando el ámbito de función se seleccionaba como `All`, el `gws_store_groups` el valor se guardó como nulo durante la creación del usuario, pero no durante la edición de funciones. Además, si el ámbito de función se seleccionó como `Custom`y, a continuación, el `gws_store_groups` el valor siempre se ha guardado como nulo.

<!-- ACP2E-1446 -->

* Ahora se puede acceder a la página de restablecimiento de contraseña haciendo clic en el vínculo Admin reset password de la página de inicio de sesión de Admin cuando el **[!UICONTROL Add Store Code to Urls]** La configuración está habilitada. El vínculo Admin reset password abría anteriormente la página de inicio de sesión o la página 404.

<!-- ACP2E-1274 -->

* El intervalo de fechas del tablero de estadísticas de administración ahora se calcula en función de la zona horaria establecida en los ajustes de configuración y, a continuación, se convierte a UTC para recuperar datos de la base de datos.

<!-- ACP2E-1665 -->

* El filtro de jerarquía de CMS funciona según lo esperado después de filtrar una vista de tienda y hacer clic en **[!UICONTROL Save]** en administración **[!UICONTROL Content]** > **[!UICONTROL Hierarchy]**. Anteriormente, al hacer clic en **[!UICONTROL Save]** actualizó la página, pero se perdió el contexto y la vista de tienda seleccionada ya no se mostraba.

<!-- ACP2E-1631 -->

* Haciendo clic en **[!UICONTROL Send invitation]** botón (Administración) **[!UICONTROL Marketing]** > **[!UICONTROL Private sales]**  > **[!UICONTROL Invitation]**) ahora envía una solicitud de POST junto con la clave del formulario y envía la invitación correctamente. Anteriormente, al hacer clic en este botón, no estaban presentes ni el método POST HTTP ni la clave del formulario.

<!-- ACP2E-1608 -->

* Los archivos de cero bytes ahora se pueden copiar correctamente en el almacenamiento remoto con AWS S3.

<!-- AC-7402 -->

* Los usuarios administradores ahora pueden añadir una nueva dirección de cliente desde el Administrador cuando el cliente se ha creado para otro sitio web cuyo ID de tienda no coincide con el ID de sitio web. Anteriormente, Adobe Commerce mostraba este mensaje emergente: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- AC-8247 -->

* La página del editor de bloques de CMS ahora muestra el widget correcto `block_id` valor.  [GitHub-29644](https://github.com/magento/magento2/issues/29644)

### Tarjetas de regalo y envoltorio

<!-- ACP2E-1586 -->

* Los subtotales ahora se calculan correctamente para las cantidades de tarjetas regalo personalizadas.

<!-- ACP2E-1350 -->

* Las tarjetas de regalo ahora se aplican correctamente durante el cierre de compra con varias direcciones. Anteriormente, las cantidades de tarjetas regalo se aplicaban incorrectamente a los envíos de varias direcciones, lo que resultaba en cantidades de tarjetas regalo no válidas.

<!-- ACP2E-1341 -->

* La emulación ahora se inicia durante `send()` llama a una vez que la emulación ha finalizado durante el `getInfoBlockHtml()` y no se registra ningún error. Anteriormente, la variable `system.log` el archivo se inundó con este error: `main.ERROR: Environment emulation nesting is not allowed`. [GitHub-35603](https://github.com/magento/magento2/issues/35603)

<!-- ACP2E-1612 -->

* Ahora puede utilizar la variable `updateCartItems` mutación para actualizar una tarjeta regalo en un carro de compras. Anteriormente, solo la cantidad de la tarjeta se podía actualizar en el carro de compras mediante esta mutación.

<!-- ACP2E-1669 -->

* El envoltorio para regalos ahora se incluye como se espera en una cotización basada en carros combinados. Anteriormente, los mensajes de regalo se combinaban correctamente, pero no ajustaban las selecciones.

<!-- AC-7530 -->

* El `addProductsToCart` La consulta ahora agrega correctamente una tarjeta regalo a un carro de compras. Anteriormente, esta consulta esperaba el nombre del destinatario de la tarjeta de regalo, pero en su lugar se devolvió el nombre del remitente. Adobe Commerce arrojó este error: `Please specify a recipient name`. [GitHub-36665](https://github.com/magento/magento2/issues/36665)

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

* Google reCAPTCHA en el flujo de trabajo de cierre de compra ahora funciona como se espera para cheques, giros postales y métodos de pago personalizados.

<!-- ACP2E-1311 -->

* Los formularios Adobe Commerce ya no se pueden enviar antes de que se cargue la casilla de verificación Google ReCAPTCHA.

<!-- ACP2E-1338 -->

* El widget reCAPTCHA ahora precede al **[!UICONTROL Place Order]** en la página de pago. Anteriormente, el widget se mostraba en la parte superior de la página.

### Google Tag Manager

<!-- ACP2E-1520 -->

* El módulo Google Tag ahora inserta los datos correctos en la capa de datos. Anteriormente, los datos de impresiones de página no se insertaban en la capa de datos.

### GraphQL

<!-- ACP2E-1584 -->

* Atributos de producto del tipo `DateTime` ahora, asigne a `FilterRangeTypeInput` filtrar en consultas de productos. Anteriormente, estos atributos se asignaban a `FilterMatchTypeInput`. Como resultado de este cambio, las consultas se filtran según `DateTime` los atributos requieren `from` y `to` valores en lugar de valores de coincidencia.

<!-- ACP2E-1552 -->

* El `customer` La mutación de ahora solo devuelve críticas de clientes relacionadas con una vista de tienda específica, tal como se espera cuando se filtra por ID de tienda.

<!-- AC-7544 -->

* El `categories` query ya no devuelve un error cuando la variable `items.redirect_code` el valor de respuesta contiene un valor nulo. [GitHub-36675](https://github.com/magento/magento2/issues/36675)

<!-- ACP2E-1465 -->

* Los productos relacionados basados en reglas ahora se cargan como se espera en las respuestas de GraphQL después de una limpieza completa de la caché. Anteriormente, los atributos EAV del producto responsables de las coincidencias basadas en reglas no se cargaban para la entidad solicitada, aunque se cargaban después de volver a cargar la página de producto de la tienda.

<!-- ACP2E-1486 -->

* El `changeCustomerPassword` la mutación ahora almacena en déclencheur el correo electrónico como se espera después de restablecer correctamente una contraseña.

<!-- ACP2E-1494 -->

* `urlResolver` y `route` Las consultas de ahora devuelven un resultado cuando la variable `Target Path` de reescritura de URL es una URL absoluta. Anteriormente, la variable `urlResolver` La consulta devolvió un valor NULL cuando se utilizaba para recuperar datos de redireccionamiento.

<!-- AC-7979 -->

* El `products` query ahora devuelve etiquetas correctas. [GitHub-29635](https://github.com/magento/magento2/issues/29635)


<!-- ACP2E-1315 -->

* El `categoryList` query ahora devuelve un valor rellenado `product` de la sección `options` Bloque para productos secundarios de productos agrupados según lo esperado.  Anteriormente, no se devolvía información sobre productos secundarios de paquete.

<!-- AC-7114 -->

* El `route` La consulta ahora devuelve rutas para categorías y productos según lo esperado sin un error interno del servidor. [GitHub-36544](https://github.com/magento/magento2/issues/36544)

<!-- ACP2E-1652 -->

* El `products` la consulta ahora se obtiene `url_key` valores cuando se seleccionan varias categorías.

<!-- LYNX-17  16-->

* `product` ahora, las consultas devuelven acumulaciones solo para los productos asignados al catálogo compartido especificado. Anteriormente, los datos de agregación de los productos no asignados a un catálogo compartido aparecían en la navegación por capas.

<!-- AC-7974 -->

* Los nombres de transacción se han agregado a las transacciones de New Relic GraphQL. [GitHub-36874](https://github.com/magento/magento2/issues/36874)

<!-- AC-6680 -->

* El `OptionValueProvider` clase `get()` ahora devuelve un valor de opción de atributo basado en el valor dado `option_id` como se esperaba. Anteriormente, devolvía un error. [GitHub-35910](https://github.com/magento/magento2/issues/35910)

<!-- AC-6745 -->

* El `searchProducts` query ahora devuelve todas las agregaciones (filtros) disponibles y sus etiquetas traducidas correctamente. Anteriormente, las etiquetas de agregación de precios y categorías no se traducían según lo esperado. [GitHub-36140](https://github.com/magento/magento2/issues/36140)

<!-- AC-6666 -->

* Ahora puede utilizar un fragmento `ProductCard` al consultar `related_products`, `upsell_products`, y  `crosssell_products` el `ProductInterface`. [GitHub-29769](https://github.com/magento/magento2/issues/29769)

<!-- AC-7014 -->

* El `products` La consulta ahora devuelve productos relacionados, de venta adicional y de venta cruzada en el orden en que se guardaron. [GitHub-36461](https://github.com/magento/magento2/issues/36461)

<!-- AC-8573 -->

* Las consultas de GraphQL ahora devuelven datos de productos relacionados ordenados por posición. [GitHub-33010](https://github.com/magento/magento2/issues/33010)

<!-- AC-8542 -->

* `category_url_path` se ha añadido a `ProductAttributeFilterInput`, que permite solicitar todos los productos de una categoría en una única consulta. [GitHub-32460](https://github.com/magento/magento2/issues/32460)

<!-- AC-821 -->

* Se ha corregido un error por el que el método que establece el almacén actual en una mutación de GraphQL se ejecutaba antes que el método que administra la validación. [GitHub-31336](https://github.com/magento/magento2/issues/31336)

### Imagen

<!-- ACP2E-1353 -->

* Ahora, el formulario de carga del icono de favicon de Admin admite `.ico` tipos de archivo. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

### Importar/exportar

<!-- ACP2E-1565 -->

* El proceso de importación de productos ya no se interrumpe cuando faltan imágenes de productos. Anteriormente, cuando faltaba una imagen de producto durante la importación de un servicio de terceros mediante un archivo CSV, Adobe Commerce mostraba este error: `Maximum error count has been reached or a system error is occurred!`.

<!-- ACP2E-1476 -->

* El rendimiento de la exportación de clientes desde la cuadrícula de clientes se ha mejorado en implementaciones en las que B2B está habilitado.

<!-- ACP2E-1391 -->

* El proceso de importación de productos ya no genera un error de validación cuando un valor de atributo en `configurable_variations` contiene una coma.

<!-- ACP2E-1377 -->

* La descodificación se ha excluido del proceso de exportación. El texto del archivo de exportación CSV permanece sin cambios después de la importación. Como resultado, la descripción no cambia después de volver a importar. Anteriormente, las etiquetas de HTML se eliminaban en el editor de Page Builder después de exportar e importar el producto.

<!-- ACP2E-1451 -->

* Las configuraciones no predeterminadas (sitio web o ámbito de tienda) que se agregan como variables de entorno ya no rompen el `app:config:import` proceso con un error de recursión.

<!-- ACP2E-1569 -->

* La búsqueda en el catálogo y los indexadores de precios en el modo Actualizar al guardar ya no se invalidan después de la importación. Anteriormente, la versión del documento de Elasticsearch Indexer cambiaba de versión cuando se importaban productos nuevos y existentes.

<!-- ACP2E-1482 -->

* Los informes de producto ahora se exportan a `var` directorio.  Anteriormente, estos informes se exportaban al directorio raíz del documento, que es un directorio de solo lectura en instancias de nube.

<!-- ACP2E-1736 -->

* Los campos de dirección de cliente de selección múltiple vacíos ya no interrumpen ni detienen el proceso de exportación.

### Índice

<!-- ACP2E-1697 -->

* Se ha mejorado el rendimiento del indexador de producto de reglas de catálogo en implementaciones en las que las reglas no están asignadas a todos los sitios web.

<!-- ACP2E-1401 -->

* Crear un tipo de producto personalizado cuando los indizadores están configurados en **[!UICONTROL Update on schedule]** ya no provoca la actualización del índice `cron` tarea que debe fallar. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

<!-- ACP2E-1574 -->

* Se han resuelto los problemas de visualización en la página de detalles del producto de la tienda que se debían a la indexación de permisos de catálogo. Anteriormente, Adobe Commerce borraba primero la tabla de índice y, a continuación, volvía a indexar durante un `catalogpermissions_product` o `catalogpermissions_category` proceso de indexación. Los permisos del catálogo no funcionaron según lo esperado en la tienda hasta que se completó la reindexación.

<!-- AC-6816 -->

* `bin/magento indexer:reindex customer_grid` ya no falla con un error MySQL cuando la cuadrícula del cliente incluye atributos del cliente personalizados recién creados. [GitHub-36233](https://github.com/magento/magento2/issues/36233)

<!-- AC-8076 -->

* El cambio del modo de indizador para varios indizadores (es decir, un cambio del modo de indizador de acción masiva) ahora cambia el modo de un indizador solo cuando el modo actual difiere del que se está aplicando. Esto mejora el rendimiento al evitar viajes innecesarios a la base de datos. [GitHub-36823](https://github.com/magento/magento2/issues/36823)

<!-- AC-6934 -->

* Se ha mejorado la indexación de productos con muchas opciones de atributos. [GitHub-36386](https://github.com/magento/magento2/issues/36386)

### Infraestructura

<!-- ACP2E-1462 -->

* Adobe Commerce ya no incluye la ruta completa a la raíz del servidor en el mensaje de error que muestra cuando se ha enviado una solicitud HTTP mal formada al servidor. Ahora solo se pasan cadenas a `explode` como segundo argumento.

<!-- AC-8384 -->

* `restricted_classes.php` ha reemplazado `Zend_Validate_File_Upload`. Anteriormente, el validador se bloqueaba durante la carga de un archivo de importación mayor que el valor configurado en `php.ini `. [GitHub-37281](https://github.com/magento/magento2/issues/37281)

<!-- ACP2E-1146 -->

* Las opciones de atributo proporcionadas por el modelo de fuente de datos e instaladas mediante el parche de datos de configuración (normalmente de módulos de terceros) ahora se pueden utilizar con reglas de segmentos de clientes. Anteriormente, esta combinación no devolvía la lista de clientes que coincidían con el segmento configurado.

<!-- AC-7093 -->

* El motor de plantillas de correo electrónico ahora puede procesar correctamente determinadas directivas anidadas (por ejemplo, `{{if}}{{depend}}...{{/depend}}{{/if}}`). [GitHub-36438](https://github.com/magento/magento2/issues/36438)

<!-- AC-7920 -->

* `product` Las consultas con datos de agregación ahora devuelven los valores de etiqueta correctos para los atributos de producto de tipo booleano. [GitHub-29123](https://github.com/magento/magento2/issues/29123)

<!-- AC-2618 -->

* Se agregaron regiones ucranianas a `directory_country_region` tabla. [GitHub-35187](https://github.com/magento/magento2/issues/35187)

<!-- https://github.com/magento/magento2/pull/29173 -->

* Los archivos CSS ya no se dañan al combinarse al `var/tmp` y `pub/static` están en diferentes sistemas de archivos y **[!UICONTROL CSS Merging Enabled]** está activada. Los archivos temporales se han creado en el mismo directorio estático que el archivo de destino para garantizar que ambos archivos estén en el mismo sistema de archivos. Como resultado, la llamada para cambiarle el nombre es atómica. [GitHub-29172](https://github.com/magento/magento2/issues/29172)

<!-- https://github.com/magento/magento2/pull/36769 -->

* Llamada a una función de miembro `getId()` ya no se déclencheur una excepción.

<!-- https://github.com/magento/magento2/pull/34092 -->

* Las comprobaciones de tipos ahora se aplican al tipo de matriz en el procesador de configuración del tema de diseño.  [GitHub-34440](https://github.com/magento/magento2/issues/34440)

### Registro

<!-- ACP2E-1385 -->

* Los usuarios administradores ahora pueden ver los registros de las acciones masivas creadas mediante integraciones en la sección Registro de acciones masivas de Admin.

### Iniciar sesión

<!-- ACP2E-1521 -->

* Restablecer una contraseña en un explorador y posteriormente iniciar sesión en otro explorador ya no genera una excepción. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

* Ahora se redirige a los clientes a la página de inicio de sesión después de activar una cuenta según lo esperado. Anteriormente, la sesión de los clientes se iniciaba automáticamente.

### Pedidos

<!-- ACP2E-1514 -->

* Los compradores ya no pueden solicitar un producto con un precio personalizado cuando se genera un pedido por primera vez desde el administrador utilizando el precio personalizado único. Anteriormente, si un pedido contenía un artículo con precios personalizados, este precio personalizado se aplicaba a otros pedidos realizados con la funcionalidad de repedido.

<!-- ACP2E-1421 -->

* Los compradores ya no pueden guardar estados de pedidos incorrectos en la página de pedidos. El estado del pedido ya no cambia de Completado a Procesando cuando se envía un artículo. Anteriormente, Adobe Commerce no comprobaba el estado actual del pedido antes de guardarlo después de que un comprador escribiera un comentario. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

* Adobe Commerce ya no genera un error en la página de devolución del pedido de la tienda cuando se elimina el producto configurable que se devuelve. Anteriormente, Adobe Commerce registraba este error: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`.

<!-- ACP2E-1367 -->

* La cuadrícula de pedidos de venta ahora se sincroniza asincrónicamente con todos los pedidos según lo esperado. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

* La funcionalidad de filtrar por fecha de compra en la sección de pedidos del cliente de la página de pedidos ahora funciona según lo esperado. Anteriormente, se producía un error de JavaScript cuando la lógica de conversión de huso horario arrojaba un error cuando se proporcionaba la misma zona horaria al método.

<!-- ACP2E-1294 -->

* El panel de Adobe Commerce ahora muestra las estadísticas de pedidos correctas en la primera carga. Anteriormente, el panel mostraba información de pedidos incorrecta, pero mostraba la información correcta una vez actualizado el periodo de tiempo.

<!-- ACP2E-1762 -->

* Los usuarios administradores ahora se redirigen según lo esperado a la página de pedidos después de seleccionar una vista de tienda durante la creación de nuevos pedidos desde el Administrador.

<!-- ACP2E-1418 -->

* La API de REST de pedidos ahora devuelve información sobre los productos configurables y simples en el orden, independientemente del estado de stock de los productos simples. Los usuarios administradores ahora solo pueden realizar pedidos si los artículos seleccionados (productos) están en stock o son vendibles. Anteriormente, esta API solo devolvía información sobre los productos que estaban en stock.

<!-- AC-7901 -->

* La página de nota de abono ya no se bloquea cuando el envío gratuito está activado cuando el precio de envío incluye impuestos y los cálculos de impuestos se aplican después de los descuentos. Anteriormente, Adobe Commerce arrojaba un `Division by zero` excepción. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

<!-- AC-1342 -->

* Uso del `rest/V1/orders/{id}/comments` el punto final para publicar un comentario sobre un pedido sin proporcionar el estado del pedido ya no afecta a la visualización del pedido. Anteriormente, el estado del pedido se registraba como NULL en `sales_order` y `sales_order_grid` y ni la página Mis pedidos ni la cuadrícula de orden de administración mostraban el orden. [GitHub-34180](https://github.com/magento/magento2/issues/34180)

<!-- ACP2E-1597 -->

* Ahora, las facturas, los envíos y los abonos se pueden mover correctamente de nuevo del archivo junto con sus pedidos asociados cuando los ID que incluyen difieren de los ID de pedido. Anteriormente, si un pedido se movía al archivo y luego se restauraba, entonces faltaban registros de factura, envío y nota de abono en ese pedido si los números de ID no coincidían. [GitHub-36847](https://github.com/magento/magento2/issues/36847)

### Page Builder

<!-- ACP2E-1564 -->

* Al añadir un producto a un carro de compras desde el carrusel de Page Builder, ya no se duplica la cantidad de artículos de páginas con dos widgets diferentes que muestran los mismos productos.

<!-- ACP2E-1542 -->

* Page Builder ya no agrega `tabindex` Atributo de HTML a etiquetas de hipervínculo `a` al editar un hipervínculo, guarde una plantilla.

<!-- ACP2E-1444 -->

* El widget de productos y la vista previa del Page Builder ahora gestionan correctamente los caracteres especiales del HTML. Anteriormente, el widget de producto no mostraba correctamente los SKU que contenían el `&` carácter.

<!-- ACP2E-1441 -->

* El contenido del elemento de texto de Page Builder ahora se actualiza según lo esperado al seleccionar y actualizar el bloque de contenido completo en el modo de vista previa.

<!-- ACP2E-1362 -->

* Copiar y pegar texto de un editor de texto de Page Builder a otro ahora funciona según lo esperado. Anteriormente, la página en la que intentaba pegar texto no se podía guardar y Adobe Commerce mostraba este error de consola: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

<!-- ACP2E-1568 -->

* Page Builder `column-block` El tipo de contenido creado en versiones anteriores de Page Builder ahora se muestra correctamente.

<!-- ACP2E-1234 -->

* Se ha mejorado el filtrado de la descripción de metadatos del producto durante la creación del producto desde Admin. Anteriormente, si Page Builder estaba habilitado, la descripción de los metadatos del producto se generaba en función de los valores predeterminados` {{name}} {{description}}` máscara. La máscara de metadescripción de producto predeterminada ahora está compuesta por `{{name}}`. [GitHub-36107](https://github.com/magento/magento2/issues/36107)

<!-- ACP2E-1758 -->

* Añadir un bloque dinámico sin contenido ya no genera déclencheur de error.

<!-- AC-6645 -->

* Se han resuelto los problemas con la visualización de columnas en el contenido del Page Builder. Anteriormente, `column-line` no se ha representado el contenido del tipo de contenido. [GitHub-3949](https://github.com/magento/pwa-studio/issues/3949)

### Pago

<!-- ACP2E-1215 -->

* La opción de método de pago Vault ya no aparece en el flujo de trabajo de cierre de compra del administrador cuando el comprador no tiene un token de Vault. [GitHub-36273](https://github.com/magento/magento2/issues/36273)

<!-- ACP2E-1303 -->

* El **[!UICONTROL Venmo]** ahora se puede ocultar cuando los botones de PayPal están activados. Anteriormente, la variable **[!UICONTROL Venmo]** No se ha podido eliminar el botón del carro de compras, del minicarrito, de los detalles del producto o de las páginas de cierre de compra.

<!-- AC-7105 -->

* Ahora se redirige a los compradores a la página de éxito después de completar correctamente un pago de vínculo de Paypal Payflow. [GitHub-36520](https://github.com/magento/magento2/issues/36520)

#### Braintree

<!-- ACP2E-1229 -->

* La opción de método de pago de Braintree Vault ya no se anula automáticamente en el flujo de trabajo de cierre de compra cuando un comprador actualiza su dirección de facturación. Anteriormente, el método de pago se anulaba cuando el comprador anulaba la selección del método **[!UICONTROL My billing and shipping address are the same]** botón.


<!-- BUNDLE-3248 -->

* Se han resuelto problemas con el cierre de compra con PayPal mediante Braintree después de actualizar desde Adobe Commerce 2.4.5-p2. [GitHub-37242](https://github.com/magento/magento2/issues/37242)

<!-- BUNDLE-3257 -->

* Los números de teléfono ahora se representan según lo esperado con las direcciones en los campos de dirección de envío emergente de Google Pay. Anteriormente, faltaban números de teléfono.

<!-- BUNDLE-3228 -->

* Los pedidos ahora se realizan correctamente con el Braintree cuando la respuesta del Braintree incluye un valor vacío para `threeDSecureInfo/eciFlag`. Anteriormente, se producía un error de PHP durante el cierre de compra cuando este valor estaba vacío.

<!-- BUNDLE-3243 -->

* Adobe Commerce ya no genera un error cuando un comprador aplica un cupón en la página de revisión de pedidos al cerrar la compra con Google Pay desde el minicarrito. Anteriormente, se redirigía a los compradores a una página 404.

<!-- BUNDLE-3245 -->

* Los compradores ahora pueden completar el pago y envío con Braintree Payments y Adobe Commerce 2.4.6 con ReCAPTCHA v2 o v3 invisible. [GitHub-37241](https://github.com/magento/magento2/issues/37241)

<!-- BUNDLE-3241 -->

* Los compradores ya no pueden hacer clic en **[!UICONTROL PayPal]** para adquirir un producto configurable sin seleccionar primero las opciones requeridas. Anteriormente, los compradores podían hacer clic en **[!UICONTROL PayPal]** y, posteriormente, se redirigieron de nuevo a la página del producto con un error:

<!-- BUNDLE-3148 -->

* El **[!UICONTROL PayPal]** ahora se muestra según lo esperado en las páginas del carro de compras y del minicarro de compras. Anteriormente, este botón no se mostraba en la página del carro de compras y se duplicaba en la página del minicarrito.

<!-- BUNDLE-3244 -->

* Los pedidos parcialmente facturados ahora se capturan como se espera en la cuenta correcta en implementaciones en las que los comerciantes tienen dos ID de cuenta de comerciante diferentes para la misma divisa en su cuenta de Braintree.

<!-- BUNDLE-3250 -->

* Adobe Commerce ya no genera un error al crear una segunda factura parcial para un pedido pagado por el Braintree cuando el **[!UICONTROL Enable Vault for Card Payments]** está activada. Anteriormente, cuando un comerciante intentaba crear una segunda factura, Adobe Commerce arrojaba este error: `Your payment could not be taken. Please try again or use a different payment method. Payment method token is invalid`.

### Promoción

<!-- ACP2E-1290 -->

* Los efectos de la **[!UICONTROL Fixed amount discount for whole cart]** regla de precios, cuando se aplica con **[!UICONTROL Apply to shipping amount]** La regla, ahora se distribuye proporcionalmente según lo esperado entre los productos y los importes de envío. Anteriormente, los cálculos de descuento eran incorrectos.

<!-- ACP2E-1300 -->

* El **[!UICONTROL Discard Subsequent Rules]** La configuración de ahora se aplica según lo esperado. Cuando esta configuración está habilitada, otras reglas con prioridad baja solo se pueden aplicar a un producto diferente. [GitHub-35707](https://github.com/magento/magento2/issues/35707)

### Informes

<!-- ACP2E-1541 -->

* El informe Pedidos (**[!UICONTROL REPORTS]** > **[!UICONTROL Sales]** > **[!UICONTROL Orders]**) ahora incluye valores de pedido correctos cuando los pedidos son generados por tiendas que utilizan monedas no predeterminadas. Anteriormente, este informe incluía valores incorrectos. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

* Se ha revisado la información engañosa en el formulario de informe de pedido de ventas para mayor claridad.

<!-- ACP2E-1435 -->

* Los usuarios administradores ahora pueden buscar registros con correos electrónicos que contengan  `+` (más) anuncios de la página Informe de Carros de compras abandonados. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

<!-- AC-7394 -->

* Los nombres de las transacciones de GraphQL ahora se muestran correctamente después de deshabilitar New Relic desde el Administrador de comercio. [GitHub-36112](https://github.com/magento/magento2/issues/36112)

### Recompensas

<!-- ACP2E-1473 -->

* La notificación por correo electrónico de actualización del balance de puntos de recompensa ahora tiene en cuenta el contexto actual de la tienda. Anteriormente, el correo electrónico de actualización del balance de puntos de recompensa utilizaba los ajustes de configuración de la tienda predeterminada.

<!-- ACP2E-1329 -->

* Los puntos de recompensa ahora se pueden reembolsar después de la creación de una nota de crédito. Anteriormente, los comerciantes no podían reembolsar puntos de recompensa después de crear una nota de crédito, y el estado del pedido permanecía `Completed`, no `Closed`.

### RMA

<!-- ACP2E-1230 -->

* El **[!UICONTROL Enable RMA]** El atributo en el nivel de producto individual ahora respeta la configuración de la tienda RMA. Anteriormente, esta opción se desactivaba de forma predeterminada al agregar un producto, independientemente de los ajustes de configuración de la tienda.

### Buscar {#search-heading}

<!-- ACP2E-1499 -->

* Los resultados de búsqueda ahora muestran los resultados relevantes en función de la ponderación de búsqueda de los atributos según lo esperado.

<!-- AC-7505 -->

* Texto informativo en la sección `Search Weight` atributo de `Storefront Properties` campo de entrada en administración **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** ahora describe posibles valores. [GitHub-36646](https://github.com/magento/magento2/issues/36675)

### Envío

<!-- AC-7003 -->

* El **[!UICONTROL Shipping Policy]** El cuadro de texto ahora está visible en el ámbito de vista de la Tienda de administración cuando  **[!UICONTROL Apply custom Shipping Policy]** está activada y hay disponible una política de envío personalizada. [GitHub-36425](https://github.com/magento/magento2/issues/36425)

<!-- AC-7550 -->

* El `cart` query ahora devuelve un valor `selected_shipping_method` que coincida con uno de los `available_shipping_methods` códigos de portadora y método. Anteriormente, cuando uno de los métodos de envío seleccionados contenía un guion bajo, estos códigos de operador/método no coincidían. [GitHub-36606](https://github.com/magento/magento2/issues/36606)

<!-- AC-2556 -->

* El `setShippingAddressesOnCart` la mutación ya no genera un error cuando el segundo valor de la matriz de street es nulo. Anteriormente, se producía esta excepción: `The address failed to save. Verify the address and try again`. [GitHub-35160](https://github.com/magento/magento2/issues/35160)

### Ensayo

<!-- ACP2E-1501 -->

* Los errores de JavaScript ya no se producen cuando se añaden o editan actualizaciones programadas para categorías cuando Experimentos de contenido de Google Analytics está habilitado.

<!-- ACP2E-1344 -->

* Los comerciantes ahora pueden guardar correctamente una actualización de programación existente para una categoría después de verla o editarla. Anteriormente, Adobe Commerce arrojaba un error en `system.log`.

<!-- ACP2E-1596 -->

* Los vínculos descargables ahora se conservan según lo esperado cuando se aplica una actualización programada mientras los productos añadidos anteriormente están en el carro de compras. Anteriormente, los vínculos descargables desaparecían de la página Mi cuenta (Mis productos descargables) del cliente y de la página de vista de pedidos del administrador.

<!-- ACP2E-1458 -->

* Los productos ahora están visibles en la tienda, tal como se espera después de una actualización de ensayo que habilita la aplicación del producto. Anteriormente, el producto estaba habilitado en el Administrador, pero no era visible en la categoría de tienda cuando el modo de indizador del inventario de catálogo se establecía en Actualizar según lo programado. Un reindexado completo ha corregido el problema.

<!-- ACP2E-1647 -->

* El `staging.synchronize_entity_period` cola de consumidor en `magento_bulk` ya no aumenta cuando no hay actualizaciones de ensayo que procesar. Anteriormente, cuando `cron` se configuró para ejecutarse cada minuto, un nuevo registro relacionado con el `staging.synchronize_entity_period` consumidor se agregaba a esta tabla cada minuto.

<!-- ACP2E-1415 -->

* Adobe Commerce ya no genera un error SQL al crear un cambio de programación para un producto mientras se guarda otro.  Anteriormente, Adobe Commerce mostraba este error:  `The product with the SKU "%1" couldn't be added to the current update`.

### Reglas de destino

<!-- ACP2E-1438 -->

* Las reglas de Target ahora funcionan correctamente con diferentes vistas de tienda. Anteriormente, los problemas con la caché de reglas de productos relacionados impedían la visualización de los productos recomendados en implementaciones de varias tiendas.

### Impuestos

<!-- ACP2E-1527 -->

* Ahora puede editar el valor de País y Región de Tipo Impositivo desde la página de edición de Regla Fiscal según lo esperado. Anteriormente, las ediciones realizadas desde esa página no se guardaban.

<!-- ACP2E-1143 -->

* El importe de impuestos en el área de estimación del carro de compras ahora se actualiza según lo esperado cuando se actualiza el método de envío. Anteriormente, la tasa impositiva no se actualizaba después de que un comprador cambiara de país durante el registro de salida.

<!-- AC-8227 -->

* El `tax class` El valor de los productos simples recién creados ahora se establece en el valor del producto principal al crear nuevas variaciones de un producto configurable existente en el ámbito de la vista de tienda. Anteriormente, este valor se establecía en ninguno. Como resultado, no se añadió ningún impuesto a estos productos en el carro de compras y los clientes recibieron un impuesto inferior al cobrado. [GitHub-37180](https://github.com/magento/magento2/issues/37180)

### Prueba

<!-- AC-7098 -->

* Problemas de rendimiento con cabinas grandes en `TableNameSniff` se han resuelto.

<!-- ACP2E-1690 -->

* Las pruebas de integración para la funcionalidad de edición del registro de regalos ya no dependen de los ID de entidad existentes. Todos los datos necesarios ahora se obtienen mediante accesorios. Anteriormente, `\Magento\GiftRegistry\Controller\Index\EditPostTest` error.

<!-- ACP2E-1748 -->

* `CollectionTest::testGetDateRangeFirstPart()` ahora corresponde al horario de verano.

### IU

<!-- ACP2E-171 -->

* El formulario de registro de cliente ahora se carga según lo esperado cuando incluye atributos del cliente de selección múltiple. Anteriormente, Adobe Commerce producía esta excepción: `[2023-03-05T05:57:40.032602+00:00] report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- ACP2E-1602 -->

* Los mensajes de bienvenida que contienen comillas simples ahora se representan correctamente en la tienda sin errores de consola. Anteriormente, si un mensaje de bienvenida contenía una comilla simple, el mensaje de bienvenida no se cargaba durante la representación de la tienda. Adobe Commerce también mostraba errores de consola.

<!-- ACP2E-1369 -->

* Adobe Commerce ya no genera un error cuando intenta cambiar rápidamente la vista entre el historial de comentarios y Devoluciones en la página Orden de administración. Anteriormente, Adobe Commerce mostraba este error genérico: `A technical problem with the server created an error`.

<!-- ACP2E-1374 -->

* Los usuarios administradores con privilegios restringidos a un sitio web ahora pueden actualizar los atributos de producto específicos del sitio web establecidos en un `all stores view` ámbito.

<!-- ACP2E-1648 -->

* El widget de lupa ahora se carga según lo esperado en la página del producto.

<!-- ACP2E-1216 -->

* Las opciones personalizables de varias líneas ahora se representan correctamente en los documentos de PDF de facturas, envíos y notas de abono. Anteriormente, el texto multilínea estaba precedido por un salto de página inesperado y, si el texto superaba la página, se truncaba.

<!-- AC-7402 -->

* Los usuarios administradores ahora pueden añadir una nueva dirección de cliente desde el Administrador cuando el cliente se ha creado para otro sitio web cuyo ID de tienda no coincide con el ID de sitio web. Anteriormente, Adobe Commerce mostraba este mensaje emergente: `Something went wrong`. [GitHub-36582](https://github.com/magento/magento2/issues/36582)

<!-- ACP2E-1529 -->

* Los detalles del administrador de la empresa ahora se guardan según lo esperado y se redirige correctamente a los administradores cuando los correos electrónicos de asignación de administrador de la empresa contienen un `CMS Block URL` variable.

<!-- ACP2E-1775 -->

* Los mensajes de error asociados con el envío de comentarios en la página de detalles del pedido ahora son más informativos. Anteriormente, cuando un comprador hacía clic en **[!UICONTROL Submit comment]** sin cambiar el estado del pedido ni introducir texto en el área de comentarios, Adobe Commerce mostraba este mensaje: `The comment is missing. Enter and try again`.

<!-- ACP2E-1659 -->

* El icono de calendario ahora se muestra según lo esperado en los campos de intervalo de fechas del Administrador **[!UICONTROL Marketing]** > **[!UICONTROL Cart Price Rules]** después de seleccionar una fecha para un campo. Anteriormente, después de seleccionar una fecha para un campo, el icono del calendario ya no se mostraba en otros campos y Adobe Commerce mostraba el texto del marcador de posición. [GitHub-36499](https://github.com/magento/magento2/issues/36499)

<!-- ACP2E-1717 -->

* Los formularios de registro de cliente que incluyen campos de selección múltiple ahora se cargan correctamente. Anteriormente, este formulario no se cargaba cuando contenía campos de selección múltiple y se activaba el siguiente error:  `report.CRITICAL: Exception: Deprecated Functionality: explode(): Passing null to parameter #2 ($string) of type string is deprecated in /magento2ee/app/code/Magento/CustomAttributeManagement/Block/Form/Renderer/Multiselect.php on line 53 in /lib/internal/Magento/Framework/App/ErrorHandler.php:62`. [GitHub-37189](https://github.com/magento/magento2/issues/37189)

<!-- AC-7092 -->

* Al hacer clic en una miniatura de vídeo en el modo de pantalla completa de la galería de productos, ahora el vídeo se muestra según lo esperado. Anteriormente, el vídeo no se mostraba y la consola del explorador mostraba un error de JavaScript. [GitHub-36456](https://github.com/magento/magento2/issues/36456)

<!-- AC-7806 -->

* Se ha agregado una variable a la línea de copyright que se actualiza automáticamente cada año. [GitHub-36776](https://github.com/magento/magento2/issues/36776)

<!-- AC-8441 -->

* El regulador de imagen de la página de producto ahora funciona como se espera en la vista móvil. Anteriormente, solo se mostraba correctamente la primera imagen. [GitHub-37232](https://github.com/magento/magento2/issues/37232)

### Reescrituras de URL

<!-- ACP2E-1737 -->

* Las reescrituras de URL de categorías ahora se generan para todas las vistas de tiendas cuando se importa una nueva categoría desde un archivo CSV.

<!-- ACP2E-1700 -->

* Las configuraciones de sufijo de URL de producto y sufijo de URL de categoría ahora coinciden con los sufijos del `url_rewrite` tabla. Anteriormente, se producían condiciones de carrera al actualizar las configuraciones de sufijos de URL, y los sufijos de URL configurados y el `url_rewrite` La tabla no coincide.

<!-- ACP2E-1703 -->

* Adobe Commerce ahora procesa el árbol de categorías en todos los niveles al crear reescrituras de URL de categoría. Anteriormente, solo se mostraban los tres primeros niveles de categorías. [GitHub-36973](https://github.com/magento/magento2/issues/36973)

<!-- ACP2E-1644 -->

* Las páginas de CMS recién creadas con un nodo secundario ahora se incluyen en la cuadrícula de filtro de marketing (**[!UICONTROL Marketing]** > **[!UICONTROL URL rewrites]**). Anteriormente, las reescrituras de URL no se creaban para esas páginas de CMS.

<!-- ACP2E-1737 -->

* Las reescrituras de URL de categorías ahora están presentes en el archivo CSV durante la importación de una nueva categoría.

<!-- ACP2E-1668 -->

* Las páginas de CMS de varias tiendas sin reescrituras de URL ahora se reenvían según lo esperado. Anteriormente, las páginas de CMS de varias tiendas solicitadas sin reescrituras de URL se redirigían a la página principal de la tienda, pero no a las páginas de CMS originales.

### Visual Merchandiser

<!-- ACP2E-1363 -->

* Ahora puede utilizar la variable `Categories` para reglas de Visual Merchandiser. Anteriormente, Adobe Commerce producía esta excepción:  `Something went wrong while saving the category`.

### Marco de API web

<!-- ACP2E-1543 -->

* Los clientes creados con la API por lotes ahora reciben correos electrónicos de registro de clientes en el idioma configurado en el sitio web asignado.  Anteriormente, todos los correos electrónicos se enviaban a la configuración regional predeterminada, no a la configuración regional del sitio web al que está asignado el cliente.

<!-- ACP2E-1339 AC-7577-->

* El `POST V1/guest-carts` la llamada ya no envía pedidos de invitado cuando **[!UICONTROL Allow Guest Checkout]** está deshabilitada.

<!-- ACP2E-1336 -->

* Ahora puede abrir un pedido del administrador con el estado `Received` cuando `AsyncOrder` no está activada. Anteriormente, no se podía abrir la página de detalles del pedido desde el Administrador cuando cambiaba el estado del pedido `POST V1/orders`.

<!-- ACP2E-1526 -->

* Adobe Commerce ahora devuelve correctamente el `content` atributo (código de imagen base64) en `GET V1/products/sku/media` respuestas de API de medios del producto. El `content` anteriormente el atributo no aparecía en la respuesta.

## Problemas conocidos

Los siguientes problemas conocidos se solucionarán en Adobe Commerce 2.4.7-beta2:

**Problema**: UPS dejó de utilizar la API XML de UPS el 5 de junio de 2023, lo que afectó a los comerciantes de las siguientes maneras:

* Los clientes actuales (es decir, los comerciantes que ya han generado sus claves de acceso UPS) no se verán afectados hasta junio de 2024.

* Actualmente, los comerciantes que deseen generar nuevas claves de acceso para utilizar la integración predeterminada de UPS de Adobe Commerce no pueden generar nuevas claves.

**Problema**: haciendo clic en **[!UICONTROL Show password]** en la página de inicio de sesión de la tienda no muestra la contraseña según lo esperado.  <!-- AC-8823 -->

**Problema**: los productos configurables se enumeran incorrectamente como agotados en la tienda cuando uno o más productos secundarios se desactivan mediante una actualización programada. <!-- ACP2E-2003 -->

**Problema**: un producto no se elimina del minicarrito según lo esperado después de que el catálogo compartido que se le ha asignado se haya eliminado del producto. <!-- AC-8935 -->

**Problema**: Los precios de los productos agrupados fijos no incluyen los precios especiales asignados según lo esperado. <!-- ACP2E-2034 -->

## Requisitos del sistema

Nuestra pila de tecnología está construida sobre PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Instrucciones de instalación y actualización

Puede instalar Adobe Commerce 2.4.7-beta1 mediante [Compositor](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
