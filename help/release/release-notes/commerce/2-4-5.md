---
title: Notas de la versión de Adobe Commerce 2.4.5
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.5 de Adobe Commerce.
source-git-commit: 065c56f20ba5b1eef8c331c5c2f5649902f1442b
workflow-type: tm+mt
source-wordcount: '9544'
ht-degree: 0%

---


# Notas de la versión de Adobe Commerce 2.4.5

Adobe Commerce introduce mejoras en la calidad de la plataforma, los métodos de pago, el rendimiento del almacenamiento en caché de GraphQL y la accesibilidad. Incluye actualizaciones de los módulos integrados de Google y la herramienta de compatibilidad de actualización, además de la compatibilidad con Live Search B2B.

Esta versión incluye más de 400 correcciones y mejoras de calidad.

{{bics}}

## Otra información de la versión

Aunque el código de estas funciones está empaquetado con versiones trimestrales del código principal de Adobe Commerce, varios de estos proyectos (por ejemplo, B2B, Page Builder y Progressive Web Application (PWA) Studio) también se publican de forma independiente. Las correcciones de errores de estos proyectos se documentan en la información de versión específica del proyecto que está disponible en la documentación de cada proyecto.

### Revisiones incluidas en esta versión

Adobe Commerce 2.4.5 incluye la resolución de todos los problemas que fueron abordados por las siguientes revisiones, que se proporcionaron para Adobe Commerce:

* `Braintree_disabled_partial_capture_for_applepay_googlepay.zip`. Este parche soluciona la incapacidad de los usuarios de crear facturas parciales al utilizar Apple Pay o Google Pay mediante Braintree como método de pago. Consulte la [Adobe Commerce 2.4.4: No se pueden crear facturas parciales](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices) Artículo de la Base de conocimiento.

* `AC-2655_2.4.4.patch.zip`. Este parche soluciona un problema en el que los compradores no pueden agregar un producto al carro cuando la opción Permitir países no está seleccionada. Consulte la [Los usuarios no pueden agregar productos al carro de compras si no hay nada seleccionado en Permitir países](https://support.magento.com/hc/en-us/articles/5377681213325-Users-not-able-to-add-product-to-cart-if-nothing-selected-in-Allow-Countries) Artículo de la Base de conocimiento.

## Elementos destacados de Adobe Commerce 2.4.5

Busque los siguientes aspectos destacados en esta versión.

### Mejoras de seguridad

Esta versión incluye 20 correcciones de seguridad y mejoras de seguridad de la plataforma. Esta corrección de seguridad se ha backportado a Adobe Commerce 2.4.3-p3 y Adobe Commerce 2.3.7-p4.

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, algunas vulnerabilidades se pueden aprovechar para acceder a la información del cliente o para hacerse cargo de las sesiones del administrador. La mayoría de estos problemas requieren que un atacante obtenga primero acceso al administrador. Como resultado, le recordamos que siga todos los pasos necesarios para proteger a su administrador, incluidos, entre otros, estos esfuerzos:

* INCLUSIÓN EN LA LISTA DE PERMITIDOS IP
* [Autenticación de dos factores](https://devdocs.magento.com/guides/v2.4/security/two-factor-authentication.html)
* Uso de una VPN
* Uso de una ubicación única en lugar de `/admin`
* Buena higiene de las contraseñas

Consulte [Boletín de seguridad de Adobe](https://helpx.adobe.com/security/products/magento/apsb22-38.html) para el último debate sobre estas cuestiones fijas.

#### Mejoras de seguridad adicionales

Las mejoras de seguridad para esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes, incluidas:

* La compatibilidad con reCAPTCHA se ha agregado a los formularios Uso compartido de listas de deseos, Crear nueva cuenta de cliente y Tarjeta de regalo. <!-- AC-1144-->

* Los recursos ACL se han agregado al inventario. <!-- AC-1622-->

* Se ha mejorado la seguridad de la plantilla de inventario.

* La variable `MaliciousCode` se ha actualizado para que utilice la variable `HtmlPurifier` biblioteca. <!-- AC-1498-->

### Mejoras en la plataforma

* **Implementaciones locales de Adobe Commerce**: Se ha probado y confirmado que Adobe Commerce 2.4.5 es compatible con el Elasticsearch 7.17 (~7.17.0 con restricción). Los comerciantes que alojen Adobe Commerce in situ pueden utilizar Elasticsearch o OpenSearch 1.2. <!-- AC-2425-->

* **Implementaciones alojadas en la nube de Adobe Commerce**: Elasticsearch 7.11 o posterior no es compatible con las implementaciones alojadas en la nube de Adobe Commerce 2.4.5. OpenSearch es el motor de búsqueda predeterminado para implementaciones en la nube de Adobe Commerce 2.4.5.

Adobe Commerce 2.4.5 ahora es compatible

* Compositor 2.2  <!-- AC-2033-->

* TinyMCE (5.10.2). Las versiones anteriores de TinyMCE (v5.9.2 o anteriores) permitían la ejecución arbitraria de JavaScript cuando se actualizaba una URL especialmente diseñada o una imagen con una URL especialmente diseñada. <!-- AC-2039 1784 1789-->

* jQueryUI (1.13.1) <!-- AC-2544-->

* `PHPStan` (^1.5.7 con restricción) [GitHub-35315](https://github.com/magento/magento2/issues/35315)<!-- AC-2876-->

El esquema de integración de DHL se ha actualizado de la versión 6.0 a la 6.2. Esta actualización no cambiará el comportamiento del producto.  <!-- AC-3022-->

Las bibliotecas JavaScript obsoletas se han actualizado a sus versiones más recientes y se han eliminado dependencias obsoletas. Estos cambios son compatibles con versiones anteriores. <!-- AC-2036-->

#### Actualizaciones de dependencia del compositor

<!-- AC-2876 2744 2912 2577-->

Las siguientes dependencias del Compositor se han actualizado a las versiones más recientes con restricciones:

* `colinmollenhour/credis`  (1.13.0)? <!-- AC-2732-->
* `guzzlehttp/guzzle` (^7.4.2)
* `laminas/laminas-captcha` (actualizado con una restricción ^2.12) <!-- AC-2625-->
* `laminas/laminas-db`   (^2.15.0)
* `laminas/laminas-di` (^3.7.0)
* `laminas/laminas-escaper` (~2.10.0)
* `laminas/laminas-eventmanager`  (^3.5.0)
* `laminas/laminas-feed`   (^2.17.0)
* `laminas/laminas-mail` (^2.16.0)
* `laminas/laminas-mvc`  (^3.3.3)
* `laminas/laminas-server` (^2.11.1)
* `laminas/laminas-servicemanager`  (^3.11.0)
* `laminas/laminas-validator` (^2.17.0)
* `league/fly`  (2.4.3) <!-- AC-2744-->
* `monolog/monolog`  (^2.5)
* `phpmd/phpmd`   (^2.12.0)
* `phpstan/phpstan`  (^1.5.7)
* `phpunit/phpunit`  (~9.5.20)
* `php-cs-fixer` (^3.4.0) <!-- AC-2259-->
* `webonyx/graphql-php`  (14.11.6)

La variable `laminas/laminas-session`, `laminas/laminas-text`y `laminas/laminas-view` se han eliminado las dependencias. <!-- AC-2598-->

#### Otras actualizaciones y reemplazos

* El esquema de integración de DHL se ha actualizado de la versión 6.0 a la versión 6.2. <!-- AC-3022-->

* Se ha actualizado la dirección URL de puerta de enlace predeterminada para el envío de USPS para su uso `https` en lugar de `http`. <!-- AC-2426-->

* La variable `Froogaloop` la biblioteca de se ha reemplazado por el Vimeo `Player.js` biblioteca (2.16.4). <!-- AC-2527 2262-->

* La variable `grunt-eslint` La biblioteca (NPM) se ha actualizado a la versión más reciente. <!-- AC-2700-->

* La variable `jQuery Storage` las bibliotecas se han reemplazado por `julien-maurel/js-storage`. <!-- AC-2627-->

* La variable `php-cs-fixer` y `phpcs` las herramientas de análisis de código estático ahora son compatibles con PHP 8.x. <!-- AC-2259-->

* `glob.js` dependencia (actualizado con restricción a ~7.2.0) <!-- AC-2547-->

* `serve-static.js` dependencia (actualizado con restricción ~1.14.2) <!-- AC-2548-->

* `underscore.js` dependencia (NPM) (1.14.2) <!-- AC-2546 2549-->

* `moment-timezone-with-data.js` (0.5.34) <!-- AC-2545-->

* La biblioteca `jquery/jquery-cookie` se ha reemplazado por `js-cookie/js-cookie`. <!-- AC-2626-->

* La variable `jarallax.js` y `jaralax-video.js` se han actualizado las bibliotecas para utilizar la última versión de la API de REST de Vimeo. <!-- AC-2590-->

### Mejoras de rendimiento y escalabilidad

#### Optimización del indexador de precios

El rendimiento del índice principal se ha mejorado al reducir el número de índices principales de 3 a 1 para el `catalog_product_index_price_tmp` tabla. Esta mejora redujo el número de registros creados en el índice de precios al reducir la multiplicación de eSKU resultante de catálogos compartidos. El tiempo de indexación se ha reducido significativamente. <!-- MCP-653 MC-43342-->

### Actualizaciones de accesibilidad

El enfoque de esta versión ha sido crear una experiencia de tienda en Venia (PWA) que sea más perceptible, operable, comprensible y robusta. Estas mejoras incluyen:

* La información de resumen de los resultados de búsqueda ahora se anuncia a los usuarios del lector de pantalla
* Ahora se informa a los lectores de pantalla cuando se carga una nueva vista de página
* Se ha mejorado la accesibilidad del contraste y el teclado

### Adobe Sign

Los comerciantes ahora pueden permitir a los clientes firmar electrónicamente acuerdos personalizados, como documentos de garantía, acuerdos de compra y términos y condiciones, durante el cierre de compra de Adobe Commerce.

### Integración de Adobe Commerce con Adobe IMS

Los comerciantes de Adobe Commerce que tienen un Adobe ID y desean un inicio de sesión optimizado para los productos Adobe Commerce y Adobe Business pueden integrar la autenticación comercial con el flujo de trabajo de autenticación IMS de Adobe. Una vez habilitada esta integración para su tienda de comercio, cada usuario administrador debe utilizar sus credenciales de Adobe (no sus credenciales de comercio) para iniciar sesión.  Consulte [Información general sobre la integración del servicio Identity Management de Adobe (IMS)](https://experienceleague.adobe.com/docs/commerce-admin/start/admin/ims/adobe-ims-integration-overview.html).

### Cambios en la marca y el estilo

El administrador se ha actualizado para que se ajuste a la estrategia de marca de Adobe. Los cambios afectan a los encabezados, pies de página, actualizaciones de color de la cuadrícula de datos y elementos de navegación.

### B2B

Hemos optimizado los datos normalizados de la base de datos necesarios para implementar la función Catálogos compartidos . Esta reducción en la multiplicación de eSKU aumenta el rendimiento, ya que es necesario almacenar menos filas de base de datos. Anteriormente, Adobe Commerce duplicaba cada SKU del catálogo para cada catálogo compartido. Adobe Commerce ahora crea eSKU únicos para los que están asignados directamente a un catálogo compartido.

Activación del nuevo **Asignación de precios de producto directo de catálogo compartido habilitada** la opción de configuración también mejora el rendimiento del indexador de precios de producto. <!-- MCP-946-->

Esta versión incluye varias correcciones de errores. Consulte [Notas de la versión B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).

### Google Analytics

Google ha actualizado los mecanismos de seguimiento e integración de AdWords y Analytics en las aplicaciones web mediante la integración con GTag. Esta integración de la funcionalidad de Google en las páginas del sitio web amplía las oportunidades para rastrear y administrar el contenido a través de los servicios de Google. Adobe Commerce tiene un conjunto de módulos integrados que incluyen Google AdWords, Analytics, Optimizer y TagManager que aprovechan la API anterior para la integración con los servicios de Google.  En esta versión, hemos reimplementado esta integración utilizando el método GTag. &#x200B; Consulte [Migración de analytics.js a gtag.js (Universal Analytics)](https://developers.google.com/analytics/devguides/migration/ua/analyticsjs-to-gtagjs).

### GraphQL

Las mejoras de rendimiento de GraphQL incluyen:

* Los desarrolladores y administradores experimentan una reconstrucción más rápida del esquema de GraphQL de tienda unificado durante la implementación o al cambiar atributos en la producción. Los compradores también experimentan velocidades de carga de página significativamente más rápidas cuando el esquema de GraphQL debe ser reconstruido por cualquier motivo.

* Se ha agregado la capacidad de consumir la fecha y hora de caducidad del token de autorización mediante el uso de tokens web JSON (JWT) en la API de GraphQL.

* La variable `bin/magento config:set graphql/session/disable 1` permite a los comerciantes desactivar completamente la creación de cookies de sesión para todas las operaciones de GraphQL. De forma predeterminada, Adobe Commerce crea estas cookies y depende de ellas para su autorización, lo que afecta al rendimiento. En adelante, recomendamos usar tokens como la única forma de autorización para solicitudes de GraphQL. No se recomienda utilizar cookies de sesión solas o junto con tokens de autorización. Consulte [Autorización de GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/authorization-tokens.html). <!-- B2B-2204 -->

* Las cookies de sesión ahora se inician en operaciones de GraphQL usando proxies de clase solo cuando es necesario. <!-- B2B-2217 -->

* El uso de la sesión se ha eliminado de `http` procesadores de encabezado en GraphQL, como tienda, cliente o moneda. <!-- B2B-2224 -->

Consulte la [Guía para desarrolladores de GraphQL](https://devdocs.magento.com/guides/v2.4/graphql/) para obtener más información sobre estas mejoras.

### Inventario

Se ha mejorado la seguridad de la plantilla de inventario.

### Live Search

Esta versión incorpora compatibilidad con grupos de clientes B2B y precios personalizados. Live Search ahora respeta las asignaciones de productos a grupos de clientes y los precios establecidos para un grupo de clientes o catálogo compartido específico.

### Page Builder

Page Builder v.1.7.2 es compatible con Adobe Commerce 2.4.5.

El diseño de columna del Generador de páginas incluye estas mejoras: <!-- PB-547-->

* Las columnas ahora están expuestas, lo que permite a los usuarios controlar la configuración de columna en la tienda.

* El cambio de tamaño de las columnas ahora es compatible con el ajuste activado por las acciones del usuario.

### Pagos

Apple Pay ya está disponible para todos los comerciantes que ejecutan implementaciones con Servicios de pago habilitado. Este método de pago no requiere que los compradores introduzcan sus datos de tarjeta de crédito o débito. Apple Pay está disponible en la página de detalles del producto, el minicarro, el carro de compras y el flujo de trabajo de cierre de compra. Los comerciantes pueden activar esta función.

#### PayPal

* Los comerciantes de España e Italia pueden ofrecer PayPal Pay Later a los compradores.  <!-- AC-2521-->

* Las vistas previas de los botones PayPal, Crédito y Pagar más tarde ya están disponibles en Administración para las páginas de producto, minicarro, carrito de compra y productos. Las vistas previas revelan el aspecto que tendrán estos botones cuando estén activados y procesados en la tienda.

#### Braintree

* El Braintree ha interrumpido la integración de protección contra fraudes de KOUNT. Se ha eliminado de la base de código de Adobe Commerce.

* La variable **Solicitar siempre 3DS** se ha agregado a la opción Administración.

### PWA Studio

PWA Studio v.12.5.x es compatible con Adobe Commerce 2.4.5.

Las nuevas funciones de esta versión incluyen:

* Los datos de comportamiento del comprador se recopilan en el almacén del PWA Studio para los servicios de análisis web.  Los comerciantes ahora pueden suscribirse y ampliar estos eventos según sea necesario.

* Los comerciantes ahora pueden seleccionar un servicio para implementarlo desde la Administración (Administrador de etiquetas de Google).

Para obtener información sobre las mejoras y correcciones de errores, consulte [Versiones de PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [Compatibilidad de versiones](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de versiones de PWA Studio y sus versiones principales compatibles con Adobe Commerce.

### Herramienta de compatibilidad de actualización

Las mejoras incluyen:

* La validación de firma de método ahora identifica cambios incompatibles dentro de un método o una firma de constructor. <!-- AC-2632-->

* La validación del esquema de la base de datos ahora identifica los cambios e incompatibilidades del esquema. <!-- AC-58-->

* La validación de la configuración de ID ahora verifica las referencias a clases principales que no son de API y que se han eliminado o están en desuso en `di.xml` y preferencias para clases principales e interfaces.  <!-- AC-438-->

* La UCT ahora identifica las desaprobaciones de código y proporciona recomendaciones específicas para resolver cada problema.  <!-- AC-3147-->

## Problemas solucionados

Se han corregido cientos de problemas en el código principal de Adobe Commerce 2.4.5.

### Instalación, actualización, implementación

<!-- ACP2E-49-->

* Ahora puede cambiar el nombre de un parche de datos y agregar el antiguo nombre de la clase como un alias en el `patch_list` tabla de base de datos. Adobe Commerce ahora comprueba si ya existían alias de parches de datos en la base de datos antes de aplicar el parche. Anteriormente, Adobe Commerce generaba un error con estas condiciones.

<!-- AC-3036-->

* Adobe Commerce ya no genera una excepción cuando intenta cambiar la dirección URL de administración a una dirección URL personalizada desde el administrador. Anteriormente, después de cambiar la dirección URL de administración, no se podía iniciar sesión. [GitHub-35416](https://github.com/magento/magento2/issues/35416)

<!-- AC-1480-->

* Los comerciantes ahora pueden actualizar correctamente de una implementación de Adobe Commerce 2.4.2 con Klarna a Adobe Commerce 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- AC-2905-->

* La ruta a Adobe Commerce Analytics ya no está codificada. Anteriormente, esta ruta codificada provocaba conflictos cuando se instalaban varias instancias de Adobe Commerce en un servidor. [GitHub-29373](https://github.com/magento/magento2/issues/29373)

### Accesibilidad

<!-- AC-2786-->

* La variable **Bolsa de compra** ahora proporciona una indicación de estado mediante programación o texto. Se informa a los usuarios del lector de pantalla que al hacer clic en este botón se expandirá otro contenido o que el contenido asociado se expandirá o contraerá. Anteriormente, este botón no proporcionaba una indicación de estado mediante programación o texto.

<!-- AC-2496-->

* Información de Pago Los elementos de texto o imágenes de texto de la opción de tarjeta de crédito de la tarjeta de crédito ahora cumplen con el coeficiente mínimo de contraste de color de WCAG 2.0 de 4.5:1 para texto estándar de 18pt (24px) o 14pt (19px) si está en negrita. Anteriormente, no cumplían la relación de contraste esperada.

<!-- AC-2483-->

* **Libreta de direcciones**  >  **Comunicación**  > **Información de la cuenta** los indicadores de enfoque personalizados ahora proporcionan una relación de contraste de al menos 3:1 con respecto al color de fondo.

<!-- AC-2486-->

* **Filtro** y **Ordenar** Ahora, el texto del botón cumple con la relación de contraste de color mínima requerida para WCAG 2.0 de 4.5:1 para el texto estándar de 18 pt (24 px) o 14 pt (19 px) si está en negrita. Anteriormente, los botones de navegación para carruseles no cumplían estos requisitos mínimos de contraste.

<!-- AC-2499-->

* Los lectores de pantalla anuncian la palabra &quot;Venia&quot; solo una vez al navegar a los encabezados y pies de página de Venia. Anteriormente, la misma palabra se anunciaba dos veces consecutivamente.

<!-- AC-2585-->

* Los botones que muestran desplegables de déclencheur ahora proporcionan información a los lectores de pantalla para indicar su estado expandido o contraído y sus nombres accesibles.

<!-- AC-2482-->

* Se informa a los usuarios del lector de pantalla cuando se procesa una nueva vista de página. Anteriormente, cuando se cambiaba el título de una página, no se anunciaba el cambio.

### Adobe Stock

<!-- AC-2926-->

* Los usuarios ahora pueden cerrar sesión correctamente en Adobe Stock.

### Paquete de productos

<!-- ACP2E-465-->

* Ahora puede usar la variable `PUT /V1/products` para actualizar los atributos de precio de producto para un sitio web específico. Anteriormente, si se anulaban algunos atributos de producto para una vista de tienda específica, no se podía actualizar un atributo de precio para ese producto en la misma vista de tienda.

<!-- ACP2E-780-->

* Adobe Commerce ahora calcula correctamente el total del carro de compras de un producto de paquete cuando se aplica la regla de subselección de producto.

### Caché

<!-- ACP2E-684-->

* La caché de página completa ya no se muestra como deshabilitada en el Administrador cuando se vacía la caché de Adobe Commerce y `use_stale_cache` está activada.

<!-- AC-2410-->

* Los marcadores de implementación de New Relic ahora funcionan según lo esperado cuando se descarga la caché. [GitHub-32649](https://github.com/magento/magento2/issues/32649)

### Carro de compras y cierre de compra

<!-- ACP2E-455-->

* La ventana emergente de búsqueda de direcciones en el paso de facturación del flujo de trabajo de cierre de compra ya no causa errores DOM.

<!-- ACP2E-368-->

* La variable `addProductsToCart` la mutación ahora funciona correctamente con varios productos. Anteriormente, esta consulta devolvía el primer producto con un subtotal preciso, pero devolvía un subtotal de 0 para otros productos.

<!-- ACP2E-245-->

* Las excepciones de permisos ahora se gestionan para productos restringidos que se agregan mediante SKU. Ahora, a los compradores se les envía un mensaje adecuado en la tienda y el campo de cantidad de la tabla de errores está desactivado. Anteriormente, Adobe Commerce arrojaba una excepción como esta: `There has been an error processing your request`.

<!-- ACP2E-148-->

* La consulta SQL que actualiza las comillas afectadas después de desactivar una regla de precio del carro de compras se ha optimizado para evitar bloquear toda la tabla de cotización.

<!-- ACP2E-98-->

* Los compradores con uso compartido de cuentas globales ya no tienen que iniciar sesión de nuevo en un sitio web secundario en una implementación multisitio cuando el cierre de compra del invitado está deshabilitado. Los datos del cliente ahora se cargan cuando el comprador navega al subdominio. Ya no se le pide al comprador que vuelva a iniciar sesión y se muestra el contenido anterior del carro de compras.

<!-- ACP2E-94-->

* Los valores desplegables de dirección en el flujo de trabajo de cierre de compra ya no cambian para los elementos restantes de una oferta cuando se elimina un solo artículo de dirección de cantidad en un cierre de compra con varias direcciones. Anteriormente, cuando se eliminaba un producto de una cotización durante el cierre de compra con varias direcciones, el valor desplegable de direcciones cambiaba a predeterminado para todos los productos.

<!-- ACP2E-42-->

* La variable `cart` la consulta ya no devuelve respuestas nulas cuando un producto no está en existencias. Un nuevo `errors` El elemento que contiene el mensaje de error se introdujo en la respuesta. Anteriormente, cuando se ejecutaba una consulta con un producto sin existencias, Adobe Commerce mostraba una `null` en la variable `items` en la respuesta. Consulte [consulta del carro de compras](https://devdocs.magento.com/guides/v2.4/graphql/queries/cart.html).

<!-- ACP2E-38-->

* Los métodos de envío ahora están disponibles según lo esperado cuando un comprador invitado crea una cuenta después de agregar un producto al carro antes de continuar con el cierre de compra. Anteriormente, cuando un invitado añadía un producto al carro antes de crear una cuenta, no había métodos de envío disponibles durante el cierre de compra. Después de agregar otros productos al carro, los métodos de envío quedaron disponibles.

<!-- AC-2564-->

* Los compradores ahora pueden agregar productos al carro cuando no hay opciones en el **Permitir países** se han seleccionado.

<!-- AC-2622-->

* El contenido del carro de compras y el estado de inicio de sesión ahora se recargan según lo esperado después de que se agote el tiempo de espera de una sesión **Habilitar persistencia** está configurado como **Sí**. [GitHub-35182](https://github.com/magento/magento2/issues/35182)

<!-- AC-428-->

* Los subtotales del minicarro de compras ahora se actualizan correctamente cuando un comprador navega de la página de envío a la página del carro de compras en el flujo de trabajo de cierre de compra para un pedido con varias direcciones de envío. Anteriormente, el subtotal se duplicaba.

<!-- AC-2619-->

* El minicarro ahora muestra los productos agregados anteriormente después de un tiempo de espera de sesión cuando **Habilitar persistencia** está habilitado . [GitHub-35183](https://github.com/magento/magento2/issues/35183)

<!-- ACP2E-707-->

* Los comerciantes ahora pueden crear una nota de crédito en la que  **Envío de reembolsos (incl. Impuesto)** se establece en -0,01 y ahora puede establecer esta cantidad en 0. Anteriormente, la nota de crédito no se podía crear bajo estas condiciones.

### Regla de precios del carro de compras

<!-- ACP2E-680-->

* La variable `Parent Only` el ámbito de atributos ahora se utiliza correctamente en la condición Regla de carro de compras .

### Catálogo

<!-- ACP2E-758-->

* Las claves de la dirección URL del producto ahora permanecen sin cambios al actualizar el nombre del producto mediante `PUT /V1/products/` para ver una tienda. Anteriormente, se generaba una nueva clave de URL basada en el nuevo nombre de producto y asignada al producto, que sobrescribía la clave de URL en esa vista de tienda.

<!-- ACP2E-712-->

* Los productos de ventas adicionales basados en reglas ya no se muestran dos veces en la página del producto.

<!-- ACP2E-703-->

* Añadir un producto a una categoría desde el widget de producto Page Builder definido en modo carrusel ya no déclencheur una recarga de página.

<!-- ACP2E-685-->

* Productos definidos en **No visible individualmente** ya no aparece en los resultados de Búsqueda avanzada del catálogo.

<!-- ACP2E-679-->

* Los atributos de paquete dinámicos ahora se actualizan correctamente en la página Actualización masiva de atributos. Anteriormente, la variable **SKU dinámica** el atributo se ha establecido en **Sí** aunque estuvieran desactivados en la página Actualización masiva.

<!-- ACP2E-673-->

* Las reglas del catálogo ahora se aplican correctamente utilizando indexadores incrementales en lugar de un reindexado completo.

<!-- ACP2E-657-->

* Ahora puede cambiar correctamente entre las vistas de lista y cuadrícula de las listas de productos de varias páginas. Anteriormente, cuando se navegaba a la última página de una vista de lista de productos de varias páginas antes de cambiar a la vista de cuadrícula, Adobe Commerce mostraba este error: `Unfortunately there are no products in this category on our website currently`.

<!-- ACP2E-635-->

* Los informes del Registro de acciones de administración ahora muestran los ID de producto actualizados y la información de estado actualizada según lo esperado.

<!-- ACP2E-633-->

* Los déclencheur ahora se restauran según lo esperado a la variable `catalogrule_product_price` después de un reindexado completo. Anteriormente, los déclencheur se eliminaban del `catalogrule_product_price` tabla después de una `catalogrule_rule` o `catalogrule_product` reindexación completa.

<!-- ACP2E-629-->

* Las reglas de categoría que se utilizan para asignar productos a categorías ya no cambian aleatoriamente.

<!-- ACP2E-522-->

* Adobe Commerce ya no genera un error cuando una regla de categoría asigna un producto a una categoría que luego se ordena en una implementación multisitio.

<!-- ACP2E-516-->

* Un administrador con acceso restringido al ámbito ya no puede actualizar las categorías globalmente. Anteriormente, cuando varios sitios web utilizaban la misma categoría pero distintos productos y un administrador con permiso restringido a un almacén cambiaba de producto en la categoría, la selección de productos también cambiaba para otras tiendas.

<!-- ACP2E-508-->

* La página de detalles del producto ahora muestra el precio correcto cuando se utiliza una moneda no predeterminada para una configuración regional específica. Anteriormente, los números no se localizaban como se esperaba en la tienda.

<!-- ACP2E-468-->

* Los productos ahora se pueden habilitar mediante una actualización programada.

<!-- ACP2E-392-->

* El mismo mensaje de error ahora se muestra en la API y en la tienda al intentar recuperar los precios de nivel de un producto con registros duplicados. Anteriormente, `PUT /V1/products/tier-prices` se ha devuelto un mensaje de error incorrecto.

<!-- ACP2E-345-->

* Adobe Commerce ahora proporciona mensajes de error de validación cuando intenta añadir una clave de URL de producto con un guión final. También hay disponible información informativa sobre herramientas.

<!-- ACP2E-267-->

* El nuevo `ConfigurableWishlistItem.configured_variant` el campo ha reemplazado al `ConfigurableWishlistItem.child_sku` campo . Este último campo activaba un error interno cuando una lista de deseos de cliente contenía un producto configurable no configurado.

<!-- ACP2E-84-->

* Las reescrituras de URL ahora solo se generan para las tiendas seleccionadas durante la actualización de atributos masivos para cambiar la visibilidad del producto. Anteriormente, la actualización de atributos masivos creaba una reescritura de URL para el almacén incorrecto.

<!-- ACP2E-39-->

* Cuando la variable `Synchronize widget products with backend storage` está activada, Adobe Commerce agrega datos de vista de productos recientemente a la variable `catalog_product_frontend_action` tabla de base de datos. Incluye el ID de cliente o visitante al añadir registros. La variable `recently_viewed_product` ahora está vacía si el ID de cliente y el ID de visitante son nulos. Como resultado, cuando la variable `customer/section/load` Se envía una solicitud de Ajax, Adobe Commerce puede filtrar correctamente los productos vistos recientemente en función del ID de cliente o visitante. Anteriormente, la respuesta incluía todos los datos disponibles en la variable `catalog_product_frontend_action` base de datos porque no se ha comprobado si hay un ID de visitante o cliente vacío.

<!-- ACP2E-28-->

* Reglas de categoría con un `Quantity` para productos configurables ahora funcionan correctamente cuando se implementa el ensayo. Anteriormente, cuando los productos tenían valores diferentes para `row_id` y `entity_id` en el `catalog_product_entity` debido a las actualizaciones de ensayo, Visual Merchandiser **Hacer coincidir producto por regla** no filtraba correctamente los productos.

<!-- ACP2E-13-->

* Los administradores ahora pueden cambiar las opciones de producto configurables en un carro de compras desde el panel de diapositivas de administración. Anteriormente, el panel de diapositivas no funcionaba correctamente.

<!-- AC-1705-->

* La caché de la página ahora se borra como se espera para el producto principal configurable cuando se guardan los cambios en un producto secundario. Anteriormente, como la caché no se borraba, los cambios no se seleccionaban en la página de producto de configuración de tienda. [GitHub-34508](https://github.com/magento/magento2/issues/34508)

<!-- AC-711-->

* Las listas de productos ahora se representan correctamente en Admin. Anteriormente, la lista de productos no se representaba y Adobe Commerce mostraba este error:  `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1214-->

* Los precios del producto son ahora los mismos en la página de detalles del producto y en la búsqueda de tiendas en implementaciones de varias tiendas después de que el ámbito de precios del catálogo cambie de **sitio web** a **global**. Anteriormente, la página Resultados de la búsqueda en el catálogo mostraba la variable **global** y la página de detalles del producto mostraba la variable **sitio web** precio. [GitHub-34074](https://github.com/magento/magento2/issues/34074)

<!-- ACP2E-316-->

* La navegación en capas ahora muestra los productos con los precios más altos según lo esperado cuando **Cálculo del paso de navegación por precios** está configurado como **Manual**.

<!-- ACP2E-711-->

* Ahora puede cambiar el límite de productos por página que se muestra dentro de una categoría al **Recordar paginación de categoría**  está activada. Anteriormente, la cookie `form_key` y la interfaz de usuario `form_key` y Adobe Commerce mostró este error:  `Invalid Form Key. Please refresh the page`.

<!-- ACP2E-807-->

* El indexador EAV ahora procesa los ID de producto como tipo `int` para evitar posibles problemas de rendimiento.

<!-- AC-2597-->

* Ahora se genera correctamente una nueva caché de producto después de agregar una nueva imagen con un nombre que contiene &#39;.&#39;  a un producto, guarde el producto y limpie la caché de imágenes. [GitHub-32699](https://github.com/magento/magento2/issues/32699)

<!-- AC-1205-->

* Adobe Commerce ahora muestra un mensaje de error como se espera cuando intenta crear un atributo desde la página del producto sin completar el campo Administrador . [GitHub-33099](https://github.com/magento/magento2/issues/33099)

* Las clasificaciones de productos ahora son correctas en todas las listas de productos de catálogo cuando la página principal contiene varias listas de catálogo. [GitHub-33867](https://github.com/magento/magento2/issues/33867)

### Contenido de CMS

<!-- ACP2E-106-->

* Los comerciantes ya no pueden editar una actualización programada activa desde la página de edición de entidades.

<!-- ACP2E-65-->

* Un administrador con permisos restringidos ahora puede ver una página de CMS en la jerarquía de CMS después de una actualización programada.

### Productos configurables

<!-- ACP2E-687-->

* Adobe Commerce ahora muestra el precio de producto correcto para un producto configurable con una opción seleccionada después de cambiar su cantidad en la página de detalles del producto. Anteriormente, el precio se restablecía al valor inicial después de cambiar la cantidad.

<!-- ACP2E-461-->

* La variable `products` query ahora recupera los precios de los productos configurables que reflejan con precisión el **Mostrar fuera de existencias** configuración. Anteriormente, la consulta no devolvía precios precisos.

<!-- ACP2E-412-->

* Las opciones configurables ahora están vinculadas a productos configurables que se crean en la Administración mediante `POST /V1/configurable-products/configurable1/child`.

<!-- ACP2E-360-->

* Los atributos de selección múltiple ahora se guardan correctamente durante la edición del producto. Anteriormente, Adobe Commerce guardaba la opción predeterminada para los atributos no seleccionados, así como los atributos seleccionados al guardar un producto.

<!-- ACP2E-55-->

* Adobe Commerce ahora muestra los atributos configurables como se espera durante la creación de `select` mediante una secuencia de comandos de parche. Anteriormente, los atributos globales elegibles estaban ocultos.

<!-- AC-2521-->

* La variable `addConfigurableProductsToCart` ahora se puede utilizar la mutación para añadir productos configurables con opciones personalizadas. Anteriormente, Adobe Commerce generaba este error: `Magento 2.3.4 graphql Notice: Undefined index: option_value in /var/www/html/mg234/vendor/magento/module-configurable-product-graph-ql/Model/Resolver/ConfigurableCartItemOptions.php on line 62`. [GitHub-28860](https://github.com/magento/magento2/issues/28860)

<!-- ACP2E-43-->

* Adobe Commerce ahora muestra correctamente el estado de existencias de un producto configurable, las configuraciones disponibles y el precio mostrado cuando una actualización programada cambia la disponibilidad de uno de los productos secundarios configurables del producto. Anteriormente, cuando un producto configurable tenía dos elementos secundarios y se deshabilitaba la disponibilidad de un producto secundario con una actualización programada, el estado de existencias del producto principal se mostraba incorrectamente como **Fuera de existencias** cuando la actualización estaba activa, una vez completada la actualización, el precio mostrado y la disponibilidad de sus configuraciones se calcularon incorrectamente.

* Ahora puede volver a ordenar productos configurables con opciones personalizadas opcionales. Anteriormente, los intentos de reordenación fallaban y esto significaba que se mostraba este error:  `Some of the selected options are not currently available`. [GitHub-35409](https://github.com/magento/magento2/issues/35409)

<!-- AC-959-->

* La variable `addConfigurableProductsToCart` la mutación ahora funciona según lo esperado con varios productos. Anteriormente, se devolvía información de producto incorrecta o se devolvía un mensaje de error no válido. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

### Cliente

<!-- ACP2E-390-->

* Adobe Commerce ahora muestra correctamente los atributos del sistema EAV predefinidos según la configuración del sitio web en la tienda. Anteriormente, los atributos de cliente a nivel de sitio web que estaban habilitados para un sitio web y deshabilitados para otro se mostraban como habilitados para ambos.

### Segmento de cliente

<!-- ACP2E-473-->

* Las reglas de productos relacionados específicas del segmento del cliente ahora funcionan según lo esperado. El problema se ha solucionado llamando a un método para agregar una relación visitante-segmento para un sitio web específico. Anteriormente, los segmentos de esta regla se recuperaban solo a partir de clientes y sitios web registrados.

### Descargable

<!-- MC-40675-->

* Ahora puede quitar vínculos y archivos de ejemplo de un producto descargable. [GitHub-31887](https://github.com/magento/magento2/issues/31887)

### Correo electrónico

<!-- ACP2E-717-->

* Los correos electrónicos emitidos por el sistema ahora se envían correctamente a los destinatarios con &quot;.-&quot; en su dirección de correo electrónico.

<!-- ACP2E-184-->

* Los clientes ahora reciben recordatorios por correo electrónico sobre sus carros abandonados según la programación correcta. El nuevo `TIMESTAMPDIFF(DAY, ,)` La función SQL ha reemplazado a la función `TO_DAYS()` y calcula la diferencia en las marcas de tiempo en función de la fecha y la hora. Anteriormente, los recordatorios de correo electrónico no se enviaban por programación debido al cálculo incorrecto de dos valores de fecha y hora de abandono del carro de compras (cualquier zona horaria) y hora del servidor (UTC).

<!-- AC-776-->

* Adobe Commerce ahora muestra un mensaje de error en la página Envío cuando un comprador introduce un formato de correo electrónico no válido después de que el comprador hace clic en **Realizar pedido**. Anteriormente, el mensaje de error se mostraba en la página Pago . [GitHub-33590](https://github.com/magento/magento2/issues/33590)

### Marcos

<!-- ACP2E-658-->

* La variable `bin/magento setup:config:set` ya no anula los prefijos de ID de caché establecidos en `app/etc/env.php`.

<!-- ACP2E-517-->

* La variable `bin/magento setup:static-content:deploy -s compact` ahora incluye estilos de temas secundarios como se espera. Anteriormente, los archivos CSS de temas no estaban presentes en la tienda después de la implementación.

<!-- AC-1999-->

* Se ha añadido un nuevo sniff para comprobar si se utilizan barras de cierre en `void` elementos.

<!-- AC-2896-->

* Adobe Commerce ya no genera un error SQL después de asignar un nuevo origen a un producto y cambiar su cantidad. [GitHub-35262](https://github.com/magento/magento2/issues/35262)

<!-- AC-401-->

* El orden de clasificación de atributos ahora funciona según se especifica en la `di.xml` después de la actualización.

<!-- AC-1716-->

* La variable `updateCartCurrency` ahora establece una cadena en lugar de un objeto dentro del objeto cart. Anteriormente, Adobe Commerce no cargaba una cotización utilizando `getQuote` porque la variable `updateCartCurrency` define un objeto en lugar de una cadena dentro del objeto cart. [GitHub-34199](https://github.com/magento/magento2/issues/34199)

<!-- AC-2428-->

* Ya no se producen avisos de desaprobación en las pruebas unitarias debido a`\DateTimeFormatter::formatObject()`. Este método ahora funciona como se espera con valores numéricos para `$format`.

<!-- AC-2893-->

* Adobe Commerce ya no muestra un `preg_replace()` en el Administrador. El tercer argumento (`$subject`) es ahora de tipo `array|string` en lugar de `bool`.

<!-- AC-2583-->

* La variable `isFreeShipping` ahora devuelve un entero en lugar de un booleano.[GitHub-35164](https://github.com/magento/magento2/issues/35164)

<!-- AC-2855-->

* Adobe Commerce ya no genera el siguiente error al crear un complemento para cualquier método de clase `vendor/magento/module-backend/Model/Menu.php`: `Error: Call to undefined method ReflectionUnionType::getName()`. [GitHub-35292](https://github.com/magento/magento2/issues/35292)

<!-- AC-1518-->

* Adobe Commerce ahora devuelve un error 404 en lugar de un error 500 al navegar a `/checkout/sidebar/updateItemQty/?item_qty=error` en la tienda. Anteriormente, se producía este error:  `Warning: A non-numeric value encountered in /vendor/magento/module-checkout/Controller/Sidebar/UpdateItemQty.php on line 69`. [GitHub-34380](https://github.com/magento/magento2/issues/34380)

<!-- ACP2E-847-->

* Adobe Commerce ya no es déclencheur a `trim(): Passing null to parameter #1 ($string) of type string is deprecated` cuando la conexión AMPQ está configurada sin la configuración SSL.

<!-- AC-2414-->

* Se ha corregido la variable `longblog` definición de base de datos a `long blob`. [GitHub-35108](https://github.com/magento/magento2/issues/35108)

<!-- AC-1526-->

* El texto de cierre de compra que contiene comillas simples ahora se puede traducir. [GitHub-34319](https://github.com/magento/magento2/issues/34319)

<!-- AC-2505-->

* A `TypeError` en `magento2/app/code/Magento/Security/Model/AdminSessionsManager.php` se ha corregido de `int` a `string`.  [GitHub-34415](https://github.com/magento/magento2/issues/34415)

<!-- AC-2511-->

* `.htpasswd` se ha agregado a ubicaciones prohibidas en la variable `nginx` archivo de configuración. [GitHub-35150](https://github.com/magento/magento2/issues/35150)

<!-- AC-2013-->

* El tiempo de carga de las páginas de la lista de productos de la categoría se ha mejorado añadiendo `Magento_Ui/js/core/app` como `deps` a `app/code/Magento/Ui/view/frontend/requirejs-config.js`. [GitHub-34847](https://github.com/magento/magento2/issues/34847)

<!-- AC-2101-->

* La variable `ProductRepository.php:get` ahora devuelve claves de caché una vez. Anteriormente, se devolvían dos veces. [GitHub-34958](https://github.com/magento/magento2/issues/34958)

<!-- AC-2507-->

* Se ha agregado un mensaje de error a una nueva excepción que se creó en el controlador de excepciones para trabajos cron. [GitHub-34941](https://github.com/magento/magento2/issues/34941)

<!-- AC-2247-->

* Los archivos Léame para la variable `GraphQl-GroupedProductGraphQl` se han actualizado. [GitHub-34951](https://github.com/magento/magento2/issues/34951)

<!-- AC-2079-->

* Las páginas de orden de impresión de tienda/factura/nota de crédito ya no muestran el logotipo predeterminado de Luma en lugar del logotipo especificado para su visualización en el sitio web. [GitHub-34942](https://github.com/magento/magento2/issues/34942)

### Correcciones generales

<!-- AC-2883-->

* Definición del tamaño máximo de sesión en 0 (administrador) **Tienda**  >  **Configuración**  >  **Configuración - Avanzada**) ya no cierra la sesión del administrador. [GitHub-35312](https://github.com/magento/magento2/issues/35312)

<!-- ACP2E-675-->

* Los ajustes de configuración de los atributos de la dirección del cliente ahora se cargan correctamente según el sitio web al que se asigna al cliente cuando agrega una nueva dirección del cliente desde el administrador asignado a un sitio web no predeterminado.

<!-- ACP2E-630-->

* La creación de categorías ahora está bloqueada para un administrador restringido en la página Categoría y en la página Edición de productos. Anteriormente, la creación de categorías estaba bloqueada en la página de categorías, pero seguía siendo posible a través de la página de edición de productos.

<!-- ACP2E-448-->

* Adobe Commerce ya no genera una excepción cuando se agrega un producto de paquete a través de Page Builder.

<!-- ACP2E-427-->

* Ahora, las categorías se pueden seleccionar del árbol de categorías como condición para un segmento de cliente.

<!-- ACP2E-381-->

* Ahora puede crear una cuenta de cliente en un dispositivo iOS con el apóstrofo inclinado (&#39;) en el primer, medio o apellido. Anteriormente, solo se permitía el apóstrofo recto y el uso del apóstrofo inclinado predeterminado iOS 11+ daba como resultado un `Name is not valid!` error.

<!-- ACP2E-378-->

* La variable `products` La consulta ahora devuelve información del producto que refleja con precisión la configuración &quot;Mostrar productos relacionados&quot;. La variable `related_products`, `upsell_products`y `crosssell_products` Los campos de la interfaz de producto de GraphQL ahora se resuelven de acuerdo con las configuraciones Mostrar productos relacionados, Mostrar productos de venta superior y Mostrar productos de venta cruzada , respectivamente.

<!-- ACP2E-234-->

* La variable **Definir producto como nuevo a partir de la fecha** ahora muestra la fecha correcta cuando **Definir producto como nuevo** se configura mediante una actualización masiva de productos. Anteriormente, **Definir producto como nuevo a partir de la fecha** se muestra como **1 de enero de 1970**.

<!-- ACP2E-277-->

* A los usuarios con funciones restringidas ya no se les concede automáticamente acceso a nuevos módulos.

<!-- ACP2E-50-->

* Las reglas de objetivo basadas en categorías solo muestran productos de la categoría que se declara en la regla. Anteriormente, las reglas de Productos relacionados mostraban productos de categorías asignadas al producto y no definidas en la regla.

<!-- ACP2E-16-->

* Las condiciones de reglas de producto relacionadas ahora funcionan como se espera con los productos que contienen `multiselect` atributos.

<!-- AC-2719-->

* Los comerciantes ahora pueden agregar un atributo de precio de nivel (`tier_price`) para comparaciones de productos. Anteriormente, la página de comparaciones de productos se bloqueaba cuando la variable **Comparable en tienda** para este atributo estaba habilitado. [GitHub-35244](https://github.com/magento/magento2/issues/35244)

<!-- AC-2441-->

* Adobe Commerce ahora muestra un mensaje de error al establecer un dominio de cookie no válido (**Tienda**  > **Configuraciones**  >  **Web**  >  **Dominio de la cookie de configuración de cookie predeterminada**). Anteriormente, el sitio web se bloqueaba. [GitHub-35048](https://github.com/magento/magento2/issues/35048)

<!-- AC-2765-->

* Adobe Commerce ya no genera un error cuando un administrador con funciones incluidas en un único sitio web agrega productos a Elementos de contenido mediante PageBuilder. Anteriormente, Adobe Commerce generaba un error SQL.

<!-- AC-197-->

* Se ha añadido la validación a la segunda línea de la dirección de la calle en las páginas de edición y adición de direcciones. Ahora se aplican las longitudes de texto mínimo y máximo especificadas en el segundo.

<!-- ACP2E-798-->

* Adobe Commerce ya no genera el siguiente error durante la creación de una regla de catálogo en Admin después de la actualización: `A technical problem with the server created an error. Try again to continue what you were doing. If the problem persists, try again later`.

<!-- AC-2445-->

* Adobe Commerce ya no genera un error al activar el  **Consulte aquí para vincular una fuente RSS a su lista de deseos** casilla de verificación antes de hacer clic en **Compartir lista de deseos**. [GitHub-34998](https://github.com/magento/magento2/issues/34998)

<!-- AC-2019-->

* El título del **Mostrar contraseña** La casilla de verificación (Inicio de sesión del cliente, Registro del cliente, Edición del cliente (sección Cambiar contraseña ) y Formularios de nueva contraseña del conjunto de clientes) ya se puede traducir. [GitHub-34857](https://github.com/magento/magento2/issues/34857)

<!-- ENGCOM-9062-->

* Se han actualizado las etiquetas y las descripciones de comentarios de `app/code/Magento/NewRelicReporting/etc/adminhtml/system.xml`. [GitHub-31947](https://github.com/magento/magento2/issues/31947)

<!-- ENGCOM-8600-->

* Eliminado innecesario `csp_whitelist.xml` archivos. [GitHub-30607](https://github.com/magento/magento2/issues/30607)

### Tarjetas de regalo

<!-- AC-560-->

* `products` las consultas ahora devuelven correctamente los datos del producto que contienen productos de tarjetas de regalo con un `gift-card` Clave de URL.

### GraphQL

<!-- AC-2361-->

* Falta `price_range` se ha agregado al GraphQL `BundleItemOption` tipo . [GitHub-35010](https://github.com/magento/magento2/issues/35010)

<!-- AC-2367-->

* La variable `products` la consulta ya no devuelve atributos como una agregación cuando la variable **Usar en resultados de búsqueda** La configuración de Navegación por capas está deshabilitada. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-1760-->

* A `price_including_tax` se ha añadido a `CartItemPrices`. [GitHub-29057](https://github.com/magento/magento2/issues/29057)

<!-- AC-2520-->

* La variable `new_from_data` y `new_to_datefields` en `ProductInterface` ya no son obsoletos. [GitHub-34783](https://github.com/magento/magento2/issues/34783)

<!-- AC-2364 1456-->

* La variable `categories` query ya no genera una excepción al obtener una lista de categorías una de las cuales contiene una imagen que no se puede encontrar en el sistema de archivos. Anteriormente, Adobe Commerce lanzó esta excepción: `Category image not found`. [GitHub-34266](https://github.com/magento/magento2/issues/34266)

<!-- AC-2368-->

* La variable `products` la consulta ahora devuelve `category_uid` como agregación según lo esperado. [GitHub-32557](https://github.com/magento/magento2/issues/32557)

<!-- AC-2373-->

* La variable `updateCartItems` la mutación ahora elimina los productos tal como se espera cuando el inventario de productos ha alcanzado la cantidad máxima de existencias. [GitHub-30220](https://github.com/magento/magento2/issues/30220)

<!-- AC-2366 734 MC-42964 -->

* La variable `urlResolver` La consulta ahora resuelve correctamente el delimitador de ruta (/) cuando varias páginas de inicio tienen el mismo identificador. Anteriormente, la consulta no resolvía el delimitador y devolvía nulo. [GitHub-33615](https://github.com/magento/magento2/issues/33615)

<!-- AC-1881-->

* `customer` las consultas ahora recuperan opciones de selección múltiple de productos de paquete como se espera al consultar los pedidos. [GitHub-34717](https://github.com/magento/magento2/issues/34717)

<!-- AC-1668-->

* Las sesiones de Adobe Commerce ya no finalizan después de realizar una solicitud de GraphQL. Anteriormente, la variable `ClearCustomerSessionAfterRequest` plugin ha cerrado la sesión del comprador. [GitHub-34550](https://github.com/magento/magento2/issues/34550)

<!-- AC-818-->

* La variable `products` la consulta ya no devuelve `price_range` para productos configurables afectados por variantes deshabilitadas. [GitHub-33629](https://github.com/magento/magento2/issues/33629)

<!-- ACP2E-634-->

* Rango de precios de producto configurable en `products` las respuestas de consulta ahora se calculan correctamente cuando la variable **Mostrar productos fuera de existencias** está habilitado. Anteriormente, las opciones desactivadas se tenían en cuenta en el cálculo del precio mínimo y máximo.

<!-- ACP2E-531-->

* La variable `products` La consulta ahora devuelve correctamente varias categorías filtradas al ordenar por posición.

<!-- ACP2E-499-->

* `setShippingAddressesOnCart` las solicitudes de ahora validan correctamente los ID de región. Anteriormente, Adobe Commerce generaba un error al utilizar el ID de región en lugar del código de región.

<!-- ACP2E-470-->

* `products` ahora, las consultas devuelven solo las categorías asociadas con el almacén pasado en la solicitud.

<!-- ACP2E-363-->

* La variable `categoryList` La consulta ahora devuelve resultados que reflejan la categoría raíz del almacén consultado cuando se especifica en el encabezado. Anteriormente, las categorías de la categoría raíz predeterminada se incluían en los resultados aunque se especificara otro almacén en el encabezado.

<!-- AC-1955-->

* La variable `products` la consulta ya no devuelve atributos como una agregación cuando la variable **Usar en la navegación por capas de resultados de búsqueda** está desactivado. [GitHub-33318](https://github.com/magento/magento2/issues/33318)

<!-- AC-2365-->

* La variable `cart` query ahora devuelve solo un método de pago para pedidos libres. Anteriormente, todos los métodos de pago activos se devolvían en la respuesta de consulta. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

<!-- AC-210-->

* Se ha agregado un complemento antes de la función `collectQuoteTotals` para asegurarse de que los créditos de la tienda no se aplican varias veces.

<!-- ACP2E-636-->

* La variable `generateCustomerTokenAsAdmin` la mutación ahora recupera los tokens del cliente según lo esperado. Anteriormente, no se devolvían tokens y se devolvía este error: `Customer email provided does not exist`.

<!-- AC-2371-->

* El esquema de GraphQL ahora es válido cuando se usa una `type` el atributo product está definido. Anteriormente, el esquema no era válido porque la variable `type` el atributo en los tipos de productos fue sobrescrito por el atributo personalizado `type` atributo. [GitHub-34929](https://github.com/magento/magento2/issues/34929)

<!-- AC-2797-->

* Los clientes añadidos o actualizados con la variable `createCustomer`, `createCustomerV2`, `updateCustomer`o `updateCustomerV2` la mutación ahora se agrega con suscripciones activas a boletines informativos. Anteriormente, se cancelaba la suscripción de los clientes a los boletines, incluso cuando la solicitud contenía parámetros de entrada adecuados. [GitHub-33599](https://github.com/magento/magento2/issues/33599)

<!-- AC-1883-->

* La variable `products` consulta para una vista de tienda específica ahora devuelve solo las categorías que están en la categoría raíz del sitio web específico en la implementación de varios sitios. Anteriormente, la consulta devolvía categorías de las categorías raíz de otros sitios web. [GitHub-34570](https://github.com/magento/magento2/issues/34570)

<!-- AC-2712-->

* La variable `products` ahora devuelve solo la subcategoría del ID de categoría proporcionado. Anteriormente, devolvía todas las categorías. [GitHub-35220](https://github.com/magento/magento2/issues/35220)

<!-- AC-2794-->

* La variable `customerOrders` la consulta ahora responde como se espera cuando la variable `gift_message` se especifica en la respuesta, pero no existe ningún mensaje de regalo. Anteriormente, la consulta devolvía este mensaje: `Can't load gift message for order is returned`. [GitHub-28957](https://github.com/magento/magento2/issues/28957)

<!-- AC-2515-->

* Se ha corregido un error con la variable `catalog_category_product` indexador que causó el `products` para devolver categorías de otro almacén. [GitHub-31253](https://github.com/magento/magento2/issues/31253)

<!-- AC-2063-->

* La variable `generateCustomerToken` la mutación ahora crea una entrada en el `customer_log` como se espera después de generar un token de cliente. [GitHub-33378](https://github.com/magento/magento2/issues/33378)

### Google Analytics

<!-- AC-2574 2685-->

* El módulo Google Tag se ha agregado a la base de código, que admite la transición a Google Analytics 4 en julio de 2023.  Actualmente puede usar y recopilar nuevos datos en sus propiedades de Google Universal Analytics, pero Google Universal llegará al fin de su vida útil en julio de 2023. [GitHub-35204](https://github.com/magento/magento2/issues/35204), [GitHub-35376](https://github.com/magento/magento2/issues/35376)

### Imagen

<!-- ACP2E-71-->

* Las imágenes de las páginas de detalles del producto ya no parpadean y las imágenes permanecen centradas según lo esperado. Anteriormente, después de que una página de detalles del producto completara la carga de una imagen, esta se desplazaba visiblemente hacia abajo.

### Importar/exportar

<!-- ACP2E-676-->

* La posición de producto relacionada, de venta ascendente y de venta cruzada en el CSV de exportación ahora es correcta después de eliminar un producto de venta cruzada del Administrador antes de regenerar el archivo CSV. Anteriormente, las posiciones de los productos de venta cruzada no se calculaban de nuevo después de eliminar un producto de venta cruzada, y el pedido de posición del producto era incorrecto.

<!-- ACP2E-632-->

* Adobe Commerce ahora busca una vista personalizada antes de filtrar las columnas al exportar informes. Anteriormente, los informes exportados no tenían en cuenta las vistas personalizadas y las columnas exportadas eran incorrectas.

<!-- ACP2E-502-->

* Adobe Commerce ahora importa correctamente imágenes con nombres de archivo largos. Anteriormente, Adobe Commerce no importaba la imagen y generaba este error: `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s):`.

<!-- ACP2E-294-->

* Los atributos de ID de categoría ya están disponibles en los filtros de exportación programados.

<!-- ACP2E-59-->

* Paquete productos que contienen un signo de interrogación (?) en la opción el título ahora se puede importar correctamente debido a las mejoras realizadas en el generador de consultas `populateExistingOptions` método. El título de la opción también se muestra correctamente. Anteriormente, después de la importación inicial, las importaciones sucesivas daban como resultado un comportamiento dañado y opciones duplicadas. Los compradores tampoco pudieron agregar el producto al carro de compras.

<!-- ACP2E-766-->

* Se agregó la validación de los nombres de categoría durante la importación. Anteriormente, Adobe Commerce no validaba nombres de categoría, lo que provocaba errores cuando los nombres de categoría superaban los 255 caracteres.

<!-- AC-2096-->

* Los registros existentes en la variable `catalog_url_rewrite_product_category` ahora se eliminan antes de insertar las nuevas. Anteriormente, se producía el siguiente error durante la importación de productos de varias tiendas: `SQLSTATE[23000]: Integrity constraint violation`. [GitHub-34210](https://github.com/magento/magento2/issues/34210)

### Infraestructura

<!-- ACP2E-2039-->

* Se ha eliminado un complemento de menú contextual obsoleto de la lista de complementos.

<!-- ACP2E-2039-->

* La lógica relacionada con la barra de herramientas del editor TinyMCE en el módulo Page Builder se ha actualizado como resultado de la introducción de `delayedRender` para la barra de herramientas en TinyMCE.

<!-- MC-42655-->

* Las condiciones de carrera ya no interrumpen la creación del `contentUpdated` detector de eventos. [GitHub-32068](https://github.com/magento/magento2/issues/32068)

<!-- AC-3044-->

* La variable `getTypeID` ahora devuelve el ID de tipo de producto no el ID de producto. [GitHub-35458](https://github.com/magento/magento2/issues/35458)

<!-- AC-2911-->

* Control deslizante de la interfaz de usuario de jQuery y `SelectMenu` la asignación se ha corregido en `vendor/magento/module-theme/view/base/requirejs-config.js`.

* Observadores colocados en `sales_order_state_change_before` ahora admite la recuperación de datos del objeto order . La variable `sales_order_state_change_before` `event` se ha actualizado. [GitHub-26789](https://github.com/magento/magento2/issues/26789)

<!-- AC-2239-->

* `indexer:reset` se ha refactorizado para llamar a `$indexer->invalidate()`. [GitHub-34988](https://github.com/magento/magento2/issues/34988)

<!-- AC-2055-->

* Ahora puede usar el símbolo de dos puntos en una `htmlClass` valor de atributo, que admite el uso de componentes adicionales, como la interfaz de usuario de Tailwind. [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### Registro

<!-- ACP2E-203-->

* Las acciones de cliente, dirección de cliente y pedido ahora se registran correctamente en el informe de acción del administrador. Anteriormente, Adobe Commerce no registraba acciones si la variable `postDispatch` no se ha especificado el controlador en los ajustes de configuración.

### MFTF

#### Grupos de acciones

Las acciones repetitivas se han sustituido por grupos de acción en estas pruebas:

`AdminConfigurableProductChildrenOutOfStockTest` [GitHub-32378](https://github.com/magento/magento2/issues/32378)
`AdminCreateStoreViewTest` [GitHub-34631](https://github.com/magento/magento2/issues/34631)

#### Nuevas pruebas

`AdminUnlockAdminUserEntityTest` [GitHub-34836](https://github.com/magento/magento2/issues/34836)

`StorefrontNewsletterSubscriptionWithEnabledNeedToConfirmConfigTest` [GitHub-33344](https://github.com/magento/magento2/issues/33344)

#### Pruebas refactorizadas

`AdminCancelTheCreatedOrderWithCashOnDeliveryPaymentMethodTest` [GitHub-33692](https://github.com/magento/magento2/issues/33692)

### Newsletter

<!-- ACP2E-35-->

* Los clientes con sesión iniciada ya no están marcados como invitados en Administración > **Marketing** > **Suscriptores del boletín**.

<!-- AC-2102-->

* El correo electrónico de confirmación de suscripción al boletín ahora tiene la dirección de correo electrónico correcta y específica de la tienda en la **De** campo si el cliente está asignado a una tienda no predeterminada y se ha suscrito o cancelado la suscripción del administrador. Anteriormente, el cliente recibía un correo electrónico con el correo electrónico predeterminado en **De** encabezado. [GitHub-34963](https://github.com/magento/magento2/issues/34963)

<!-- AC-2509-->

* La URL de cancelación de suscripción de la plantilla de correo electrónico del boletín ahora funciona según lo esperado. [GitHub-33310](https://github.com/magento/magento2/issues/33310)

### Pedido

<!-- ACP2E-550-->

* Ahora puede crear correctamente un nuevo cliente a partir de un nuevo pedido con atributos de cliente personalizados que están ocultos en la tienda. Anteriormente, Adobe Commerce no guardaba los valores correctos para el atributo de cliente personalizado.

<!-- ACP2E-279-->

* Los detalles del cliente invitado ahora se guardan correctamente después de editar un pedido. Anteriormente, se perdían algunos detalles del cliente, como `customer_firstname` y `customer_lastname, x_forwarded_for`.

<!-- ACP2E-92-->

* Los comerciantes ya no pueden crear una nota de crédito con una cantidad total decimal cuando **Cantidad decimal** está desactivado en un nivel de configuración global o de producto. Anteriormente, los comerciantes podían crear una nota de crédito para la cantidad total decimal donde no era aplicable.

<!-- ACP2E-56-->

* El filtro por fecha ahora funciona correctamente para Facturas, envíos, notas de crédito, páginas de CMS y cuadrículas de bloque de CMS cuando la zona horaria establecida en preferencias difiere de la zona horaria establecida en un equipo local. Anteriormente, la fecha se analizaba incorrectamente y los resultados filtrados incluían datos fuera del intervalo de fechas establecido.

<!-- AC-1536-->

* Adobe Commerce ya no cambia las direcciones de correo electrónico personalizadas que están asignadas a pedidos al cambiar la dirección de correo electrónico principal asignada al cliente en la página de edición de la cuenta de administrador. Anteriormente, cuando editaba la dirección de correo electrónico principal de un cliente, la nueva dirección de correo electrónico se asignaba a cada pedido creado para ese cliente. [GitHub-34397](https://github.com/magento/magento2/issues/34397)

<!-- AC-2664-->

* Adobe Commerce ahora muestra registros del almacén solicitado en la página de cuadrícula de las notas de crédito en implementaciones que ejecutan PHP 7.4. Anteriormente, Adobe Commerce arrojó el siguiente error después de crear una nota de crédito e intentar verlo: `The store that was requested wasn't found. Verify the store and try again`.

<!-- AC-2442-->

* Adobe Commerce ahora muestra notas de crédito en la página de cuadrícula de notas de crédito para los pedidos creados a partir de vistas de tiendas cuyo nombre va precedido de números. Anteriormente, Adobe Commerce mostraba el error: `The store that was requested wasn't found. Verify the store and try again. Exception in /var/www/html/vendor/magento/module-store/Model/StoreRepository.php:75`. [GitHub-35122](https://github.com/magento/magento2/issues/35122)

<!-- ACP2E-31-->

* Adobe Commerce ahora muestra el coste de envío gratuito (0) en los totales de la página de facturas de administración y tienda. Anteriormente, cuando el envío era cero para un pedido, Adobe Commerce no mostraba el importe de envío en total en el total de envío de la página de factura.

<!-- ACP2E-740-->

* Adobe Commerce ahora muestra el estado de pedido correcto durante el cierre de compra cuando se utiliza el crédito de la tienda del cliente.

<!-- AC-1778-->

* La variable `increment_id` en la columna `sales_order` se ha aumentado. Anteriormente, módulos de terceros que asumían que `sales_order.increment_id` tenía una longitud de 50 caracteres y solo se guardaban los 32 primeros caracteres de un `increment_id`. [GitHub-34521](https://github.com/magento/magento2/issues/34521)

### Métodos de pago

<!-- ACP2E-25-->

* Los administradores ahora pueden realizar un pedido en el administrador mediante el método de pago PayPal PayflowPro. Anteriormente, Adobe Commerce mostraba este error: `No such entity with cartId = 0`.

<!-- AC-2093-->

* La página Revisión de Pagos del flujo de trabajo de cierre de compra ahora muestra el nombre correcto del método de pago cuando se realiza el pago con Venmo, PayPal Más tarde o PayPal.

<!-- AC-1195-->

* La variable `cart` query ya no devuelve todos los métodos de pago activos para pedidos libres. [GitHub-34036](https://github.com/magento/magento2/issues/34036)

#### Braintree

<!-- BUNDLE-3088-->

* Los comerciantes ahora pueden enviar un reembolso parcial por pedidos pagados con Apple Pay a través del Braintree. Este era un problema conocido en Adobe Commerce 2.4.4.

#### PayPal

<!-- ACP2E-296-->

* Adobe Commerce ahora muestra el nombre de cliente correcto en un pedido de invitado pagado con PayPal. Anteriormente, el nombre del cliente se mostraba como Invitado.

<!-- AC-2606-->

* La resolución de la mutación createPaypalExpressToken se ha actualizado para utilizar correctamente el valor especificado en el campo de entrada use_paypal_credit. Anteriormente, intentaba utilizar un valor no válido `paypal_credit` campo . [GitHub-35180](https://github.com/magento/magento2/issues/35180)

### Rendimiento

<!-- ACP2E-474-->

* Se ha mejorado el rendimiento de la carga dinámica de bloques. Anteriormente, los segmentos de visitantes no se almacenaban en caché por sitio web, lo que provocaba consultas redundantes en la base de datos para los mismos datos.

<!-- ACP2E-52-->

* La administración de caché de Redis se ha mejorado mediante la adición de TTL (fecha de caducidad) para las cachés de datos de productos asociados a los productos configurables. Anteriormente, estas cachés no eran desalojadas debido a la falta de valores TTL si la política de desalojo clave de Redis estaba configurada en una volátil política de desalojo.

<!-- ACP2E-464-->

* El nuevo `Grid Filter Condition Type` atributos de dirección cliente/cliente controla cómo se compara un filtro de atributos con los valores de atributos de la base de datos. Las opciones incluyen `Partial Match`, `Prefix Match`y `Full Match`.

<!-- AC-1136-->

* El indexador de texto completo Búsqueda en catálogo se ha reubicado fuera del bucle de tiendas, lo que optimiza la reindexación. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-2508-->

* Se ha corregido un problema con `array_merge` en bucles. [GitHub-33929](https://github.com/magento/magento2/issues/33929)

### Precio

<!-- ACP2E-445-->

* Los atributos de precio que no tienen valor en el ámbito predeterminado (pero que se definen en el nivel de vista de tienda) ahora se indexan correctamente. Anteriormente, las expresiones SQL que recuperaban los valores de atributos de precio de la tabla EAV no tenían en cuenta la situación en la que el valor no estaba definido en el ámbito predeterminado.

<!-- ACP2E-313-->

* El precio que aparece en la página de detalles del producto ahora es el mismo que el precio que aparece en el flujo de trabajo de cierre de compra para los precios de nivel que difieren según la cantidad seleccionada (por ejemplo, un precio de producto diferente en función de la compra de 2 artículos frente a 5 artículos). Anteriormente, el precio de cierre de compra reflejaba el precio de la cantidad de producto más baja.

### Promociones

<!-- ACP2E-690-->

* La variable **Tiempos utilizados** para un descuento ya no se incrementa dos veces cuando un cliente invitado realiza un pedido con un descuento y posteriormente registra una cuenta.

### ReCAPTCHA

* La variable **Submit** en las páginas Inicio de sesión y Crear una cuenta ahora está inactivo hasta que ReCaptcha se cargue completamente.

### Autorizaciones de devolución de mercancías (RMA)

<!-- MC-40432-->

* La variable `GET /V1/returnsAttributeMetadata` el extremo ahora funciona correctamente cuando la variable `rma_item` el ID del conjunto de atributos predeterminado de entidad difiere del ID de instalación predeterminado. Anteriormente, este extremo devolvía un resultado vacío si estos ID eran diferentes.

<!-- ACP2E-247-->

* La variable **Utilizar predeterminado** , que se utiliza para habilitar RMA en la página de edición del producto, ahora funciona según lo esperado para la Tienda predeterminada. Anteriormente, la casilla de verificación se borraba inmediatamente después de guardar el producto.

### Recompensas

<!-- ACP2E-433-->

* Los puntos de devolución ahora se pueden reembolsar cuando se deshabilita la funcionalidad de crédito de almacenamiento.

<!-- ACP2E-757-->

* El rendimiento del cierre de compra se ha mejorado cuando se aplican puntos de recompensa. When `entity` es nula, la consulta de la base de datos no se ejecutará porque la consulta `magento_reward_history` no es obligatoria en las circunstancias.

<!-- ACP2E-674-->

* Las notas de abono de pedidos de invitado ya no buscan `customer_id`, que omite la consulta de `magento_reward_history` tabla de base de datos para puntos de recompensa. Este cambio ha mejorado el rendimiento.

### Funciones

* La variable **Tienda** >  **Configuración** > **Servicios** La página ahora muestra la información de la API web de Adobe Commerce como se espera cuando el acceso a recursos está establecido en  **Personalizado** en la ficha Recursos de rol . [GitHub-35506](https://github.com/magento/magento2/issues/35506)

### Buscar {#search-heading}

<!-- ACP2E-645-->

* Al filtrar productos por muestra de color en la navegación por capas, se muestra la imagen correcta para los productos después de la corrección.

<!-- ACP2E-615-->

* Las consultas de Elasticsearch ahora funcionan según lo esperado cuando `int` está configurado como servidor en el que se pueden realizar búsquedas `type` atributo. Anteriormente, Adobe Commerce lanzó un `Elasticsearch\Common\Exceptions\BadRequest400Exception` excepción.

<!-- ACP2E-99-->

* Ahora puede usar sinónimos de búsqueda junto con la variable **Mínimo de términos para coincidir** parámetro En consultas de Elasticsearch. Anteriormente, si este parámetro se especificaba en la configuración y se agregaban términos de búsqueda para palabras clave específicas, la búsqueda no arrojaba resultados.

<!-- ACP2E-72-->

* Adobe Commerce ahora muestra un recuento preciso de sugerencias de resultados de búsqueda en la tienda en implementaciones en las que Sugerencias de búsqueda y la variable **Mostrar recuento de resultados para cada sugerencia** están activados. Anteriormente, el recuento mostrado al lado de las palabras clave era cero.

<!-- AC-700-->

* Los productos ordenados por atributos personalizados en la página Catálogo ahora se muestran en el orden esperado. Anteriormente, los productos se ordenaban por su ID de valor de opción de atributo, que refleja el orden en que se añadieron al atributo. [GitHub-33810](https://github.com/magento/magento2/issues/33810)

<!-- AC-645-->

* Al filtrar productos por muestra de color en la navegación por capas, ahora se muestran las imágenes de producto correctas. Anteriormente, la navegación en capas `PageCache` clave no incluía parámetros de filtro para productos configurables.

<!-- AC-2051-->

* Se corrigieron errores de PHP en la variable `catalogsearch/advanced/result` y  `catalogsearch/advanced/index` páginas.  Anteriormente, Adobe Commerce mostraba este error cuando se pasaba una matriz en cualquier cadena de búsqueda avanzada:  `Warning: trim() expects parameter 1 to be string, array given | magento/module-catalog-search`. [GitHub-33586](https://github.com/magento/magento2/issues/33586)

### Envío

<!-- AC-2052-->

* Adobe Commerce ya no genera un error al cargar las tarifas de envío de UPS si no se seleccionan los métodos de envío permitidos. Anteriormente, cuando un comprador introducía una dirección de envío en el flujo de trabajo de cierre de compra bajo estas condiciones, no se mostraban otros métodos de envío y Adobe Commerce mostraba un error en la tienda. [GitHub-34411](https://github.com/magento/magento2/issues/34411)

<!-- AC-2621-->

* Los precios de los productos virtuales ahora se excluyen en el importe de envío de la tasa de cálculo de la tabla. Anteriormente, los costes de envío de estos productos no se calculaban correctamente.[GitHub-35185](https://github.com/magento/magento2/issues/35185)

<!-- ACP2E-209-->

* Las tasas de envío de la tabla con precio cero ahora se muestran correctamente en el bloque Resumen de pedidos del flujo de trabajo de cierre de compra para los pedidos que han aplicado un cupón de descuento. Anteriormente, no se mostraba el método de envío.

### Ensayo

<!-- ACP2E-404-->

* Adobe Commerce ya no limpia la caché de página completa después de aplicar una actualización de ensayo para una regla de ventas en la que las páginas en caché permanecen sin cambios.

<!-- ACP2E-304-->

* El panel de ensayo de contenido ya no muestra actualizaciones permanentes inactivas.

<!-- ACP2E-257-->

* Al cambiar la fecha de finalización de una actualización de ensayo desde el panel de ensayo, ahora se aplican correctamente estos cambios a la actualización de ensayo y a sus entidades. (Se ha introducido una cola para procesar los cambios en las actualizaciones de ensayo).

<!-- ACP2E-238-->

* Los comerciantes ahora pueden eliminar una fecha de finalización para una actualización programada o eliminarla y volver a crear una actualización. Anteriormente, cuando se eliminaba una fecha de finalización, una entidad seguía programada para esa hora. Adobe Commerce ahora elimina la actualización obsoleta para la reversión eliminada.

<!-- ACP2E-149-->

* Las actualizaciones de programación activas para una página de CMS ahora están visibles como se espera en la sección Cambios programados de la página de CMS.

<!-- ACP2E-81-->

* La variable `custom_design_to` el valor del atributo ahora se actualiza según lo esperado cuando se cambia una actualización programada. Anteriormente, dos actualizaciones de diseño de categoría independientes sin hora de finalización se trataban como una. Cuando se eliminó una de las actualizaciones programadas mientras se ejecutaba la primera, se usa la variable `custom_design_from` el valor de tiempo se volvió bueno que el valor de `custom_design_to` valores de hora en la siguiente actualización programada.

<!-- ACP2E-58-->

* Forms ahora se rellenan con los datos como se espera después de editar una actualización programada.

<!-- ACP2E-18-->

* La variable `vendor/magento/module-catalog-staging/Setup/Patch/Data/MigrateCatalogProducts.php` el parche de datos ya no falla cuando la base de datos incluye un producto con opciones personalizadas y la variable `special_from_date` está configurado.

<!-- ACP2E-741-->

* Los cambios ahora se guardan durante una segunda actualización programada cuando la actualización en ejecución agrega los cambios. Anteriormente, los cambios no se guardaban y los comerciantes tenían que volver a introducirlos y guardar los cambios.

<!-- ACP2E-21-->

* El registro de acciones masivas ahora muestra información sobre errores `to be moved` actualizaciones programadas. Anteriormente, la información sobre estos errores estaba disponible en la `cron.log` solo archivo.

<!-- ACP2E-420-->

* Los comerciantes ahora están restringidos a usar precios separados por coma al editar un precio de producto en una actualización programada, independientemente de la configuración regional. Anteriormente, los precios que contenían comas en una actualización programada se dividían entre 1000 según la configuración regional.

<!-- AC-3214-->

* Los problemas con el envío interno de DHL en implementaciones que ejecutan PHP 8.1 se han resuelto exigiendo etiquetas de pago solo para envíos internacionales.

### Impuesto

<!-- ACP2E-735-->

* El impuesto sobre el producto fijo (FPT) ahora se muestra correctamente para los productos del carro de compras. Anteriormente, si varios productos del carro de compras tenían **Impuesto fijo del producto (FPT)** y **Aplicar impuesto a FPT** estaban activados, todos los FPT se asignaron al último producto del carro de compras y se restablecieron para otros productos.

<!-- ACP2E-350-->

* El total de Impuesto fijo del producto (FPT) para la sección de resumen del pedido del flujo de trabajo de cierre de compra ahora se calcula correctamente.

<!-- ACP2E-291-->

* Adobe Commerce ahora actualiza el precio de nivel Excluding Tax para un producto simple en la página del producto, tal como se espera después de que haya cambiado la cantidad del producto simple.

<!-- ACP2E-182-->

* Se ha añadido la validación a la página de configuración de la tienda para verificar si el país seleccionado de la lista desplegable está en la lista del país de la UE. La variable **Validar número de IVA** ahora solo es visible para los países de la UE. Anteriormente, el botón era visible para todos los países, incluido el Reino Unido.

<!-- ACP2E-45-->

* El precio de nivel ahora se calcula correctamente cuando **Mostrar los precios del producto en el catálogo** se configura como **Excluir impuestos** o **Inclusión y exclusión de impuestos**. Anteriormente, la página de detalles del producto mostraba los precios de nivel con impuestos a pesar de la configuración.

<!-- AC-1925-->

* Los impuestos ahora se aplican correctamente para los pedidos a cualquier dirección válida en tiendas que usen la configuración regional portuguesa. [GitHub-34271](https://github.com/magento/magento2/issues/34271)

<!-- AC-1084-->

* La variable `cart` la consulta ya no incluye impuestos al devolver `subtotal_with_discount_excluding_tax`. [GitHub-33905](https://github.com/magento/magento2/issues/33905)

<!-- ACP2E-651-->

* Solicitudes de API web para datos de pedido (`GET /V1/orders/`) ya no devuelve valores negativos para los totales de filas.

### Prueba

<!-- AC-2004-->

* Se corrigieron errores con `Magento.GraphQl.CatalogGraphQl.ProductSearchTest.testSearchSuggestions` cuando se ejecuta con la configuración del Elasticsearch de AWS.

<!-- AC-1113-->

* La variable `testCreateProductOnStoreLevel` la prueba de integración ya no provoca una transacción anidada en la base de datos.

* La siguiente excepción ya no se produce cuando se ejecutan pruebas WebAPI para la función Enviar amigo cuando la imagen del producto no se ha establecido en PHP 8.1:  `exception main.ERROR: /var/www/html/lib/internal/Magento/Framework/DataObject.php:131 strpos(): Passing null to parameter #1 ($haystack) of type string is deprecated`. [GitHub-34864](https://github.com/magento/magento2/issues/34864)

### Traducciones y configuraciones regionales

<!-- ACP2E-537-->

* Ahora puede usar la herramienta Traducir en línea para editar el mismo elemento más de una vez. Anteriormente, solo se incluía el primer cambio realizado con esta herramienta.

<!-- ACP2E-437-->

* El selector de vista de tienda ya no bloquea el panel de traducción al editar etiquetas o texto de administración. Ahora puede editar estas funciones desde el panel de traducción y la interfaz muestra estos cambios al hacer clic en **Submit**.

<!-- ACP2E-362-->

* El formato de fecha y hora del administrador para las configuraciones regionales de portugués y francés de Brasil ya es válido.

<!-- ACP2E-785-->

* Se ha añadido un acento grave [ \` ] al validador de nombres para que se pueda crear una cuenta de cliente para los nombres o apellidos que incluyan este acento.

<!-- ACP2E-682-->

* El texto de la variable **Agregar al carro** en la página Detalles del producto ahora permanece traducido al idioma especificado en la configuración regional asociada. Los archivos de traducción ahora se convierten a los archivos JavaScript correspondientes según las áreas, los temas y las configuraciones regionales cuando `translate_strategy=embedded`. Anteriormente, el texto se volvía a inglés después de que el producto se agregara al carro de compras.

<!-- ACP2E-752-->

* Los sinónimos de búsqueda ahora respetan el ámbito de su tienda asignado. Anteriormente, se podía buscar en cualquier otra tienda un sinónimo asignado a una tienda específica.

<!-- AC-1178-->

* Se han resuelto los problemas con la configuración regional filipina (Filipinas). [GitHub-33996](https://github.com/magento/magento2/issues/33996)

### IU

<!-- ACP2E-557-->

* Nombres de productos largos en la variable **Catálogo** > **Productos** ahora se ajustan palabras en lugar de mostrarse en una sola línea.

<!-- ACP2E-347-->

* El intervalo mínimo y máximo de fecha de nacimiento ahora se guarda como una marca de tiempo correcta y luego se convierte de una marca de tiempo válida a un formato de fecha válido.

<!-- ACP2E-280-->

* La falta de disponibilidad de `magento.com` ya no causa problemas de rendimiento durante el inicio de sesión del administrador. Se ha agregado un tiempo de espera en la solicitud para recuperar la notificación de versión.

<!-- ACP2E-88-->

* Los resultados de los filtros de orden de administración, cliente y cuadrícula de producto ahora persisten según lo esperado cuando se muestran en el explorador Chrome.

<!-- AC-2750-->

* Ahora puede crear un cliente desde el administrador cuando `Magento_LoginAsCustomerAdminUi` está habilitado y **Almacenar Vista Para Iniciar Sesión En** se configura en selección manual. Anteriormente, Adobe Commerce generaba este error: `(Magento\Framework\Exception\LocalizedException): Unable to get Customer ID`. [GitHub-33096](https://github.com/magento/magento2/issues/33096)

<!-- AC-2076-->

* La flecha Siguiente ahora se desactiva tal como se espera cuando un comprador llega a la última imagen en miniatura de la galería de imágenes del producto.

<!-- AC-2060-->

* La variable **Buscar por palabra clave** el campo de entrada ahora tiene un `aria-label` en lugar de un marcador de posición en la variable **Catálogo** > **Product** página.

<!-- AC-3058-->

* El vínculo Política de privacidad del pie de página del administrador ahora vincula a la nueva Política de privacidad del Adobe.

<!-- AC-2880-->

* Los administradores ahora pueden acceder a las opciones del menú Administración cuando el agrupamiento de JavaScript está habilitado en el modo de producción.  [GitHub-35325](https://github.com/magento/magento2/issues/35325)

<!-- AC-2851-->

* Los administradores ahora pueden establecer una fecha de caducidad del usuario actual superior a 2038 y guardar el usuario correctamente. Anteriormente, el usuario cuya fecha de caducidad se cambiaba no podía iniciar sesión de nuevo después de cerrar la sesión.

<!-- AC-751-->

* Adobe Commerce ahora muestra un mensaje de error informativo cuando un administrador intenta guardar una dirección con líneas de calle excesivas en Administración **Tienda** > **Atributos**  > **Dirección del cliente**.  El administrador ahora puede eliminar la información de dirección adicional y guardar correctamente la dirección. Anteriormente, Adobe Commerce comprometía las líneas adicionales, pero no guardaba los datos.

<!-- ACP2E-546-->

* Se ha actualizado la configuración de vista de lista de productos en la base de datos y el almacenamiento local. Las vistas de cuadrícula personalizadas ahora se guardan durante la recarga de página y los cambios de vista.

<!-- ACP2E-747-->

* Ahora puede cambiar entre vistas de tienda cuando las restricciones del sitio web están habilitadas. Anteriormente, los problemas con el conmutador de vista de tienda impedían cambiar de vista de tienda.

<!-- AC-2042-->

* El formulario de carga de iconos de favoritos ahora es compatible `.ico` tipos de archivo. Anteriormente, cuando intentaba cargar un archivo de icono de favoritos con este tipo de extensión en Admin, Adobe Commerce mostraba este error: `Warning: imagecreatefromstring(): one parameter to a memory allocation multiplication is negative or zero, failing operation gracefully in /var/www/html/vendor/magento/module-media-storage/Model/File/Validator/Image.php on line 64`. [GitHub-34858](https://github.com/magento/magento2/issues/34858)

<!-- AC-3122-->

* Se corrigieron los problemas de visualización con el menú desplegable Seleccionar en la cuadrícula Administración . [GitHub-35386](https://github.com/magento/magento2/issues/35386)

<!-- AC-2055-->

* [GitHub-34430](https://github.com/magento/magento2/issues/34430)

### Reescrituras de URL

<!-- AC-2535-->

* Las direcciones URL de un producto solo en una vista de tienda específica ahora se eliminan del `url_rewrite` después de cambiar el estado de visibilidad del código de atributo para la vista de tienda específica a **No visible individualmente**.  Anteriormente, todas las direcciones URL se eliminaban para el producto en la variable `url_rewrite` tabla. [GitHub-34937](https://github.com/magento/magento2/issues/34937)

### Vídeo

<!-- ACP2E-485-->

* Ahora puede usar parámetros de URL de YouTube mediante el Generador de páginas para agregar un nuevo vídeo. Anteriormente, estos parámetros se eliminaban automáticamente de la dirección URL.

<!-- AC-2251-->

* Ahora puede configurar un vídeo de Vimeo para que se ejecute en segundo plano en un `banner` elemento cuando CSP está establecido en `restrict mode`. Anteriormente, Adobe Commerce generaba un error de JavaScript.

### Marco de API web

<!-- ACP2E-694-->

* Se ha implementado Mutex en los pedidos para evitar condiciones de carrera durante la actualización por solicitudes simultáneas. Anteriormente, las condiciones de carrera durante las llamadas de API REST simultáneas provocaban una sobrescritura de la información de estado de envío en la tabla Artículos de administración solicitados .

<!-- ACP2E-677-->

* La herencia de funciones de imagen del producto ahora se conserva a menos que se defina explícitamente en la carga útil al actualizar un producto en una vista de almacén específica mediante la API de REST.

<!-- AC-2231-->

* El esquema Swagger (`/rest/schema`) ahora utiliza ID de operación únicos.

<!-- AC-2845-->

* Reglas de precios del carro de compras creadas a través de la variable `POST /V1/salesRules/` Ahora, el extremo conserva los valores de código de cupón existentes después de cambiar el estado de deshabilitado a habilitado. [GitHub-35298](https://github.com/magento/magento2/issues/35298)

<!-- AC-2764-->

* Reglas de precios del carro de compras creadas a través de la variable `POST /V1/salesRules/` el extremo ahora contiene válido `from_date` y `to_date` valores. [GitHub-35265](https://github.com/magento/magento2/issues/35265)

<!-- AC-2522-->

* `CartItemInterface` ahora incluye `customizable_options`. [GitHub-31180](https://github.com/magento/magento2/issues/31180)

<!-- AC-2898-->

* Las solicitudes de DELETE y PUT masivos de la API de REST ahora funcionan según lo esperado cuando el `Magento_ReCaptchaWebapiRest` está habilitado. [GitHub-35348](https://github.com/magento/magento2/issues/35348)

<!-- AC-763-->

* La API de Rest masivo ahora funciona con la `bySku` para productos configurables. Anteriormente, devolvía un error 500.

<!-- AC-1169-->

* La variable `/V1/products/base-prices` ahora funciona como se espera con **Modo de precio del catálogo: sitio web**. [GitHub-30132](https://github.com/magento/magento2/issues/30132)

<!-- AC-441-->

* Creación de un nuevo programa de precios especiales con el `POST /V1/products/special-price` ahora funciona según lo esperado. Anteriormente, el punto final devolvía este error: `Future Update already exists in this time range. Set a different range and try again`.

### Lista de deseos

<!-- ACP2E-459-->

* Al actualizar una cantidad de artículo desde la página de lista de deseos, ahora se actualiza la cantidad en la página de detalles del producto según lo esperado. Adobe Commerce ahora recoge el valor actualizado de la dirección URL del producto y rellena la variable `qty` campo de la página de detalles del producto de la lista de deseos.

## Problemas conocidos

**Problema**: Los usuarios administradores no pueden crear un pedido o un nuevo pedido para los clientes desde el administrador cuando el Braintree está habilitado. Cuando el usuario administrador hace clic en **Pedido** o **Reordenar**, Adobe Commerce no envía el pedido y la variable  `system.log` muestra este error: `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.  **Solución alternativa**:  `BUNDLE-3137-composer.patch` ya está disponible. Consulte la [El administrador no puede crear pedidos/repedidos cuando el pago del Braintree está habilitado](https://support.magento.com/hc/en-us/articles/8322266352525) Artículo de la Base de conocimiento para un análisis de este problema y acceso al parche. Los comerciantes de Cloud deben descargar los parches de Cloud para Commerce v1.0.18. También se incluirá una corrección en Adobe Commerce 2.4.5-p1. <!-- AC-6222-->

**Problema**: [!DNL RabbitMQ] es posible que los elementos de infraestructura (intercambios, colas) no se inicialicen después de una nueva instalación (no actualización) de Adobe Commerce 2.4.5. Esta configuración incorrecta de [!DNL RabbitMQ] puede provocar un error grave cuando se ejecutan operaciones asincrónicas o se genera un perfil de rendimiento. Las implementaciones de Cloud no se ven afectadas. **Solución alternativa**: Los comerciantes que realicen una nueva instalación de Adobe Commerce 2.4.5 local deben ejecutarse `bin/magento setup:upgrade --keep-generated` después de usar `bin/magento setup:config:set` para configurar [!DNL RabbitMQ] o instalar Adobe Commerce pasando [!DNL RabbitMQ] opciones de configuración de `setup:install` comando. Consulte [[!DNL RabbitMQ]](../../../installation/prerequisites/rabbitmq.md).

## Contribuciones comunitarias

Damos las gracias a la comunidad de Magento Open Source en general y quisiéramos agradecer su contribución a esta versión.

El equipo de ingeniería de la comunidad [Colaboradores Magento](https://magento.com/magento-contributors) mantiene una lista de los principales colaboradores individuales y socios por mes, trimestre y año. Desde esa página de colaboradores, puede seguir los vínculos a sus relaciones públicas combinadas en GitHub.

### Contribuciones de socios

En el siguiente cuadro se destacan las contribuciones realizadas por los Asociados. En esta tabla se muestra el Partner que contribuyó a la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-5-partner.md}}

### Contribuciones de colaborador individual

La siguiente tabla identifica las contribuciones de los miembros de nuestra comunidad. En esta tabla se muestra el miembro de la comunidad que contribuyó a la solicitud de extracción, el número de solicitud de extracción externa y el número de problema de GitHub asociado a ella (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-5-issues.md}}

## Requisitos del sistema

Nuestra pila de tecnología está construida en PHP y MySQL. Para obtener más información, consulte [Requisitos del sistema](../../../installation/system-requirements.md).

## Instrucciones de instalación y actualización

Puede instalar Adobe Commerce 2.4.5 mediante [Compositor](../../../installation/composer.md).

