---
title: Notas de la versión de Adobe Commerce 2.4.8
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.8 de Adobe Commerce.
exl-id: 54b8cc02-5d38-4acd-97e7-e9205e69a1af
source-git-commit: 0242926dde49e1e7477512dcc780416a34e20b3b
workflow-type: tm+mt
source-wordcount: '3220'
ht-degree: 0%

---


# Notas de la versión de Adobe Commerce 2.4.8

{{bics}}

## Características destacadas

Adobe Commerce 2.4.8 ofrece seguridad mejorada, compatibilidad con PHP 8.4 y MariaDB 11.4, extensas mejoras en la API de GraphQL para acelerar la migración a una nueva tienda [Adobe Commerce Storefront](https://experienceleague.adobe.com/developer/commerce/storefront/) con tecnología Edge Delivery, y más de 500 correcciones de calidad y mejoras para elevar la funcionalidad existente. La actualización a 2.4.8 mantiene su plataforma segura, alineada con los últimos avances tecnológicos y admitida hasta abril de 2028.

>[!BEGINSHADEBOX]

**Recomendaciones de adopción**

Al planificar la actualización a Adobe Commerce 2.4.8, tenga en cuenta las prioridades de su empresa, la versión actual y los planes para adoptar el nuevo [Adobe Commerce as a Cloud Service](https://experienceleague.adobe.com/en/docs/commerce/cloud-service/overview).

* **Si planea adoptar Adobe Commerce as a Cloud Service en los próximos 12 a 16 meses**: Aplique ahora el parche de seguridad más reciente y planifique la actualización como parte de su migración a Cloud Service.

* **Si no planea adoptar Adobe Commerce as a Cloud Service en los próximos 12-16 meses, O si planea adoptar Adobe Commerce Optimizer en ese periodo de tiempo**: La cronología de la actualización depende de su versión actual.

   * **Versiones 2.4.4, 2.4.5 o 2.4.6**: aplique ahora el parche de seguridad más reciente e inicie la actualización a Adobe Commerce 2.4.8 pronto, ya que la compatibilidad con 2.4.4 finaliza en abril de 2026, mientras que la compatibilidad con 2.4.5 y 2.4.6 finaliza en agosto de 2026.

   * **Versión 2.4.7**: aplique ahora la revisión de seguridad más reciente. Aunque le recomendamos que actualice lo antes posible para aprovechar las últimas mejoras, tiene flexibilidad para elegir un momento que se ajuste a las prioridades empresariales. Su versión seguirá siendo compatible hasta abril de 2027.

>[!ENDSHADEBOX]

### Seguridad

Las siguientes mejoras de seguridad de esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes:

>[!NOTE]
>
>Para obtener la información más reciente sobre la corrección de errores de seguridad, consulte [Boletín de seguridad de Adobe APSB25-26](https://helpx.adobe.com/security/products/magento/apsb25-26.html).

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Configuración</strong></td>
            <td>Esta versión incorpora las siguientes mejoras en la configuración de seguridad:
              <ul>
                <li><strong>Duo Security 2FA</strong>: Este cambio actualiza la implementación de autenticación de doble factor <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/2fa/security-two-factor-authentication-use#duo-security">Duo Security</a> (2FA) en Adobe Commerce para usar la última versión de SDK (Web SDK v4). Esta actualización permite a los comerciantes realizar una transición sin problemas al uso de Duo Universal Prompt. Los comerciantes deben actualizar su configuración en la configuración de Administración para incluir un ID de cliente y un secreto.<!-- AC-10982 --></li>
                <li><strong>Claves de cifrado</strong>: <!-- AC-12679 -->Se ha rediseñado la administración de claves de cifrado para mejorar la facilidad de uso y eliminar las limitaciones y los errores anteriores. Los nuevos comandos CLI ya están disponibles para <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key">cambiar</a> claves y <a href="https://developer.adobe.com/commerce/php/development/security/data-encryption/">volver a cifrar</a> ciertas configuraciones del sistema, pagos y datos de campos personalizados. En esta versión ya no se admite el cambio de claves en la IU de administración. Debe utilizar los comandos CLI. Consulte el artículo de la <a href="https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102">Solución de problemas con la rotación de clave de cifrado: CVE-2024-34102</a> Knowledge Base para obtener más información.</li>
                <li><strong>Configuración de contraseña de un solo uso (OTP)</strong>: esta actualización es necesaria para resolver un error introducido por un <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/#new-system-configuration-validation-for-two-factor-authentication-otp_window-value">cambio incompatible con versiones anteriores</a> en 2.4.7. La descripción del campo <strong>[!UICONTROL OTP Window]</strong> ahora proporciona una explicación precisa de la configuración y el valor predeterminado se ha cambiado de <code>1</code> a <code>29</code>.<!-- AC-11762 --></li>
              </ul>
            </td>
        <tr>
            <td><strong>Integridad de los subrecursos (SRI)</strong></td>
            <td>El <a href="https://developer.adobe.com/commerce/php/development/security/subresource-integrity/">mecanismo SRI</a> introducido en 2.4.7 se ha refactorizado para mejorar la confiabilidad y el rendimiento. En lugar de almacenar hashes en una caché personalizada que se podría borrar durante las operaciones de vaciado de caché, los hashes SRI ahora se almacenan directamente en el directorio <code>pub/static</code> y se organizan por área (<code>adminhtml</code>, <code>base</code>, <code>frontend</code>). Este cambio elimina la necesidad de volver a implementar contenido estático después de los vaciados de caché.</td>
        </tr>
        <tr>
            <td><strong>[!UICONTROL Data Collector]</strong>
            <td>La herramienta de soporte técnico [!UICONTROL System] &gt; [!UICONTROL Support] &gt; [!UICONTROL Data Collector] se ha eliminado para evitar el acceso no autorizado y mejorar la seguridad de la plataforma.</td>
        </tr>
    </tbody>
</table>

### Plataforma

Las siguientes actualizaciones de la plataforma para esta versión garantizan que Adobe Commerce siga siendo una plataforma sólida y fiable, preparada para satisfacer las demandas de los entornos comerciales modernos:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Caché</strong></td>
            <td>Esta versión incluye compatibilidad con Valkey 8.x.<!-- AC-12027 --></td>
        </tr>
        <tr>
            <td><strong>Base de datos</strong></td>
            <td>En consonancia con nuestra <a href="/help/release/lifecycle-policy.md">política de ciclo de vida de soporte</a>, Adobe Commerce ahora es compatible con las siguientes versiones de soporte a largo plazo (LTS) de las siguientes tecnologías de bases de datos:
              <ul>
                <li><strong>MariaDB 11.4 LTS</strong> <em>_(compatible hasta 2029)_</em>: La versión anterior (MariaDB 10.6) llega al final de su vida útil en 2026, por lo que esta actualización es esencial para mantener la integridad y el rendimiento del sistema. MariaDB 10.6 sigue siendo compatible, pero Adobe recomienda actualizar a MariaDB 11.4 al actualizar a Adobe Commerce 2.4.8.</li>
                <li><strong>MySQL 8.4 LTS</strong> <em>_(compatible hasta 2032)_</em>: La versión anterior (MySQL 8.0) llega al final de su vida útil en 2026, por lo que esta actualización es esencial para mantener la integridad y el rendimiento del sistema. MySQL 8.0 sigue siendo compatible, pero Adobe recomienda actualizar a MySQL 8.4 al actualizar a Adobe Commerce 2.4.8</li>
              </ul>
            Esta versión incluye las siguientes mejoras en la base de datos:
              <ul>
                <li><strong>intercalación MySQL</strong>: El sistema ahora usa de forma predeterminada la intercalación <code>utf8mb4</code> para MySQL, lo que garantiza la compatibilidad con MySQL 8 y la protección futura frente a la obsolescencia de <code>utf8mb3</code>. Anteriormente, el sistema utilizaba de forma predeterminada la intercalación <code>utf8mb3</code>, que está obsoleta en MySQL 8.<!-- AC-8828 --></li>
                <li><strong>Restricciones de clave externa MySQL</strong>: MySQL 8.4 introduce una validación de clave externa más estricta de forma predeterminada. La configuración <code>restrict_fk_on_non_standard_key</code> está ahora activada de forma predeterminada, lo que restringe el uso de claves no únicas o parciales como claves externas. Los comerciantes que actualicen de MySQL 8.0 a MySQL 8.4 deben establecer explícitamente este parámetro en OFF o utilizar la opción de servidor <code>--skip-restrict-fk-on-non-standard-key</code> para mantener la compatibilidad con las estructuras de base de datos existentes. Consulte la <a href="/help/upgrade/prepare/prerequisites.md#mysql"><em>Guía de actualización</em></a> para obtener más información.<!-- AC-14257 --></li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Cola de mensajes</strong></td>
            <td>Esta versión agrega compatibilidad con RabbitMQ 4.x. Antes de actualizar a RabbitMQ 4, los clientes de Adobe Commerce Cloud y locales deben <a href="https://www.rabbitmq.com/docs/3.13/migrate-mcq-to-qq">migrar de [!DNL classic mirrored queues] a [!DNL quorum queues]</a>. Esta migración es necesaria porque:
              <ul>
                <li>[!DNL Classic mirrored queues] no son compatibles con RabbitMQ 4</li>
                <li>[!DNL Quorum queues] mantener alta disponibilidad replicando el contenido de la cola en varios nodos</li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>PHP</strong></td>
            <td>Esta versión incluye las siguientes mejoras de PHP:
            <ul>
              <li><strong>PHP 8.4</strong>: Esta versión agrega compatibilidad con PHP 8.4 para Adobe Commerce, extensiones agrupadas y extensiones, servicios y herramientas propiedad de Adobe. PHP 8.3 sigue siendo compatible. PHP 8.2 sigue siendo compatible, pero solo con fines de actualización. Se requiere compatibilidad con PHP 8.4 <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/">cambios importantes</a>.<!-- AC-12133,AC-13078,AC-13726,AC-13077 --></li>
              <li><strong>PHP 8.1</strong>: Esta versión elimina PHP 8.1 de todas las bibliotecas de proyectos, dependencias, extensiones agrupadas y herramientas, servicios y extensiones de propiedad de Adobe de Adobe Commerce.<!-- AC-13038 --></li>
              <li><strong>PHP 8.1</strong>: Esta versión elimina la compatibilidad con PHP 8.1 para Adobe Commerce 2.4.8. Debe actualizar a PHP 8.3 antes de actualizar a Adobe Commerce 2.4.8.</li>
              <li><strong>PHP 8.2</strong>: Uno de los cambios significativos en PHP 8.2 implica la obsolescencia de pasar parámetros de función interna nulos a no admisibles. Esta versión aborda las funciones obsoletas de PHP 8.1 en los componentes principales de la plataforma y garantiza la compatibilidad con PHP 8.2.</li>
              <li><strong>PHPUnit 10</strong>: Esta versión soluciona varios problemas importantes, mejora la compatibilidad y garantiza que el marco de pruebas de Adobe Commerce se ajuste a los estándares más recientes del sector. Adobe recomienda que todos los proveedores y clientes de Commerce Marketplace con personalizaciones verifiquen que sus pruebas de unidad e integración se ejecuten en PHPUnit 10 en lugar de 9.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Componentes</strong></td>
            <td>Los siguientes <a href="/help/release/packages/adobe-commerce.md">componentes y dependencias</a> de terceros se actualizaron a las últimas versiones estables para mejorar la estabilidad y el rendimiento de la plataforma:
              <ul>
                <li>Composer 2.8.x<!-- AC-12028 --></li>
                <li>glob 11.0.0<!-- AC-13076 --></li>
                <li>grunt-contrib-connect 5.0.0<!-- AC-13076 --></li>
                <li>grunt-eslint 25.0.0<!-- AC-13076 --></li>
                <li>imagemin-svgo 11.0.1<!-- AC-13076 --></li>
                <li>jquery/bootstrap 5.3.3<!-- AC-13076 --></li>
                <li>jquery/jstree 3.3.17<!-- AC-13076 --></li>
                <li>jquery.tabs.js 5.3.2<!-- AC-13076 --></li>
                <li>jquery/validate 1.20.x</li>
                <li>js-cookie/js-cookie 3.0.5<!-- AC-13076 --></li>
                <li>moment.js 2.30.1</li>
                <li>monólogo/monólogo 3.x</li>
                <li>monolog/Require.js 2.3.7</li>
                <li>nginx 1.26<!-- AC-12012 --></li>
                <li>phpunit/phpunit 10.x<!-- AC-12970 --></li>
                <li>serve-static 1.16.2<!-- AC-13076 --></li>
                <li>TinyMCE 6.8.5<!-- AC-13256 --></li>
                <li>subrayado 1.13.7<!-- AC-13076 --></li>
                <li>Actualizar 4.4.0<!-- AC-13076 --></li>
                <li>Barniz 7.6.x<!-- AC-12029 --></li>
                <li>wikimedia/less.php 5.x</li>
              </ul>
              Se eliminaron los siguientes componentes:
                <ul>
                  <li>TinyMCE 5<!-- AC-12944 --></li>
                </ul>
              Todas las dependencias de Laminas se actualizaron a la versión más reciente, excepto las siguientes, que se han sustituido por paquetes alternativos o funciones nativas de PHP:
                <ul>
                  <li>laminas/laminas-file</li>
                  <li>laminas/laminas-mail</li>
                  <li>laminas/laminas-mime</li>
                  <li>laminas/laminas-oauth</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Buscar</strong></td>
            <td>Adobe Commerce ahora está optimizado para OpenSearch 2.19 y ya no es compatible con Elasticsearch. Todos los módulos y clases de Elasticsearch 7 y 8 ya no se utilizan en el código base. Adobe recomienda encarecidamente realizar la transición a OpenSearch para implementaciones de infraestructura tanto locales como en la nube a fin de garantizar una compatibilidad y un soporte continuos. Ver <a href="/help/upgrade/prepare/opensearch-migration.md">Migrando a OpenSearch</a>.
              <ul>
                <li>Las opciones de Elasticsearch 7 y Elasticsearch 8 ahora están etiquetadas como "(obsoletas)" en la configuración de administración.</li>
                <li>Cuando un usuario selecciona Elasticsearch como motor de búsqueda en la configuración de Administración, Commerce muestra una notificación que indica <em>"Adobe ya no admite esta opción de motor de búsqueda. Se recomienda usar OpenSearch como motor de búsqueda en su lugar."</em></li>
              </ul>
            </td>
        </tr>
    </tbody>
</table>

### Rendimiento

Esta versión incluye las siguientes mejoras de rendimiento:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Indexadores</strong></td>
            <td>El <a href="/help/implementation-playbook/best-practices/maintenance/indexer-configuration.md#set-indexers-to-update-on-schedule">modo de indizador</a> predeterminado para todos los indizadores es ahora [!UICONTROL Update by Schedule] al instalar una nueva versión de Adobe Commerce o al actualizar desde una versión anterior. El nuevo valor predeterminado garantiza que los indexadores estén en la configuración recomendada, lo que mejora el rendimiento del sistema y reduce los posibles problemas.</td>
        </tr>
        <tr>
            <td><strong>Precios de productos</strong></td>
            <td><!-- AC-13448 -->El sistema ahora permite actualizaciones masivas más eficientes de los precios de nivel sin causar problemas de rendimiento o falta de respuesta del sitio al usar el extremo de API REST <a kref="https://adobe-commerce.redoc.ly/2.4.7-admin/tag/productstier-prices/"><code>/V1/products/tier-prices</code></a>. Anteriormente, la actualización de un gran número de precios mediante este punto de conexión podría provocar problemas de rendimiento y falta de respuesta del sitio.</td>
        </tr>
    </tbody>
</table>

### Calidad

Esta versión incluye las siguientes mejoras de calidad:

<table style="table-layout:auto">
    <tbody>
        <tr>
           <td><strong>Inventario</strong></td>
           <td>El sistema ahora funciona sin la dependencia anteriormente oculta del catálogo introducida por InventoryIndexer, lo que garantiza que la creación del producto, el interruptor de modo de visualización, el cambio de estado de las existencias y otras funcionalidades relacionadas funcionen según lo esperado. Anteriormente, esta dependencia oculta provocaba incoherencias, ya que diferentes entidades se sincronizaban y el indexador utilizaba diferentes entidades.</td>
        </tr>
        <tr>
            <td><strong>Pedidos</strong></td>
            <td>Para minimizar la confusión, la etiqueta del botón [!UICONTROL Submit Comment] cambió a [!UICONTROL Update] en la página <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/order-management/orders/order-processing#notes-for-this-order">detalle del pedido</a>.</td>
        </tr>
    </tbody>
</table>

### GraphQL

Esta versión incluye las siguientes mejoras de GraphQL:

<table style="table-layout:auto">
    <tbody>
        <td><strong>Carro y cierre de compra</strong></td>
        <td>
            <ul>
                <li><!--LYNX-387-->Se agregaron los siguientes campos nuevos al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> para admitir la presentación precisa de precios y los cálculos de descuento:
                <ul>
                  <li><code>original_item_price</code></li>
                  <li><code>original_row_total</code></li>
                  <li><code>row_total_including_catalog_discounts_only</code></li>
                </ul>
              </li>
              <li><!--LYNX-781-->Se ha actualizado el proceso de cierre de compra para que GraphQL solo muestre el método de pago "Gratis" cuando el total del pedido sea cero. Esta mejora reduce la confusión de los compradores y garantiza una experiencia de compra más fluida.</li>
              <li><!--LYNX-753-->Se agregó compatibilidad para recuperar la configuración de los términos y condiciones mediante la consulta de GraphQL <code>StoreConfig</code>. Nuevas configuraciones disponibles: [!UICONTROL Stores] &gt; [!UICONTROL Settings] &gt; [!UICONTROL Configuration] &gt; [!UICONTROL Checkout] &gt; [!UICONTROL Checkout Options] &gt; [!UICONTROL Enable Terms and Conditions]. Esta configuración permite que las aplicaciones de front-end habiliten y configuren términos y condiciones de forma dinámica mediante la vista de tienda en la página de cierre de compra.</li>
              <li><!--LYNX-542-->Se ha actualizado la mutación <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-updateCartItems"><code>updateCartItems</code></a> para que devuelva respuestas correctas con detalles de error en lugar de excepciones. Asignación de errores mejorada para mejorar la claridad de las notificaciones a los usuarios.</li>
              <li><!--LYNX-541-->Se agregó un nuevo tipo <code>InsufficientStockError</code> para manejar casos en los que los niveles de stock son insuficientes. Se ha ajustado el esquema para admitir nuevos tipos de error, lo que mejora las capacidades de creación de informes de errores.</li>
              <li><!--LYNX-547-->Mensajes refinados para notificaciones de cantidad insuficiente y no disponible.</li>
              <li><!--LYNX-451-->Se agregó el campo <code>grand_total_excluding_tax</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartPrices"><code>CartPrices</code></a>, lo que proporciona precios claros con impuestos incluidos.</li>
              <li><!--LYNX-377-->Agregó <code>not_available_message</code> a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemInterface"><code>CartItemInterface</code></a>.</li>
              <li><!--LYNX-731-->Se ha agregado compatibilidad de GraphQL para recuperar información de reglas del carro de compras. Se han introducido nuevas configuraciones de tienda para controlar la exposición de todas las reglas de carro de compras y las reglas de carro de compras aplicadas, junto con la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/cart/queries/all-rules/"><code>allCartRules</code></a> y el campo <code>Cart.rules</code> para recuperar las reglas de carro de compras activas.</li>
            </ul>
        </td>
       </tr>
        <tr>
           <td><strong>Clientes y grupos de clientes</strong></td>
           <td>Esta versión incluye las siguientes mejoras en la administración de clientes:
             <ul>
               <li><!--LYNX-391-->Tratamiento de errores refinado en la mutación <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-generateCustomerToken"><code>generateCustomerToken</code></a> para proporcionar mensajes específicos para correos electrónicos no confirmados. Admite una mejor guía del usuario y una mejor resolución de errores.</li>
               <li><!--LYNX-390-->Se agregó una nueva mutación <code>resendConfirmationEmail</code> para reenviar confirmaciones de correo electrónico.</li>
               <li><!--LYNX-773-->Se agregó una nueva consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/segments/"><code>customerSegments</code></a> para habilitar las funcionalidades de personalización.</li>
               <li><!--LYNX-729-->Se agregó la consulta <code>customerGroup</code> para devolver información relacionada con el grupo de clientes para invitados y clientes.</li>
               <li><!--LYNX-732-->Se agregaron nuevas configuraciones de tienda para administrar grupos de clientes, se introdujo la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/all-groups/"><code>allCustomerGroups</code></a> para recuperar una lista de todos los grupos de clientes disponibles y se expuso el campo <code>Customer.group</code> para acceder a la información de grupo del cliente que ha iniciado sesión actualmente.</li>
               <li><!--LYNX-566-->Se agregó el campo <code>customer.addressesV2</code> en la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/customer/"><code>customer</code></a>, agregando paginación para las direcciones de los clientes.</li>
             </ul>
           </td>
        </tr>
        <tr>
           <td><strong>Pedidos</strong></td>
           <td>Esta versión incluye las siguientes mejoras en la administración de pedidos de los usuarios:
             <ul>
              <li><!--LYNX-476-->Mensajes de error mejorados para incluir importes de inventario disponibles. Proporciona a los usuarios una perspectiva más clara de los niveles de stock durante las actualizaciones de pedidos.</li>
              <li><!--LYNX-470-->Se agregó un nuevo campo <code>date_of_first_order</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-468-->Se ha ampliado el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderAddress"><code>OrderAddress</code></a> para incluir atributos personalizados, lo que mejora la visibilidad de los detalles del pedido. Admite la visualización de información adicional en las páginas de confirmación de pedido.</li>
              <li><!--LYNX-450-->Se agregó el campo <code>is_virtual</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, lo que admite la identificación de productos virtuales. Mejora el procesamiento de pedidos al distinguir productos virtuales de físicos.</li>
              <li><!--LYNX-449-->Se agregó un tipo <code>OrderItemPrices</code> similar a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> a <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderItemInterface"><code>OrderItemInterface</code></a> con varios campos nuevos para el precio.</li>
              <li><!--LYNX-448-->Se ha mejorado la funcionalidad de la API para fusionar pedidos de invitados con cuentas de clientes en función de la coincidencia de correo electrónico. Optimiza la gestión de pedidos para los clientes que regresan.</li>
              <li><!-- LYNX-523: -->Se ha ampliado el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> para incluir un campo <code>available_actions</code> a fin de mejorar la administración de pedidos. El campo "available_actions" se asigna a una enumeración que enumera las posibles acciones que se pueden realizar en el pedido.</li>
              <li><!-- LYNX-524 -->Se agregó el campo <code>customer_info</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>. Este campo requiere el tipo <code>OrderCustomerInfo</code>, que contiene detalles sobre el nombre del cliente.</li>
              <li><!--LYNX-519-->Se agregaron códigos de error detallados al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CancelOrderOutput"><code>CancelOrderOutput</code></a>. Se ha mejorado la gestión de errores y los comentarios del usuario sobre los procesos de cancelación de pedidos.</li>
              <li><!--LYNX-505-->Se ha agregado una nueva mutación <code>confirmCancelOrder</code> para facilitar la cancelación de pedidos a los compradores invitados.</li>
              <li><!--LYNX-644-->Se ha actualizado la resolución <code>OrderStatusChangeDate</code> para que devuelva la fecha de cambio de estado del pedido en el formato predeterminado sin necesidad de volver a dar formato, lo que garantiza la coherencia en las respuestas.</li>
              <li><!--LYNX-642-->Se ha actualizado el campo <code>order.availableActions</code> para garantizar que no se devuelva la acción <code>REORDER</code> si un comerciante <a href="https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/shopper-tools/reorders-allow#configure-to-allow-customer-reorders">deshabilita</a> la funcionalidad de reordenación en el administrador.</li>
              <li><!--LYNX-598-->Se han actualizado las consultas <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> y <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> para que utilicen <code>lastname</code> en lugar de <code>postcode</code> porque algunos países consideran que el código postal es opcional. Como resultado, algunos usuarios invitados tuvieron problemas al recuperar tokens durante la realización de pedidos o al recuperar pedidos realizados mediante un token.</li>
              <li><!--LYNX-568-->Se ha actualizado la mutación <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/"><code>cancelOrder</code></a> para que solo sea accesible para los clientes registrados. Se ha agregado una nueva mutación <code>requestGuestOrderCancel</code>, que requiere un token de pedido (similar a la entrada <code>guestOrderByToken</code>).</li>
              <li><!--LYNX-551-->Se agregó un campo <code>order_status_change_date</code> para rastrear la fecha de los cambios de estado de los pedidos.</li>
              <li><!--LYNX-524-->Se agregó <code>OrderCustomerInfo</code> al tipo <code>CustomerOrder</code>.</li>
              <li><!--LYNX-523-->Se ha agregado el campo <code>CustomerOrder.available_actions</code> para mostrar las acciones disponibles de un pedido.</li>
              <li><!--LYNX-519-->Códigos de error asignados con los mensajes de error correspondientes para la cancelación de pedidos.</li>
              <li><!--LYNX-470-->Se agregó un filtro de historial de pedidos basado en el campo <code>created_at</code> y se expuso <code>date_of_first_order</code> con el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-450-->Se agregó el campo <code>is_virtual</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, similar al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-Cart"><code>Cart</code></a>. Esto permite al cliente ocultar de forma condicional la información de envío de los pedidos que solo contienen productos virtuales.</li>
              <li><!--LYNX-449-->Se han actualizado las respuestas de consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> y <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> para incluir los campos relacionados con el resumen del carro de compras que faltan para la confirmación del pedido. Se agregaron el tipo <code>OrderItemPrices</code> y los campos <code>original_price</code> y <code>original_price_including_tax</code> a los tipos <code>OrderItemPrices</code> y <code>CartItemPrices</code>. El campo precios ahora incluye información detallada sobre los precios, lo que permite que la página de confirmación del pedido muestre un resumen más completo del carro de compras, que incluye la cantidad total, los detalles del artículo y los precios predescuento.</li>
              <li><!--LYNX-448-->Se ha actualizado la API para admitir la combinación de pedidos de invitado con cuentas de cliente cuando coinciden las direcciones de correo electrónico. Los pedidos realizados por los invitados ahora se asocian automáticamente con la cuenta del cliente correspondiente al registrarse o si se encuentra una cuenta existente con el mismo correo electrónico.</li>
              <li><!--LYNX-701-->Se ha actualizado el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> para incluir los puntos de crédito y recompensa de tienda aplicados a los totales del pedido. Ahora, la carga útil del pedido devuelve la etiqueta y el valor tanto para los puntos de crédito de tienda como de recompensa, lo que garantiza detalles completos del resumen de costes.</li>
            </ul>
           </td>
        </tr>
        <tr>
        <td><strong>Productos y catálogo</strong></td>
        <td>
            <ul>
              <li><!--LYNX-730-->Se agregaron configuraciones de tienda para reglas de precios de catálogo, se agregó la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/all-rules/"><code>allCatalogRules</code></a> para recuperar todas las reglas de catálogo disponibles y se expuso el campo <code>Product.rules</code> para mostrar las reglas de catálogo aplicadas actualmente a un producto.</li>
              <li><!--LYNX-540-->Se agregó un campo <code>quantity</code> en <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ProductInterface"><code>ProductInterface</code></a> para proporcionar detalles de nivel de stock. Muestra las existencias disponibles o nulas en función de la configuración de la administración.</li>
              <li><!--LYNX-460-->Se ha corregido la visualización de precios de los productos agrupados, lo que garantiza una información precisa sobre precios y divisas.</li>
              <li><!--LYNX-401-->Se agregaron los campos <code>grouped_product_image</code> y <code>configurable_product_image</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Opciones de regalo y tarjetas de regalo</strong></td>
        <td>
            <ul>
              <li><!--LYNX-713-->Se han actualizado los tipos <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftOptionsPrices"><code>GiftOptionsPrices</code></a> y <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a> para incluir los campos <code>price_excluding_tax</code> y <code>price_including_tax</code> para el envoltorio para regalos (por artículo y pedido) y las tarjetas impresas. Esta mejora garantiza una visualización de impuestos precisa en función de los ajustes de configuración de la tienda, tanto para las consultas del carro de compras como de pedidos.</li>
              <li><!--LYNX-695-->Se ha actualizado la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/"><code>storeConfig</code></a> para incluir <code>printed_card_priceV2</code> a fin de que devuelva un objeto price en lugar de una cadena.</li>
              <li><!--LYNX-694-->Se agregaron los campos <code>gift_wrapping_available</code> y <code>gift_wrapping_price</code> a la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/products/"><code>products</code></a>. El campo <code>gift_wrapping_price</code> ahora se devuelve como un objeto de precio.</li>
              <li><!--LYNX-693-->Se agregaron <code>gift_message</code> y <code>gift_wrapping</code> campos al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftCardItem"><code>GiftCardCartItem</code></a>; se actualizó la lógica para descartar el envoltorio para regalos para productos virtuales.</li>
              <li><!--LYNX-692-->Se ha actualizado la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> para procesar correctamente el campo <code>gift_message</code>.</li>
              <li><!--LYNX-691-->Se ha actualizado la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> para incluir el campo <code>applied_gift_cards</code>, lo que permite recuperar datos de tarjetas regalo aplicados similares a <code>applied_coupons</code>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Devuelve</strong></td>
        <td>
            <ul>
                <li><!--LYNX-632-->Se ha actualizado la mutación <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> para la entrada de elementos RMA a fin de resolver incoherencias entre la consulta y la mutación relacionadas con el atributo devuelto.</li>
                <li><!--LYNX-515-->Se ha actualizado la mutación <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> para admitir devoluciones de pedidos de invitado.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Impuestos y precios</strong></td>
        <td>
            <ul>
                <li><!--LYNX-633-->Se ha actualizado el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a> con campos para que coincida con la configuración de presentación de impuestos de la configuración de administración.</li>
                <li><!--LYNX-697-->Se agregaron los campos <code>subtotal_excl_tax</code> y <code>subtotal_incl_tax</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a>. Marcó el campo <code>subtotal</code> como obsoleto.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Envío y facturación</strong></td>
        <td>
            <ul>
                <li><!--LYNX-618-->Se ha agregado un identificador para la libreta de direcciones en la dirección del carro de envío o de facturación en el tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartAddressInterface"><code>CartAddressInterface</code></a>.</li>
                <li><!--LYNX-617-->Se agregó el campo <code>same_as_billing</code> al tipo <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ShippingCartAddress"><code>ShippingCartAddress</code></a>, que indica si las direcciones de envío y facturación son iguales.</li>
                <li><!--LYNX-458-->Se han actualizado las consultas <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrder"><code>guestOrder</code></a> y <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrderByToken"><code>guestOrderByToken</code></a> para incluir atributos de dirección personalizados, lo que garantiza información de dirección completa para las nuevas cuentas.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Seguridad</strong></td>
        <td>
            <ul>
                <li><!--LYNX-522-->Se agregó un campo <code>theme</code> a la consulta <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-recaptchaV3Config"><code>recaptchaV3Config</code></a>. Este campo le permite especificar el nombre de la temática que se utilizará para procesar el reCaptcha, lo que garantiza una información precisa sobre el precio y la moneda.</li>
                <li><!--LYNX-319-->Se ha mejorado la seguridad al garantizar que las solicitudes con tokens de cliente caducados ahora devuelvan una respuesta de <code>401 Unauthorized</code>.</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

### Braintree

Esta versión incluye las siguientes mejoras en la extensión integrada de Braintree:

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Mejoras generales</strong></td>
            <td>Esta versión de incluye las siguientes mejoras generales en la extensión de Braintree:
            <ul>
              <li><!-- BUNDLE-3373 -->Para ofrecer una verdadera experiencia de pago exprés, la extensión de Braintree ahora incluye los métodos de envío dentro del modal de PayPal, lo que permite al cliente cerrar la compra con menos clics. Las opciones de envío se enumeran y calculan según la dirección de envío guardada en la cuenta PayPal del cliente. Anteriormente, los clientes llegaban a una página de revisión y elegían una forma de envío para completar el pago. La página de revisión ahora es opcional y permite a los comerciantes activar o desactivar este recorrido de usuario. Los botones PayPal Express se encuentran en el PDP, el minicarrito, el carrito y la parte superior del pago.</li>
              <li><!-- BUNDLE-3407 -->Ahora existe una nueva versión de Braintree SDK. La versión de PHP SDK es 6.21.0. La versión de JavaScript SDK es 3.112.0. La versión más reciente tiene algunos cambios necesarios para una futura compatibilidad con las nuevas funciones y funcionalidades.</li>
              <li><!-- BUNDLE-3406 -->Optimización de código general dentro de la extensión de Braintree.</li>
              <li><!-- BUNDLE-3405 -->Para determinar la página en la que un cliente inicia la experiencia de cierre de compra de PayPal (PDP, carro o cierre de compra), la extensión de Braintree ahora pasa un atributo <code>data-page-type</code> a JavaScript SDK. Este atributo se utiliza para representar el botón en la página.</li>
              <li><!-- BUNDLE-3404 -->Siguiendo las nuevas directrices de marca de PayPal, la extensión de Braintree ahora coloca la mensajería PayAfter en el PDP, el minicarrito y el carrito. Ahora, la mensajería se sitúa más cerca del precio/total. La extensión ahora también muestra los mensajes PayAfter como parte del botón de pago, en lugar de por separado.</li>
              <li><!-- BUNDLE-3403 -->Para mejorar la experiencia de pago exprés, la extensión de Braintree integra los métodos de envío directamente en el modal Google Pay, lo que permite a los clientes completar su pago con menos clics. Las opciones de envío se muestran y calculan automáticamente en función de la dirección guardada en la cuenta de Google Pay del cliente. Anteriormente, se redirigía a los clientes a una página de revisión para seleccionar una forma de envío antes de completar el pago. Ahora, la página de revisión es opcional, lo que proporciona al comerciante flexibilidad para habilitar o deshabilitar este paso en el proceso de cierre de compra. Los botones de Google Pay Express se encuentran en el minicarrito, el carrito y la parte superior del pago.</li>
              <li><!-- BUNDLE-3402 -->Se ha actualizado la marca Apple Pay actual a la versión más reciente.</li>
              <li><!-- BUNDLE-3401 -->Se ha actualizado la marca Google Pay actual a la versión más reciente.</li>
              <li><!-- BUNDLE-3400 -->Se eliminaron los métodos de pago Sofort y Giropay, ya que ya no son compatibles.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Seguimiento de paquetes</strong></td>
            <td><!-- BUNDLE-3420 -->Cuando se envía un pedido de PayPal, la extensión de Braintree ahora envía el operador y el número de seguimiento a las cuentas de PayPal del comerciante y del cliente. Proporcionar información de seguimiento y detalles a nivel de artículo mejora considerablemente la experiencia del cliente y reduce los costes operativos para los comerciantes. Los clientes pueden fácilmente iniciar sesión en su cuenta de PayPal, ver el pedido y acceder al vínculo de seguimiento. Los comerciantes se benefician de la resolución automática de las disputas de PayPal "Artículo no recibido", un acceso más rápido a los fondos en pagos y retenciones de disputas, actualizaciones de seguimiento en vivo, disputas a nivel de artículo (en lugar de disputas para todo el pedido) y perfiles de riesgo de comerciante mejorados.</td>
        </tr>
        <tr>
            <td><strong>Elementos de línea</strong></td>
            <td>Esta versión incluye las siguientes mejoras en los elementos de línea:
            <ul>
              <li><strong>Aplicar pago</strong><!-- BUNDLE-3409 -->: Cuando los clientes realizan el cierre de compra utilizando Apple Pay Express, la extensión de Braintree ahora muestra los elementos de línea del carro de compras dentro del modal Apple Pay. Al hacer clic en la información del objeto (?) junto al precio, los clientes pueden ver artículos de carro de compras, descuentos, envíos y detalles de impuestos individuales, lo que elimina la necesidad de salir del modal para confirmar los artículos.</li>
              <li><strong>Google Pay</strong><!-- BUNDLE-3408 -->: Cuando los clientes realizan la compra mediante Google Pay Express, la extensión de Braintree ahora muestra los elementos de la línea del carro de compras directamente en el modal de Google Pay. Al hacer clic en la información del objeto (?) junto al precio, el cliente puede ver artículos de carro, descuentos, envíos y detalles de impuestos individuales, lo que elimina la necesidad de salir del modal para verificar sus artículos.</li>
            </ul>
            </td>
        </tr>
    </tbody>
</table>

<!-- Fixed issues -->

{{$include /help/_includes/templated/release/fixed-issues/v2.4.8/commerce.md}}
