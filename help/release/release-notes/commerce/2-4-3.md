---
title: Notas de la versión de Adobe Commerce 2.4.3
description: Obtenga información sobre las nuevas funciones, mejoras, correcciones de errores y problemas conocidos de la versión 2.4.3 Adobe Systems Commerce.
exl-id: 34b1248f-a44e-489b-94ae-945d31abecea
source-git-commit: 16feb8ec7ecc88a6ef03a769d45b1a3a2fe88d97
workflow-type: tm+mt
source-wordcount: '15110'
ht-degree: 0%

---

# Adobe Systems Commerce 2.4.3 Notas de la versión

Adobe Systems Commerce 2.4.3 introduce mejoras en el rendimiento y la seguridad, además de mejoras significativas en la plataforma. Las mejoras de seguridad incluyen la expansión de la cobertura de reCAPTCHA y la inclusión de límites de velocidad incorporados. Las dependencias del compositor principal y las bibliotecas terceros se han actualizado a las últimas versiones compatibles con PHP 8.x.

Esta versión incluye más de 370 nuevas correcciones del código principal y 33 mejoras de seguridad. Todos los problemas conocidos identificados en el Notas de la versión Adobe Systems Commerce 2.4.2 se han corregido en esta versión.

{{bics}}

Consulte [Adobe Systems Notas de la versión](../security/2-4-2-patches.md) Commerce 2.4.2-p2 para obtener información sobre Adobe Systems Commerce 2.4.2-p2.

## Otra información de la versión

Aunque el código para estas características se incluye con versiones trimestrales, varios de estos proyectos (por ejemplo, B2B, Page Builder y Progressive Web Applications (PWA) Studio) también se publican de forma independiente. Las correcciones de estos proyectos se documentan en la información de versión separada y específica del proyecto que está disponible en la documentación de cada proyecto.

## Aplicar MC-43048__set_rate_limits__2.4.3.parche para solucionar el problema con la limitación de velocidad de la API

Esta revisión proporciona una solución para el problema en el que las API de Web no pueden procesar solicitudes que contienen más de 20 elementos en una matriz.Este problema afecta a las implementaciones que ejecutan Magento Open Source 2.4.3, Adobe Systems Commerce 2.4.3 o 2.3.7-p1. Se agregó la limitación de velocidad incorporada a estas versiones para evitar ataques de denegación de servicio (DoS), y el máximo predeterminado se estableció en 20. Este parche revierte el límite predeterminado a un valor superior. Si sospecha que su tienda está experimentando un ataque de denegación de servicio, Adobe recomienda reducir los límites de entrada predeterminados a un valor más bajo para restringir el número de recursos que se pueden solicitar. Consulte el artículo de la base de conocimiento [API web no puede procesar solicitudes con más de 20 elementos en la matriz](https://support.magento.com/hc/en-us/articles/4406893342093).

## Aplique AC-384__Fix_Incompatible_PHP_Method__2.4.3_ce.patch para solucionar el error grave de PHP en la actualización

Durante la actualización a Adobe Commerce 2.4.3 puede producirse el siguiente error grave:

```
PHP Fatal error: Uncaught Error: Call to undefined function Magento\Framework\Filesystem\Directory\str_contains() in [...]/magento/vendor/magento/framework/Filesystem/Directory/DenyListPathValidator.php:74
```

Este error se debe al uso de la `str_contains` función, que es una función PHP 8.x. Adobe Commerce 2.4.3 no admite PHP 8.x. Este hotfix reemplaza esta función con una función compatible con PHP 7.x. Consulte el artículo de Knowledge Base de [actualización de Adobe Systems Commerce 2.4.3, 2.3.7-p1 PHP Fatal error Hotfix](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) .

## `AC-3022.patch` Aplicar seguir ofreciendo DHL como transportista

DHL ha introducido la versión de esquema 6.2 y dejará de utilizar la versión de esquema 6.0 en un futuro próximo. Adobe Commerce 2.4.4 y las versiones anteriores compatibles con la integración de DHL solo admiten la versión 6.0. Los comerciantes que implementen estas versiones deben aplicar `AC-3022.patch` lo antes posible para seguir ofreciendo DHL como transportista. Consulte el artículo de la base de conocimiento [Aplicar un parche para seguir ofreciendo DHL como transportista](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) para obtener información sobre cómo descargar e instalar el parche.

## Características destacadas

Busque los siguientes aspectos destacados en esta versión.

### Mejoras sustanciales en materia de seguridad

Esta versión incluye 33 correcciones de seguridad y mejoras de seguridad de la plataforma. Muchas de estas correcciones de seguridad se han transferido a 2.4.2-p2 y 2.3.7-p1.

#### Treinta y tres mejoras de seguridad que ayudan a cerrar las vulnerabilidades de ejecución remota de código (RCE) y ejecución de scripts en sitios múltiples (XSS)

Hasta la fecha no se han producido ataques confirmados relacionados con estos problemas. Sin embargo, ciertas vulnerabilidades pueden explotarse para acceder a la información del cliente o hacerse cargo de sesiones de administrador. La mayoría de estos problemas requieren que un atacante obtenga primero acceso al administrador. Como resultado, le recordamos que tome todas las medidas necesarias para proteger a su Administrador, incluidos, entre otros, estos esfuerzos: lista de direcciones IP permitidas, [autenticación de doble factor](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), uso de una VPN, el uso de una ubicación única en lugar `/admin`de , y una buena higiene contraseña. Consulte [Adobe Systems boletín](https://helpx.adobe.com/es/security/products/magento/apsb21-64.html) de seguridad para obtener información sobre estos problemas corregidos.

#### Mejoras de seguridad adicionales

Las mejoras de seguridad de esta versión mejoran el cumplimiento de las prácticas recomendadas de seguridad más recientes, entre las que se incluyen:

* Un **nuevo plug-in** Composer ayuda a evitar confusiones de dependencias e identifica paquetes maliciosos con los mismos nombres que los paquetes internos en el repositorio de paquetes públicos. Consulte las versiones de Adobe Systems Nuevo complemento Composer con la [versión](https://magento.com/blog/best-practices/adobe-releases-new-composer-plugin-magento-243-release) 2.4.3 publicación de blog.

* **La limitación de velocidad ahora está integrada en las API** para evitar ataques de denegación de servicio (DoS). Las API web ahora imponen restricciones sobre el tamaño o el número de recursos (el máximo predeterminado es 20 y se puede configurar en un valor diferente según necesidad empresarial) que puede solicitar un cliente. Consulte [Limitación](https://developer.adobe.com/commerce/webapi/get-started/api-security/) de velocidad para obtener información sobre cómo configurar estas restricciones. <!-- MC-35358-->

* **La cobertura de ReCAPTCHA se ha ampliado** para incluir:

   * Las API web que tienen páginas HTML correspondientes se cubren a través de ReCAPTCHA. (Esto excluye las API web a las que acceden las integraciones). La cobertura de ReCAPTCHA protege los endpoints de ataques de spam. Cuando un servicio de integración de terceros que usa OAuth accede a las API web, ReCAPTCHA se desactiva.<!-- MC-34472-->

   * La Página de escaparate de realizar pedido y las API web relacionadas con el pago. La protección ReCAPTCHA para estas páginas está deshabilitada de forma predeterminada y puede habilitarse desde el administrador. Esta cobertura agrega un mecanismo de fuerza bruta para proteger a las tiendas de ataques de carding.

{{cve-notice}}

### Mejoras de infraestructura

Esta versión contiene mejoras que mejoran la calidad del marco de trabajo y de las siguientes áreas funcionales:

* Cuenta de cliente

* Catálogo

* CMS

* OMS

* Importar/Exportar

* Promociones y direccionamiento

* Carro y cierre de compra

* B2B

* Puesta en escena y Vista previa

**PayPal Paga después ahora se admite** en implementaciones que incluyen PayPal. Esta función permite a los compradores pagar un pedido en cuotas quincenales en lugar de pagar el monto total en el momento de la compra. <!-- MC-40556-->

**`use_application_lock` Nuevo modo** de indexación. El `use_application_lock` modo permite habilitar la reindexación mediante el uso de entorno variables o configurando el `app/etc/env.php` archivo. Ya no es necesario restablecer manualmente el indizador después de un error con este modo habilitado. Consulte Uso [aplicación modo de bloqueo para procesos](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes) de reindexación.

### Platform mejoras

Versión 2.4.3 aún no es compatible con PHP 8.x, pero las siguientes actualizaciones de la plataforma nos acercan a la compatibilidad futura con PHP 8.x.

* Las dependencias del Compositor principal y los bibliotecas terceros se han actualizado a las últimas versiones compatibles con PHP 8.x. <!-- MC-39514-->

* El biblioteca KnockoutJS se ha actualizado a la versión 3.5.1 (la última versión). <!-- MC-40694-->

* Se ha eliminado la biblioteca TinyMCE v3 obsoleta. Las `Magento_Tinymce3Banner` pruebas módulo y MFTF relacionadas con TinyMCE v3.x se han eliminado de Adobe Systems Commerce. <!-- MC-42199 42170 -->

* Versión 2.4.3 ha sido probado y confirmado como compatible con Redis 6.0.12. (la versión 2.4.x sigue siendo compatible con Redis 5.x.)

* Las dependencias biblioteca de Laminas se han actualizado a versiones compatibles con PHP 8.x. Se han quitado algunas dependencias redundantes del archivo `composer.json`. **Adobe Commerce 2.4.3 usa Laminas 3.4.0**. <!-- MC-39513-->

### Mejoras de rendimiento

Esta versión incluye mejoras que reducen el tiempo de indexación de los indexadores Precio del producto y Regla de catálogo. Los comerciantes ahora pueden excluir un sitio web de un grupo de clientes o un catálogo compartido, lo que reduce el número de registros para la indexación y mejora los tiempos de indexación.

### Live Search

[Live Search](https://experienceleague.adobe.com/es/docs/commerce/live-search/overview) impulsado por [Adobe Sensei](https://www.adobe.com/sensei.html) ofrece un experiencia de búsqueda intuitivo mediante el uso de algoritmos de aprendizaje artificial y inteligencia artificial para realizar una análisis profunda de datos sobre visitantes agregados.Consulte [las notas](https://experienceleague.adobe.com/docs/commerce/live-search/release-notes.html?lang=es) de la versión de Search en vivo.

### GraphQL

Esta versión añade compatibilidad con GraphQL para las siguientes funciones:

* **Catálogos compartidos**<!-- PWA-1294-->

* **Listas de deseos**. La mutación [addWishlistItemsToCart](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/add-items-to-cart/) mueve elementos de la lista de artículos deseados especificada al carro de compras del cliente. <!-- magento/partners-magento2ee#449-->

* **Registros de regalos**. Las tareas cubiertas incluyen: <!-- PWA-1290-->

   * Use la [consulta de registro de regalos](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/gift-registry/) para devolver el contenido de los registros de regalos del cliente.

   * Busque registros de regalos por [tipo](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/type-search/), [correo electrónico](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/email-search/) o [ID](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/queries/id-search/).

   * [Crear](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/create/), [actualizar](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update/) o [eliminar](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove/) registros de regalos.

   * [Actualice](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update-items/) o [elimine](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove-items/) artículos de un registro de regalos.

   * [Mueva todos los artículos](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/move-cart-items/) de la carro de compras al registro de regalos. <!-- ENGCOM-9082 9087-->

   * [añadir](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/add-registrants/), [actualice](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/update-registrants/) o [elimine](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/remove-registrants/) a los solicitantes de registro de un registro de regalos.

   * [Comparta](https://developer.adobe.com/commerce/webapi/graphql/schema/gift-registry/mutations/share/) un registro de regalos con los invitados.

* **Cotizaciones** negociables. Consulte las [`negotiableQuote`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/queries/quote/) y [`negotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/queries/quotes/) consultas. <!-- PWA-1292-->

  Nuevo mutaciones incluyen:

   * [`requestNegotiableQuote`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/request/)

   * [`setNegotiableQuoteShippingAddresses`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-shipping-address/)

   * [`updateNegotiableQuoteQuantities`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/update-quantities/)

   * [`removeNegotiableQuoteItems`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/remove-items/)

   * [`closeNegotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/close/)

   * [`deleteNegotiableQuotes`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/delete/).

* **Rutas compartidas**. El [consulta](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/route/) de ruta y [RoutableInterface](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/routable/) admiten solicitudes de enrutamiento en páginas de productos, categoría y CMS. El `urlResolver` consulta ha quedado obsoleto y su funcionalidad ha sido reemplazado por el `route` consulta.

Consulte la Guía[&#128279;](https://developer.adobe.com/commerce/webapi/graphql/) para desarrolladores de GraphQL para obtener más información sobre estas mejoras.

### B2B

La versión 2.4.3 presenta B2B v1.3.2. Esta versión incluye varias correcciones de errores. Ver [Notas de la versión B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html?lang=es).

### Page Builder

Page Builder ahora está disponible como una extensión empaquetada en Magento Open Source. Ahora es el herramienta de edición Contenido predeterminado para Adobe Systems Commerce 2.4.3 y Magento Open Source 2.4.3. Puede reemplazar el editor WYSIWG con cualquier terceros módulo.

Page Builder reemplaza el editor TinyMCE en las siguientes áreas de administración:

* Página CMS
* Bloque CMS
* Categoría Descripción
* Descripción del producto

Todos los contenido creados en TinyMCE se han migrado a Page Builder como HTML.

### PWA Studio

Para obtener información sobre mejoras y correcciones de errores, consulte [versiones de PWA Studio](https://github.com/magento/pwa-studio/releases). Consulte [la compatibilidad](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) para obtener una lista de PWA Studio versiones y sus versiones compatibles.

### Actualizar Compatibilidad herramienta

El ámbito de la [herramienta](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=es) de Compatibilidad de actualización se ha ampliado en función de los comentarios del comunidad. Unirse nuestro [#upgrade de compatibilidad herramienta](https://magentocommeng.slack.com/archives/C019Y143U9F) Slack canal obtener apoyo del producto de Adobe equipo y el comunidad, así como ayudar a guía la dirección futura del herramienta.

### Actualizaciones de servicios administrados en la nube

Esta versión incluye mejoras en nuestra compatibilidad con Amazon Simple Storage Service (AWS S3) y los servicios administrados en la nube de Amazon Aurora. Proporciona compatibilidad certificada con AWS ElastiCache, AWS Elasticsearch y AWS Managed Queues (Rabbit MQ). (Hemos probado la funcionalidad, el rendimiento y la integración de estos servicios con Adobe Commerce).

### Integración Adobe Stock

Esta versión incluye Adobe Stock Integration v2.1.1.

### Extensiones desarrolladas por el proveedor

Consulte los siguientes temas para conocer las actualizaciones de las características y los cambios de esta versión:

* [Amazon paga](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html). Amazon Pay ha quedado obsoleto y se eliminará en una versión 2.4.x posterior. Versión 2.4.3 y posterior solo contendrá actualizaciones de compatibilidad y correcciones de errores importantes.

* [Braintree](https://experienceleague.adobe.com/es/docs/commerce-admin/stores-sales/payments/braintree)

* [dotdigital Engagement Cloud](../../../upgrade/modules/upgrade.md)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Nube de vértices](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Yotpo Reseñas de productos](../../../upgrade/modules/upgrade.md)

## Problemas solucionados

Hemos corregido cientos de problemas en el código principal 2.4.3.

### Instalación, actualización implementación

<!-- MC-41154-->

* El `bin/magento setup:db:status` comando ahora devuelve un mensaje que indica que todo está actualizado después de una actualización correcta. Anteriormente, el aplicación mostraba este error: `Declarative Schema is not up to date`.

<!-- MC-40031 -->

* Los valores de configuración ahora se conservan en el formulario recargar cuando se produce un error en la creación de un nuevo producto configurable. Anteriormente, los valores se perdían durante el formulario recargar y el aplicación mostraba este error: `The value specified in the URL Key field would generate a URL that already exists`. [GitHub-32102](https://github.com/magento/magento2/issues/32102)

<!-- MC-37596-->

* El aplicación ya no produce una excepción cuando se ejecuta `bin/magento setup:upgrade` para actualizar desde una implementación Magento Open Source con Redis a Adobe Systems Commerce.

<!-- MC-34453-->

* Las reglas de precios carro de compras creadas anteriormente ahora se muestran en el Página de panel de ensayo de contenido después de actualizar un implementación de Magento Open Source a Adobe Systems Commerce.

<!-- ENGCOM-8508 -->

* Las implementaciones que se ejecutan en Galera Cluster ahora dan soporte a más clientes. [GitHub-31038](https://github.com/magento/magento2/issues/31038)

<!-- ENGCOM-9036 MC-41938 -->

* Los administradores ahora pueden iniciar sesión correctamente en un implementación cuando el aplicación se haya instalado con la opción o con `web/seo/use_rewrites` 0 `—use-rewrites=0` en `core_config_data_table`. [GitHub-32100](https://github.com/magento/magento2/issues/32100)

<!-- ENGCOM-8451 -->

* Se ha actualizado la `sortOrder` carga para `AsyncCssPlugin`. El aplicación ahora se carga antes de `AsyncCssPlugin` `JsFooterPlugin`. [GitHub-30882](https://github.com/magento/magento2/issues/30882)

<!-- ENGCOM-8701 -->

* `Magento\Config\Model\Config\PathValidator` Ahora comprueba la ruta de visualización para determinar si existe un elemento y, si tiene una ruta de configuración, utiliza la ruta en `config.xml` su lugar para validación. [GitHub-27678](https://github.com/magento/magento2/issues/27678)

<!-- ENGCOM-8684 -->

* La compilación de archivos Less con Grunt o por compilación del lado del servidor ahora produce los mismos resultados. Anteriormente. `.abs- styles`, que extiende otros `.abs- styles` en `_extends.less`, no se generaron correctamente cuando se compilaron con Grunt. Esto resultaba en diferencias entre las implementaciones de producción y desarrollo. [GitHub-7231](https://github.com/magento/magento2/issues/7231)

### AdminGWS

<!-- MC-40703-->

* Admin GWS ahora usa `int` valores para la `website_id` condición SQL en las colecciones de Admin para administradores con permisos personalizados.

### Integración Adobe Stock

<!-- MC-39754-->

* La aplicación ahora muestra un mensaje informativo y un vínculo a la página Administrador **Tiendas** > **Configuración** > **Avanzado** > **Sistema** en la página Buscar Adobe Stock cuando no se han establecido **Clave de API (ID de cliente)** y **Secreto de cliente**. Anteriormente, la aplicación mostraba este error: `We couldn't find any records` y ningún vínculo.

### Servidor

<!-- MC-40389-->

* Los administradores con acceso restringido (por ejemplo, a los que se les asigna acceso a un solo sitio web) ya no pueden editar las categorías configuradas como Ámbito global.

<!-- MC-39037-->

* El informe del sistema generado (**soporte >** del **sistema** > **informe** del sistema) ahora se representa correctamente. Anteriormente, los contenido de informe estaban desalineados.

<!-- MC-30152 ENGCOM-8625-->

* Ahora, la aplicación desactiva validación en el **campo Precio** como se espera cuando la **configuración de precio** dinámico está habilitada durante paquete creación del producto. Anteriormente, el aplicación producía un error de validación al quitar un **valor del campo Precio** cuando estaba habilitado el **ajuste Precio** dinámico. [GitHub-26214](https://github.com/magento/magento2/issues/26214)

<!-- MC-24840-->

* Los redireccionamientos infinitos ya no se producen cuando el URL de administración difiere del sitio web predeterminado URL en implementaciones donde el aplicación está configurado para ser accesible desde dos URL.

### Productos del paquete

<!-- MC-41810-->

* Ahora puede usar la `addProductsToCart` mutación para agregar un producto paquete con más de una opción de casilla de verificación a una carro de compras.

<!-- MC-41614-->

* La indexación de precios de paquete productos ahora se ejecuta utilizando tablas temporales, lo que evita bloquear las tablas de la base de datos. Anteriormente, la aplicación utilizaba tablas físicas, lo que resultaba en tablas bloqueadas.

<!-- MC-41177 magento/magento2#32594-->

* El precio de un artículo paquete ahora se puede establecer en 0,00. Anteriormente, cuando se volvía al Página de edición después de establecer el precio en 0,00, el precio volvía a su valor predeterminado. [GitHub-32383](https://github.com/magento/magento2/issues/32383)

<!-- MC-40603-->

* Los detalles del pedido para pedidos que contienen productos agrupados ahora muestran el precio correcto para los productos agrupados si el precio se cambió antes de realizar el pedido.

<!-- MC-40035-->

* El estado de stock del producto agrupado ahora se actualiza en función del estado de stock de sus productos secundarios. Anteriormente, los productos agrupados se mostraban como agotados cuando se eliminaba una opción del producto y el producto agrupado tenía dos opciones con el mismo SKU.

<!-- MC-39276-->

* Un administrador ahora puede cambiar el valor del atributo `Shipment Type` de un producto agrupado después de que se haya movido a un grupo de atributos diferente. Anteriormente, este atributo siempre se guardaba con un valor `Together` si se movía a un grupo de atributos distinto del predeterminado en el conjunto de atributos.

<!-- MC-38900-->

* La mutación `setGuestEmailOnCart` de GraphQL ahora actualiza correctamente el correo electrónico de invitado. Anteriormente, las tablas de direcciones de presupuesto y presupuesto no se actualizaban.

<!-- MC-37719-->

* Agregar, quitar o actualizar un producto secundario a un producto paquete a través de llamadas a la API de REST ahora desencadena la reindexación según lo esperado. Anteriormente, estas acciones no desencadenaban la reindexación y, como resultado, el producto paquete no cambiaba su estado de existencias hasta que se realizaba la reindexación manual.

<!-- MC-35725 ENGCOM-8568-->

* Ahora, la aplicación muestra el rango de precios correcto para paquete productos con precios escalonados. [GitHub-30284](https://github.com/magento/magento2/issues/30284)

<!-- MC-35638-->

* El aplicación ahora muestra el mismo precio total que se esperaba en el Página de carro de compras y en el paso de envío del flujo de trabajo de pago después de que el precio de una opción de paquete haya cambiado.

<!-- MC-32617-->

* Ahora puede configurar correctamente un producto paquete accediendo a él desde un carro de compras de cliente. Anteriormente, Configurar producto nunca Página cargaba completamente y no se podía guardar la configuración.

<!-- MC-30317 ENGCOM-7141-->

* Los comerciantes ahora pueden asignar un precio único para un paquete de productos en cada vista de tienda de una implementación de varias tiendas. Los precios específicos del sitio web se guardan en la tabla `catalog_product_bundle_selection_price`. Anteriormente, la aplicación no basaba el precio de un producto agrupado en el ámbito del sitio web ni siquiera cuando **Tiendas** > **Configuración** > **Catálogo** > **Catálogo** > **Precio** > **Ámbito del precio de catálogo** se establecía en `Website`. No se guardaron precios específicos de sitios web en `catalog_product_bundle_selection_price`. [GitHub-12584](https://github.com/magento/magento2/issues/12584)

<!-- ENGCOM-8705 MC-38953-->

* Las facturas de los productos agrupados ahora muestran la cantidad correcta para los productos simples asociados cuando se deshabilita **Asignación dinámica de precios**. Anteriormente, los productos simples asociados con el producto agrupado tenían la cantidad del producto principal, no el producto agrupado). [GitHub-30802](https://github.com/magento/magento2/issues/30802)

<!-- magento/magento2#30374 MC-36930-->

* La `updateProductsInWishlist` mutación ahora actualiza con éxito los elementos que pertenecen a un producto paquete en un deseo lista. Anteriormente, en lugar de actualizar el elemento de lista de deseo, esta mutación eliminaba el elemento y creaba uno nuevo, que cambiaba la ID del elemento.

<!-- MC-38575-->

* Ahora puede definir los atributos y `has_options` paquete `required_options` como se espera al crear o actualizar un producto paquete con el `POST /V1/product/:sku` extremo. Anteriormente, estos atributos personalizados se establecían en 0 (cero) a pesar de los esfuerzos por establecerlo en 1 (uno).

<!-- MC-38483-->

* Los datos de productos de paquete que antes faltaban ahora se incluyen en el proceso de ensayo. Esto resuelve incoherencias en el comportamiento del producto cuando los compradores compran un producto paquete desde el Página de listado de productos en lugar de agregarlo directamente desde una página de producto.

### Caché

<!-- ENGCOM-8554-->

* El `varnish6.vcl` archivo se ha actualizado para omitir almacenamiento en caché del Página del cliente.

### CAPTCHA

<!-- MC-41572-->

* CAPTCHA ahora valida correctamente los datos proporcionados por un comprador, y los campos CAPTCHA ahora se muestran como se esperaba después de los múltiples intentos fallidos de un comprador de pagar con PayPal Payflow Pro.

<!-- MC-41281-->

* CAPTCHA validación ya no falla aleatoriamente en el Página de pago del flujo de trabajo de pago.

<!-- MC-41001-->

* La aplicación ahora muestra los campos CAPTCHA como se espera después de superar el número de intentos de finalización fallidos. Anteriormente, aunque la aplicación le pedía que intentara volver a intentar el desafío CAPTCHA, no mostraba los campos CAPTCHA.

<!-- MC-40359-->

* CAPTCHA ahora funciona como se espera en la página de cierre de compra. Anteriormente, después de que un comprador respondiera correctamente a un desafío CAPTCHA, el cargador en el proceso de pago nunca Página completado, y el aplicación mostraba este error: `captchaData[formId] is undefined`. (Este error se producía únicamente cuando el comprador utilizado el mismo explorador desde el que había accedido previamente a un implementación que ejecutaba 2.3.5-p1.)

<!-- ENGCOM-8630-->

* `_.isEmpty()`Las comprobaciones del `defaultCaptcha.js` archivo se han completado correctamente. Anteriormente, estas comprobaciones no se completaban y, como resultado, el Página de cierre de compra no se cargaba después de la actualización. [GitHub-31641](https://github.com/magento/magento2/issues/31641)

### Carro y cierre de compra

<!-- MC-41911-->

* La aplicación ahora tiene en cuenta las ubicaciones decimales específicas de la configuración regional al convertir y actualizar la cantidad de productos en el carro de compras.

<!-- MC-41574-->

* Los pedidos ya no omiten un nombre de cliente proporcionado con una dirección de envío. Anteriormente, los nombres se omitían porque el indicador `same_as_billing` no se guardaba en la base de datos.

<!-- MC-40946-->

* Los vínculos a los registros de regalos ahora persisten como se espera cuando edita un producto en el carro de compras. Anteriormente, estos vínculos desaparecían al hacer clic en el botón Actualizar **carro** de compras.

<!-- MC-40696-->

* Todos los mensajes cola para el consumidor `quoteItemCleaner` ahora cambian su estado a `complete` como se esperaba después de la eliminación de varios productos. Anteriormente, solo un mensaje para este consumidor cambiaba su estado a `complete`, y el resto cambiaba su estado a `in progress`.

<!-- MC-40657-->

* El aplicación ahora muestra el mensaje de validación de Términos y condiciones en el bloque correspondiente solo cuando un comprador hace clic en el **botón Realizar pedido** . Anteriormente, el aplicación mostraba este mensaje en el bloque de Code de descuento de Aplicar cada vez que un comprador cambiaba el método de pago en el flujo de trabajo de pago: `The order wasn't placed. First, agree to the terms and conditions, then try placing your order again`.

<!-- MC-40271 magento/partners-magento2ee#476-->

* Ahora se le redirige al Página de cierre de compra según lo esperado después de agregar un producto paquete al carro de compras desde un previsualización Actualizador de la programación y hacer clic en el carro de compras. [GitHub-447](https://github.com/magento/partners-magento2ee/issues/447)

<!-- MC-39581-->

* El aplicación ahora descarta los cambios en el formulario de dirección de facturación en el paso de pago del pago si el comprador no puede hacer clic en el botón de **actualización** y regresa al paso de envío.

<!-- MC-39517  magento/partners-magento2ee#460-->

* El aplicación ahora muestra un mensaje de error informativo y no actualiza el cantidad del producto cuando un comprador agrega un cantidad de producto no válido y hace clic en el **botón Actualizar artículos y cantidades** en el Página Administrar carro de compras de compras. Anteriormente, la aplicación actualizaba el cantidad del producto y no mostraba un mensaje de error. [GitHub-459](https://github.com/magento/partners-magento2ee/issues/459)

<!-- MC-37807 ENGCOM-8530-->

* Los productos con una opción `(File)` personalizable ahora incluyen vínculos activos como se espera en todo el proceso de cierre de compra de envío múltiple. Anteriormente, faltaba este vincular. [GitHub-31095](https://github.com/magento/magento2/issues/31095)

<!-- MC-37689-->

* El carro de compras de administración ahora muestra los precios de los productos en las monedas correctas para las tiendas que admiten varias monedas. Anteriormente, los precios se convertían a la moneda especificada más de una vez, primero, cuando los productos se agregaban a la carro de compras desde el escaparate, y luego nuevamente cuando el pedido se procesaba posteriormente en el Administrador.

<!-- MC-36703  magento/partners-magento2ee#439-->

* El aplicación ahora vacía el carro de compras como se esperaba después de que un administrador completa un pedido del administrador creado por un comprador en el escaparate. Anteriormente, cuando el cliente volvía a iniciar sesión después de que el administrador completaba el pedido, el escaparate todavía carro de compras contenido del pedido. [GitHub-30262](https://github.com/magento/magento2/issues/30262)

<!-- MC-35640-->

* Los compradores ahora pueden agregar un producto a su carro de compras cuyo precio mínimo anunciado (MAP) exceda el precio regular de su producto.

<!-- MC-35289-->

* Los compradores ahora pueden cambiar con éxito su dirección de facturación desde el flujo de trabajo de pago al pagar con múltiples direcciones.

<!-- MC-29335-->

* Todas las transacciones de pago pagadas creadas por los invitados ahora se guardan en la base de datos y se ven en el Administrador como se espera. Anteriormente, solo se guardaba en la base de datos un pequeño subconjunto de pedidos concurrentes, y la mayoría de los pedidos se perdían debido a los tiempos de espera resultantes de los bloqueos de la base de datos. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-23989 magento/magento2#32251 -->

* El aplicación ahora muestra correctamente los mensajes de bienvenida en línea que contienen caracteres especiales cuando un invitado coloca un producto en el mini carro de compras. Anteriormente, el aplicación no agregaba el producto al mini carro de compras ni mostraba el mensaje de bienvenida. [GitHub-32250](https://github.com/magento/magento2/issues/32250)

<!-- MC-41165-->

* El Página de envío del flujo de trabajo de pago ahora se carga correctamente cuando el envío en la tienda está habilitado. Anteriormente, el aplicación arrojaba un error de JavaScript y el Página de pago de envío no se procesaba completamente.

<!-- ENGCOM-9006-->

* Se ha agregado el `itemResolvers` argumento al archivo de catálogo `di.xml` . Como resultado, el cierre de compras ya no se interrumpe si los módulos de productos configurables y agrupados están desactivados. [GitHub-30860](https://github.com/magento/magento2/issues/30860)

<!-- ENGCOM-8944-->

* El aplicación ahora muestra los botones de opción en la sección Información de **pago y envío** como se esperaba durante el flujo de trabajo de repedido del administrador. [GitHub-30257](https://github.com/magento/magento2/issues/30257)

<!-- MC-39158 ENGCOM-8493-->

* El aplicación ahora se aplica correctamente carro de compras reglas de precio con un descuento fijo de carro de compras nivel cuando el carro de compras contiene un producto paquete con múltiples opciones. Anteriormente, el regla de precio carro de compras no se aplicaba completamente al pedido. [GitHub-30952](https://github.com/magento/magento2/issues/30952)

<!-- MC-40983 ENGCOM-8828-->

* El **añadir para carro de compras** botón en el categoría lista vista ahora funciona como se esperaba. [GitHub-32232](https://github.com/magento/magento2/issues/32232)

<!-- ENGCOM-8490-->

* Ahora puede utilizar POST `/V1/carts/mine/items` para agregar un cantidad personalizado de productos agrupados a una carro de compras. [GitHub-26909](https://github.com/magento/magento2/issues/26909)

<!-- ENGCOM-8886-->

* El aplicación ya no rellena el área de dirección facturación del flujo de trabajo de cierre de compra con la dirección de envío. Anteriormente, cuando el **campo Estado/Provincia** de la dirección facturación estaba vacío y las direcciones de envío y facturación diferían, el aplicación rellenaba el campo Estado/Provincia **de dirección facturación** con información de la dirección de envío. [GitHub-31608](https://github.com/magento/magento2/issues/31608)

### Catálogo

<!-- MC-36787-->

* La actualización masiva de **los atributos Habilitar incrementos de** cantidad e **incrementos de** cantidad ahora funciona como se espera. [GitHub-29544](https://github.com/magento/magento2/issues/29544)

<!-- MC-41801-->

* Ahora puede duplicado correctamente un catálogo compartido que contiene SKU solo numérica. Anteriormente, el aplicación producía un error al intentar duplicado un catálogo compartido porque la `\Magento\Catalog\Model\ProductIdLocator` clase no funcionaba correctamente con SKU solo numérica.

<!-- MC-41575-->

* El aplicación ya no presenta un error de JavaScript después de habilitar la sincronización de productos recientes con el administrador. Anteriormente, la aplicación mostraba este error JavaScript: `Cannot read property 'status' of undefined`.

<!-- MC-41534-->

* Las actualizaciones del diseño del tema personalizado ahora se aplican según lo esperado. Anteriormente, se ignoraban las actualizaciones de diseño de temas personalizados.

<!-- MC-41499-->

* La caché de categoría de producto ahora se borra según lo esperado por `cron` durante la ejecución de `indexer_update_all_views`. Anteriormente, los recuentos de productos en la página Categoría después de la reindexación eran incorrectos.

<!-- MC-41422-->

* Los valores de atributo ahora permanecen sin cambios cuando un atributo no se especifica en una actualización del producto solicitud de API de REST para un vista tienda. Anteriormente, si no se especificaba un atributo, el aplicación restablecía el valor del atributo a su valor de ámbito predeterminado.

<!-- MC-41284-->

* La cuadrícula Productos de administración (Catálogo **de administración**> **productos**) muestra ahora el recuento de productos correcto cuando los productos se filtran por unidad de almacén.

<!-- MC-40873-->

* El aplicación ahora muestra un estado de stock preciso cuando se agrega un producto a un CMS Página cuando Categoría permisos están habilitados y evita la visualización del precio para el grupo del cliente especificado. Anteriormente, todos los productos se mostraban como agotados independientemente del estado real de existencias.

<!-- MC-40859-->

* El campo de entrada de precio del bloque de precios de Avanzadas precio tiene ahora una anchura mínima de cinco dígitos. Anteriormente, solo dos símbolos eran visibles en este campo en pantallas de baja resolución.

<!-- MC-40825-->

* Ahora, el aplicación elimina correctamente un producto medios una imagen después de eliminarlo. Anteriormente, la imagen de medios del producto permanecía en la carpeta después de haber eliminado correctamente el producto.

<!-- MC-40811 magento/magento2#32042-->

* Página diseño ahora se actualiza según lo esperado cuando crea o edita un producto en la Administración y, a continuación, crea una Programar actualización del diseño. [GitHub-32007](https://github.com/magento/magento2/issues/32007)

<!-- MC-40773-->

* Ahora, un atributo de producto personalizado con un valor de cero se puede guardar correctamente como en blanco. Anteriormente, el aplicación no actualizaba este valor a blanco.

<!-- MC-40736 ENGCOM-8789-->

* Los archivos de actualización de diseño de categoría personalizada ahora se aplican a los productos según lo esperado. Anteriormente, el identificador del archivo de actualización (`catalog_category_view_*`) no coincidía con el identificador del producto. [GitHub-27285](https://github.com/magento/magento2/issues/27285)

<!-- MC-40679-->

* Se ha deshabilitado la ordenación para la columna Impuesto de producto fijo (FPT) de la lista Productos de administración. Anteriormente, la página Productos no se podía volver a cargar después de ordenar la columna FTP.

<!-- MC-40443-->

* El widget de productos Page Builder ahora previsualización funciona como se espera en un implementación de varios sitios web cuando los productos coincidentes tienen un precio diferente en cada sitio web.

<!-- MC-40344 ENGCOM-8629-->

* La clasificación por posición en el producto búsqueda mediante GET `/rest/V1/products/?searchCriteria[filterGroups]` ahora funciona como se esperaba. Anteriormente, el colección de producto no tenía un valor de campo `position` para ordenar. [GitHub-31591](https://github.com/magento/magento2/issues/31591)

<!-- MC-40122-->

* Los usuarios administradores ahora pueden ver doble espacios en los **campos Nombre** y **unidad de almacén** de la cuadrícula de producto. Anteriormente, la aplicación contraía varios espacios en un solo espacio.

<!-- MC-39869-->

* Los productos ahora se muestran como agotados en el escaparate cuando el cantidad vendible en el Administrador es 0. Anteriormente, estos productos figuraban como en stock en el escaparate y el aplicación mostraba un añadir activo **para carro de compras** botón. [GitHub-31117](https://github.com/magento/magento2/issues/31117)

<!-- MC-39809-->

* Los administradores ahora pueden agregar productos con opciones `(File)` personalizables a la cuadrícula Artículos pedidos desde la sección Carro de compras (columna Actividades del cliente) del Página Administrador del cliente. Anteriormente, la aplicación no agregaba el elemento a la lista porque el valor no tenía el formato correcto antes de insertarse en `\Magento\Catalog\Model\Product\Type\AbstractType::_prepareOptions`.

<!-- MC-39619-->

* La aplicación ya no pide a los compradores que seleccionen una opción de producto para un producto agrupado que solo tiene una opción.

<!-- MC-39617-->

* La aplicación ahora muestra todas las subcategorías en las actualizaciones de diseño (categorías de anclaje y no anclaje) durante la creación de un nuevo widget.

<!-- MC-39481-->

* La consulta `product` ya no sobrescribe los valores predeterminados de todas las vistas de tienda en una implementación de varias tiendas cuando se actualiza un nombre de producto solo para una vista de tienda. [GitHub-31083](https://github.com/magento/magento2/issues/31083)

<!-- MC-39470 magento/magento2#31492-->

* Adobe Systems Commerce actualiza el recuento de páginas total según lo esperado al cambiar el valor per Página del lista Productos relacionados con la administración, Ventas adicionales y Ventas cruzadas. [GitHub-31059](https://github.com/magento/magento2/issues/31059)

<!-- MC-39444-->

* Los administradores ahora pueden agregar productos con dos o más opciones `(File)` personalizables a un pedido por unidad de almacén.

<!-- MC-39140-->

* El aplicación ya no muestra un error cuando un administrador con permisos restringidos agrega un widget de producto a un Página CMS en el administrador. Anteriormente, el aplicación arrojaba este error cuando el administrador hacía clic en la **Guardar** botón:  `We are sorry, an error has occurred while generating the content`.

<!-- MC-39134-->

* Las páginas de detalles del producto ahora se abren con la opción personalizable de fecha rellenada con la fecha del pedido anterior cuando **Usar JavaScript calendario** está habilitado. El solucionador de valores de opción de fecha personalizada ahora recurre a un formato alternativo si el valor no tiene formato basado en la configuración actual. Anteriormente, el valor de la opción de fecha personalizada estaba vacío.

<!-- MC-39104-->

* El aplicación ahora solo muestra un error en la carro de compras cuando el producto está agotado. Anteriormente, el aplicación mostraba mensajes redundantes. [GitHub-27469](https://github.com/magento/magento2/issues/27469)

<!-- MC-35717  magento/partners-magento2ee#427-->

* Los administradores ahora pueden agregar un producto con una opción `(File)` personalizable a un pedido por unidad de almacén. [GitHub-30285](https://github.com/magento/magento2/issues/30285)

<!-- MC-30625-->

* Ahora puede guardar un producto y un precio sin especificar `type_id`. [GitHub-13639](https://github.com/magento/magento2/issues/13639)

<!-- MC-39024-->

* Los productos del grupo ahora están disponibles en el escaparate como se espera cuando se utiliza un solicitud REST `PUT /V1/products/:sku/links` para asociar un nuevo producto secundario con un nuevo producto grupo. Anteriormente, los productos no se indexaban correctamente después de ejecutarse `bin/magento cron:run`.

<!-- ENGCOM-9010 8947-->

* Ya no se puede crear un producto con un `NULL` valor unidad de almacén. Anteriormente, se podía crear un producto sin un valor unidad de almacén a través de un importador personalizado o directamente en la base de datos, pero cuando se intentaba editarlo desde el administrador, el aplicación arrojaba un error. [GitHub-27411](https://github.com/magento/magento2/issues/27411), [GitHub-32525](https://github.com/magento/magento2/issues/32525)

<!-- ENGCOM-8902-->

* La adición de las opciones personalizadas necesarias a un producto sencillo ya no lo elimina de los productos compuestos principales sin previo aviso. El aplicación ahora muestra una advertencia informativa y no guarda el producto.  Anteriormente, la aplicación guardaba los cambios del producto y no mostraba una advertencia. [GitHub-30492](https://github.com/magento/magento2/issues/30492)

### Catálogo regla

<!-- MC-39896-->

* Ahora `products` la consulta devuelve los valores actuales cuando se aplica un regla de precio de catálogo a un artículo. [GitHub-26738](https://github.com/magento/magento2/issues/26738)

<!-- ENGCOM-8367-->

* Las tablas temporales que comienzan con `catalogrule_product__temp` ahora se eliminan como se esperaba cuando la reindexación falla después de que un regla carro de compras o catálogo caduque, esté deshabilitado o se vuelva inactivo. [GitHub-22273](https://github.com/magento/magento2/issues/22273)

<!-- ENGCOM-8949-->

* Las zonas horarias ahora se aplican de la misma manera en `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexById` y `\Magento\CatalogRule\Model\Indexer\IndexBuilder::reindexByIds`. [GitHub-29549](https://github.com/magento/magento2/issues/29549)

### contenido CMS

<!-- MC-41471-->

* Ahora, las imágenes grandes cambian de tamaño como se espera durante cargar cuando está habilitada la **opción de configuración Habilitar cambio de tamaño** de front-end.

<!-- MC-40663 ENGCOM-8883-->

* Se corrigió el manejo de errores para el controlador de guardado de CMS Página. Anteriormente, cuando se lanzaba un `Error` objeto sobre el `cms_page_prepare_save` evento, el aplicación pasaba este objeto a la `addExceptionMessage` función, rompiendo su contrato porque esta función espera un `Exception`. Esto se resolvió agregando un mensaje de error con la `addErrorMessage` función. [GitHub-30149](https://github.com/magento/magento2/issues/30149)

<!-- MC-33490 magento/partners-magento2ee#435 -->

* Ahora puede asignar un nuevo Página a varios nodos desde el CMS Editar Página Jerarquía pestaña. Anteriormente, se producía una infracción de restricción única al intentar asignar el Página a un nodo. [GitHub-363](https://github.com/magento/partners-magento2ee/issues/363)

### Productos configurables

<!-- MC-40719-->

* La aplicación ya no duplica miniaturas de productos en la galería de imágenes de un producto cuando hace clic en las opciones configurables de un producto.

<!-- MC-37418-->

* La ventana emergente de configuración que la aplicación muestra cuando edita un producto configurable desde una lista de artículos deseados ahora se cierra como se espera cuando hace clic en el botón **Aceptar**.

<!-- MC-39878  magento/magento2#31472-->

* La aplicación ahora genera correctamente facturas para pedidos que contienen solo un producto configurable. [GitHub-31143](https://github.com/magento/magento2/issues/31143)

<!-- ENGCOM-8673-->

* Los compradores ahora pueden agregar productos configurables al carro de compras desde una vista de tienda no predeterminada. Anteriormente, cuando el comprador de una vista de tienda no predeterminada intentaba agregar un producto configurable, la aplicación mostraba este error: `Could not add item to cart. Please check required options and try again`. [GitHub-31660](https://github.com/magento/magento2/issues/31660)

### Política de seguridad de contenido (CSP)

<!-- ENGCOM-8577-->

* La directiva de seguridad de contenido ahora admite la carga de imágenes y fuentes codificadas en Base64 mediante `data: scheme`.

### cron

<!-- MC-30804-->

* Las consultas de limpieza de Cron se han refactorizado para reducir o eliminar los siguientes problemas de rendimiento: `cron` trabajos permanecen atascados en un estado pendiente, consultas MySQL cada vez más lentas y un aumento en el uso de CPU. [GitHub-26507](https://github.com/magento/magento2/issues/26507)

<!-- ENGCOM-8571-->

* `cronjobs` que han estado en estado `running` durante más de 24 horas ahora cambian automáticamente a estado`error`.  Como resultado, un nuevo instancia de ese trabajo puede ejecutarse de nuevo y no es necesario cambiar manualmente el estado del trabajo cuando un trabajo permanece incorrectamente establecido en estado`running`. Anteriormente, si un `cronjob` estaba atascado en el estado `running`, el aplicación impedía que se iniciaran nuevas instancias del mismo trabajo y tenía que cambiar manualmente el estado del trabajo. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` Los trabajos ahora se completan según lo esperado y ya no arrojan este error de serialización:  `[Magento\Framework\DB\Adapter\DeadlockException]SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction, query was: DELETE FROM cron_schedule WHERE (status = 'missed') AND (job_code in ('indexer_reindex_all_invalid', 'indexer_update_all_views', 'indexer_clean_all_changelogs')) AND (created_at < '2018-09-28 18:32:28')`. [GitHub-18409](https://github.com/magento/magento2/issues/18409)

<!-- ENGCOM-8571-->

* `indexer_update_all_views`  Los trabajos CRON ahora se ejecutan según lo esperado después de un error anterior. La ejecución fallida se marca como un error en el `cron_schedule schedule`, y la ejecución posterior no falla automáticamente. Anteriormente, la tabla se llenaba de trabajos pendientes y `indexer_update_all_views` el `cron_schedule` trabajo cron no se ejecutaba. [GitHub-23054](https://github.com/magento/magento2/issues/23054)

<!-- ENGCOM-8571-->

* `cron` Los bloqueos ya no se producen como resultado de `cron` intentar establecer un bloqueo en grandes implementaciones donde los grupos se superponen. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

<!-- ENGCOM-8571-->

* `cron` Los bloqueos en la `cron_schedule` mesa ya no se producen después de haberse ejecutado sólo unas pocas `cron` tareas. [GitHub-22438](https://github.com/magento/magento2/issues/22438)

### Atributos de cliente personalizados

<!-- MC-41611-->

* El **campo Estado** de la libreta de direcciones de la cuenta del cliente de la tienda ahora se carga como y sigue siendo un elemento Página desplegable. La **botón Enviar** ahora está deshabilitada hasta que todos Página elementos se hayan cargado completamente. Anteriormente, la aplicación cargaba este campo como un cuadro de texto antes de representarlo como un elemento desplegable, y los compradores podían ingresar y guardar valores en el campo de texto, lo que más tarde causaba un error durante el pago.

<!-- MC-40906 magento/partners-magento2ee#509-->

* Ahora, la aplicación muestra correctamente los atributos personalizados de dirección del cliente en las páginas de pedido de escaparate y de administración. Anteriormente, la opción seleccionada del atributo desplegable faltaba en la sección Información de dirección, y el valor del atributo de entrada contenía el código de atributo. [GitHub-508](https://github.com/magento/partners-magento2ee/issues/508)

<!-- MC-40329-->

* La aplicación ya no muestra un error cuando guarda un atributo de dirección del cliente con un archivo adjunto en el campo Dirección del cliente del administrador al cargar archivos. Esto ocurrió debido a que faltaba una instrucción de retorno en la acción del controlador. Anteriormente, el aplicación arrojaba este error: `Something went wrong while saving the file`.

<!-- MC-39354-->

* Las llamadas a la API del carro de compras GET REST ahora devuelven valores de atributo personalizados correctos para facturación y direcciones de envío. Anteriormente, los atributos de dirección personalizados se mostraban incorrectamente en el Página de detalles del pedido, en el Página de la tienda Mi cuenta y en Administración.

<!-- MC-24495-->

* Ahora, la aplicación gestiona correctamente los archivos que contienen atributos de dirección del cliente con el tipo `file (attachment)`de entrada. Anteriormente, el aplicación arrojaba este error durante la cargar del archivo adjunto: `Something went wrong while saving the file`.

### Cliente

<!-- MC-41216-->

* El correo electrónico de crédito de la tienda ahora toma en cuenta el ámbito seleccionado y se envía desde la dirección correo electrónico correcta.

<!-- MC-40579-->

* El filtrado por fecha de creación de cuenta ahora produce resultados que cumplen con los ajustes de zona horaria configurados y que capturan todas las cuentas creadas relevantes.

<!-- MC-40502-->

* El filtro de cuadrícula de clientes ahora utiliza una opción de sitio web correcta para un usuario restringido si los datos se almacenaban previamente en caché. Anteriormente, el filtro de cuadrícula de clientes recuperaba parámetros de sitios web de la caché e incluía datos incorrectos para usuarios restringidos.

<!-- MC-39189-->

* El aplicación ya no arroja una excepción en el Página de clientes administradores cuando se elimina un sitio web en un implementación de varios sitios web. Anteriormente, cuando un administrador intentaba acceder a la lista completa de clientes, la aplicación no mostraba todos los clientes y mostraba este error: `The website with id 2 that was requested wasn't found. Verify the website and try again`.

<!-- MC-38913-->

* Los administradores con permiso ahora pueden reasignar clientes a diferentes sitios web desde el pestaña de información de cuenta del cliente.

<!-- MC-39852-->

* Ahora puede cargar correctamente un archivo al crear un atributo de dirección de cliente con un tipo de entrada de `(File)`. Anteriormente, cuando intentaba cargar y guardar un archivo, el aplicación arrojaba este error: `Something went wrong while saving the file`.

### segmento al cliente

<!-- MC-40999-->

* El aplicación ahora muestra productos relacionados basados en segmentos de clientes en el escaparate como se esperaba. Anteriormente, el aplicación no mostraba esta sección cuando se creaba un regla de productos relacionado para segmentos de clientes específicos.

<!-- MC-40503-->

* Los bloques dinámicos ahora se muestran para los clientes registrados en sus carros de compras cuando se aplica el segmento de cliente correspondiente tanto para invitados como para clientes registrados. Anteriormente, el aplicación mostraba el bloque solo para invitados.

<!-- MC-40385-->

* Los segmentos de clientes ahora se actualizan automáticamente después de realizar un pedido desde el administrador. Anteriormente, después de crear una orden de administrador, el usuario de administración tenía que actualizar manualmente los datos de segmento relacionados navegando a los segmentos de clientes relacionados y hacer clic en el **botón de datos** del segmento de Actualizar.

<!-- MC-39490-->

* El aplicación ahora muestra bloques dinámicos en la carro de compras para todos los clientes en los segmentos de clientes relevantes. Anteriormente, los huéspedes no veían un bloque igualado cuando el cliente segmento incluía tanto invitados como clientes registrados.

<!-- MC-39464-->

* Se han resuelto los problemas de rendimiento de la base de datos resultantes de las reglas de segmentación del cliente que utilizan la `Product was Ordered` condición.

<!-- MC-38895-->

* Se ha agregado un observador de evento segmento cliente para la API REST/SOAP. Como resultado, los segmentos de clientes ahora se actualizan automáticamente según lo esperado si los criterios definidos en los segmentos coinciden cuando los pedidos se realizan a través de la API REST/SOAP.

<!-- MC-38346-->

* Se ha añadido un procesador de eventos de segmento de cliente para las solicitudes de GraphQL. Anteriormente, carro de compras precio regla descuentos no se aplicaban al carro de compras cuando se usaba un segmento del cliente en una condición regla de precio carro de compras. [GitHub-371](https://github.com/magento/partners-magento2ee/issues/371)

### Directorio

<!-- MC-39520-->

* El aplicación ya no incluye una excepción cuando un comprador ingresa un código postal de no válido durante la sección de envío del flujo de trabajo de pago. [GitHub-23371](https://github.com/magento/magento2/issues/23371)

### Descargable

<!-- MC-35779-->

* El aplicación ahora muestra enlaces a productos descargables en el correo electrónico de pedidos de Nuevo cuando el pedido contiene un producto descargable y un producto configurable con una opción descargable. Anteriormente, el aplicación mostraba el vincular al producto descargable independiente, pero no el vincular al producto configurable con una opción descargable.

### Bloque dinámico (anteriormente banner)

<!-- MC-40327-->

* Los bloques dinámicos ahora solo se muestran en el Página especificado. Anteriormente, el aplicación mostraba todos los titulares asignados a la utilidad en todas las páginas si no se especificaba ningún bloque dinámico.

<!-- MC-39839-->

* Ahora puede guardar bloques dinámicos con contenido vacías.

### EAV

<!-- MC-41756-->

* Los valores de fecha de atributo de dirección del cliente ahora se guardan en formato de cuatro dígitos en lugar de en formato de dos dígitos.

### Correo electrónico

<!-- MC-39757-->

* La vincular de restablecimiento de contraseña del Página de restablecer contraseña de administración ahora funciona como se espera. Anteriormente, cuando se usaba una plantilla personalizada para el Página de contraseña de administración restablecer, la aplicación mostraba este mensaje cuando un administrador hacía clic en la vincular dentro del correo electrónico: `Your password reset link has expired`. Esto ocurría porque el plantilla de correo electrónico personalizado contenía el variable incorrecto para el ID de usuario.

<!-- MC-41588-->

* El envío de correo electrónico de cliente desde el administrador ahora funciona correctamente cuando está habilitado en el nivel tienda-vista. Anteriormente, el aplicación no enviaba correos electrónicos a los clientes cuando la configuración de notificación de correo electrónico estaba habilitada en el nivel de vista tienda, pero no en el nivel global.

<!-- MC-40950-->

* Ahora, la aplicación envía correo electrónico como se espera en las implementaciones de varios sitios donde no todos los sitios web han habilitado el envío correo electrónico asíncrono. Anteriormente, si al menos un sitio web tenía deshabilitada esta configuración, no correo electrónico enviaba desde ningún sitio web, igualado cuando estaba habilitada. Los correos electrónicos de factura, envío y nota de crédito tenían problemas similares. Sin embargo, los correos electrónicos de Comentarios de pedido, Comentarios de factura, Comentarios de envío y Comentarios de notas de crédito se enviaron correctamente. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-34323 magento/partners-magento2ee#505-->

* El correo electrónico mensaje que envía el aplicación cuando comparte un registro de regalos del administrador ahora contiene un vincular válido a la ubicación del registro. Anteriormente, tomar este vincular daba como resultado un error 404. [GitHub-504](https://github.com/magento/partners-magento2ee/issues/504)

<!-- MC-30127 magento/magento2#31455-->

* Las facturas y los PDF de factura ahora incluyen los mismos precios para paquete productos que esperaban. Anteriormente, los PDF de factura incluían el precio incorrecto para paquete productos. [GitHub-12856](https://github.com/magento/magento2/issues/12856)

<!-- ENGCOM-9021-->

* Se ha añadido la conversión de cadenas al método de filtro de plantilla de correo electrónico para garantizar que el valor devuelto sea un `string`. Anteriormente, cuando se detectaba una excepción mientras no estaba en modo de desarrollador, el aplicación devolvía un `phrase` objeto. Esto a su vez desencadenó un fatal `Uncaught TypeError`. [GitHub-32671](https://github.com/magento/magento2/issues/32671)

<!-- ENGCOM-8807-->

* Los correos electrónicos de confirmación de pedidos ahora se envían según lo esperado cuando el envío asincrónico está habilitado (**Configuración de >** almacenes **&#x200B;**&#x200B;> **Correos electrónicos** de ventas **>** ventas > **General Configuración** > **envío** asíncrono) en un sitio web en un implementación de varios sitios. [GitHub-31950](https://github.com/magento/magento2/issues/31950)

<!-- MC-18023 ENGCOM-9000-->

* El aplicación ahora registra un error como se esperaba cuando se produce una excepción cuando un cliente intenta enviar un correo electrónico desde el formulario Contáctenos. [GitHub-23645](https://github.com/magento/magento2/issues/23645)

### Marcos

<!-- MC-41712-->

* Las clases principales en el Administrador ahora se comprueban en busca de anotación de docblock junto con la clase original y las interfaces heredadas. Anteriormente, debido a que las clases principales no estaban marcadas, realizar cualquier acción relacionada con el cliente en el Administrador que desencadenara una evento provocaba un error. El aplicación registró este error en el registro de excepciones: `report.CRITICAL: Method's return type must be specified using @return annotation.`.

<!-- MC-41192-->

* El aplicación ya no produce un error grave cuando el servidor de Redis se detiene en un implementación en el que Redis Página almacenamiento en caché está habilitado.

<!-- MC-40739-->

* La aplicación ahora respeta el **valor Excluir la carpeta medios de copia de seguridad** configuración cuando copia de seguridad está habilitado con `bin/magento config:set system/backup/functionality_enabled 1`. Anteriormente, se realizaba una copia de seguridad de Media Carpeta a pesar de esta configuración porque la ruta de acceso a `/magento` se formó incorrectamente con un doble //.

<!-- MC-40654 ENGCOM-8881-->

* Ahora, la aplicación traduce todas las cadenas traducibles según lo esperado para el Página de carro de compras administrador. Anteriormente, la carga de traducción se producía demasiado tarde y se omitían todos los observadores suscritos al envío previo a la acción del controlador. [GitHub-31849](https://github.com/magento/magento2/issues/31849)

<!-- MC-39776-->

* El formulario validación de la Crear Nuevo cuenta de cliente ahora Página funciona correctamente cuando la configuración de **la extensión Habilitar inicio de sesión como cliente** está desactivada. Anteriormente, el aplicación arrojaba un error JavaScript.

<!-- MC-39537-->

* El uso `bin/magento setup:db-schema:split-sales` para mover tablas de bases de datos ahora funciona como se espera. Ahora, las tablas se crean y rellenan correctamente con datos. Anteriormente, debido a que la comprobación de la existencia de la tabla era incorrecta, la aplicación arrojó `SQLSTATE` errores al ejecutar `bin/magento setup:db-schema:split-sales`.

<!-- MC-39193-->

* Se ha mejorado la administración de excepciones para los procesos secundarios bifurcados por `ProcessManager`. Cuando ahora se produce una excepción, se sale del proceso principal y se muestra un mensaje de error solo una vez. Anteriormente, se registraban varios errores de indizador y se mostraban varios mensajes. [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- MC-39132-->

* Los complementos de Adobe Commerce globales (por ejemplo, `webapi_rest` y `graphql` ) ya no se activan para un nuevo tipo de área personalizada cuando el `di.xml` de este archivo de área no contiene complementos registrados.

<!-- MC-38770-->

* Las excepciones que se producen durante la inicialización ya no se almacenan en caché y ahora activan un código de respuesta 500.

<!-- MC-33179  magento/partners-magento2ee#431-->

* Los comerciantes ahora pueden asignar o eliminar una imagen hacia y desde un catálogo evento por tienda vista. Anteriormente, cuando se cambiaba tienda vista al editar un evento de catálogo, la **casilla Eliminar Imagen** no estaba activa y la aplicación mostraba este error: `Uncaught ReferenceError: toggleValueElements is not defined at HTMLInputElement.onclick`. [GitHub-364](https://github.com/magento/partners-magento2ee/issues/364)

<!-- ENGCOM-8232-->

* El último controlador fusionado en un `communication.xml` archivo ya no reemplaza todos los controladores creados anteriormente. [GitHub-29528](https://github.com/magento/magento2/issues/29528)

### Correcciones generales

<!-- MC-41194-->

* La aplicación ahora muestra el número correcto de estrellas en la página Mis críticas de producto y en la página Mi cuenta revisiones recientes. Anteriormente, el aplicación aplicaba estrellas de revisión solo a la primera revisión y dejaba las otras revisiones en el Página sin destacar.

<!-- MC-40653-->

* Los vínculos de cuenta en los encabezados ahora seguir los estándares WCAG. Anteriormente, los vínculos de cuenta en los encabezados contenían ID duplicados, lo que provocaba que fallara el validación WCAG.

<!-- MC-40528-->

* El aplicación ahora guarda las fechas evento catálogo en las zonas horarias UTC. Anteriormente, el catálogo guardado de la aplicación evento fechas en la zona horaria del usuario.

<!-- MC-39765-->

* El aplicación ya no genera errores generados por registros del sistema cuando un comprador invitado utiliza una dirección no válido. Anteriormente, la aplicación mostraba este error de forma intermitente en lugar de representar el Página: `No such entity with addressId`. [GitHub-15115](https://github.com/magento/magento2/issues/15115)

<!-- MC-39747-->

* El proceso de cambio de tamaño de imagen ya no se detiene para las imágenes que se encuentran en formato no compatibles. Anteriormente, cuando `catalog:images:resize` se encontraba con un formato de imagen no compatible, el proceso se detenía y el aplicación mostraba este error: `bin/magento catalog:images:resize Unsupported image format`.

<!-- ENGCOM-8925-->

* Se ha agregado compatibilidad con WEBP y AVIF para imágenes de logotipos a la administración. [GitHub-32495](https://github.com/magento/magento2/issues/32495)

<!-- MC-38156-->

* Ya no puede cambiar el ámbito del `media_gallery` atributo. Anteriormente, cuando se volvía a cambiar el ámbito del `media_gallery` atributo a `global`, el aplicación arrojaba un error.

<!-- MC-36818  magento/partners-magento2ee#470-->

* Los productos relacionados que se agregaron como una actualización programada ya no se muestran en un escaparate página de producto después de la fecha de finalización de la actualización. [GitHub-469](https://github.com/magento/partners-magento2ee/issues/469)

<!-- MC-34489 magento/partners-magento2ee#491-->

* La aplicación ahora muestra un mensaje informativo y preciso cuando hace clic en **Administrar elementos** en la página Registro de regalos de Mi cuenta y los productos del Registro no están disponibles. Anteriormente, la aplicación arrojó este error: `Error: Call to a member function getId() …`. [GitHub-490](https://github.com/magento/partners-magento2ee/issues/490)

<!-- MC-33667-->

* Ahora puede agregar un Página CMS desde el Página de Página Nuevo añadir al jerarquía raíz del sitio web como se espera.

<!-- MC-33499 magento/partners-magento2ee#446-->

* El filtrado ahora funciona como se espera en el lista de las exportaciones programadas cuando se selecciona el tipo de entidad. Anteriormente, el filtro no funcionaba y el aplicación arrojaba un error JavaScript. [GitHub-361](https://github.com/magento/partners-magento2ee/issues/361)

<!-- MC-30084 ENGCOM-8674-->

* Categoría imágenes ahora se copian como se esperaba del directorio al `catalog/category` directorio cuando las categorías se guardan utilizando el método de almacenamiento de base de `catalog/tmp/category` datos. La fila de imagen de la `media_storage_file_storage` tabla ahora también tiene el archivo `directory_id`. [GitHub-11995](https://github.com/magento/magento2/issues/11995)

<!-- MC-24768-->

* Los comerciantes ahora son notificados sobre cachés invalidados como se espera después de enviar cambios al jerarquía CMS. Anteriormente, el aplicación no invalidaba las cachés al guardar los jerarquía CMS.

<!-- MC-24725-->

* Se han reducido las solicitudes de AJAX redundantes a la sección carro de compras del carro de compras. Anteriormente, el aplicación no cargaba correctamente el subtotal carro de compras, lo que activaba carro de compras recargar nuevamente.

<!-- MC-23740-->

* Se agregó validación para las direcciones URL a fin de evitar que palabras reservadas se incluyan en claves de URL. Consulte [Definición de identificadores de recursos (URI) conocidos Uniforme](https://tools.ietf.org/html/rfc5785)

<!-- ENGCOM-9037-->

* En las implementaciones que ejecutan PHP 7.4, el aplicación ahora devuelve un error 404 cuando la **configuración Generar &quot;categoría/producto&quot; URL reescrituras** está establecida en **No**, y un comprador intenta acceder a una ruta de categoría inexistente. Anteriormente, la aplicación devolvía un error 500 que decía: `Trying to access array offset on value of type bool`. [GitHub-31984](https://github.com/magento/magento2/issues/31984)

<!-- MC-32257 magento/partners-magento2ee#507-->

* Ahora puede editar correctamente un producto creado con un conjunto de atributos del que **se habían quitado los grupos Grupo de diseño y Actualización de diseño** de programación.  Anteriormente, cuando se intentaba editar un producto creado a partir de ese conjunto de atributos, el aplicación producía un error grave. [GitHub-44](https://github.com/magento/partners-magento2ee/issues/44)

<!-- ENGCOM-8901-->

* `nowdoc` se ha sustituido `heredoc` en el conmutador de `Magento_Backend` tienda. [GitHub-32262](https://github.com/magento/magento2/issues/32262)

<!-- ENGCOM-8539-->

* Ahora, los administradores se redirigen directamente a la Página de administración solicitada después de inicio de sesión.  Anteriormente, cuando un administrador iniciaba sesión, se le redirigía al panel de administración (o al Página que estuviera configurado como Página de inicio) y tenía que navegar manualmente a su destino. [GitHub-31042](https://github.com/magento/magento2/issues/31042)

<!-- ENGCOM-8685-->

* Se agregaron a la `directory_country_region` tabla las regiones Argentina, Bolivia, Chile, Ecuador, Guyana, Paraguay, Perú, Surinam y Venezuela. [GitHub-31169](https://github.com/magento/magento2/issues/31169)

<!-- ENGCOM-8505-->

* Se agregaron las regiones de Albania, Dinamarca, Grecia, Islandia, Portugal y Suecia a la `directory_country_region` tabla. [GitHub-31040](https://github.com/magento/magento2/issues/31040)

<!-- MC-30104 magento/magento2#31480 -->

* Los mensajes ahora se marcan como errores en el cola de mensajes de MysqlMQ cuando se producen excepciones. [GitHub-18140](https://github.com/magento/magento2/issues/18140)

<!-- ENGCOM-8579-->

* Ahora, el aplicación hace referencia al objeto de clase correcto al cargar información fiscal para las páginas de notas de crédito de administrador y facturas. [GitHub-31197](https://github.com/magento/magento2/issues/31197)

<!-- MC-40346-->

* La integración Click &amp; Drop de Royal Mail ahora funciona como se espera. Anteriormente, el aplicación arrojaba este error cuando intentaba activar su integración: `Sorry! Something went wrong. Please try again later`. [GitHub-28996](https://github.com/magento/magento2/issues/28996)

<!-- ENGCOM-8498-->

* El aplicación ahora muestra un mensaje de error informativo cuando se pasa un envío, una nota de crédito o un ID de factura incorrectos en un URL. Anteriormente, el aplicación arrojaba un error fatal. [GitHub-30424](https://github.com/magento/magento2/issues/30424)

<!-- ENGCOM-8632-->

* Se ha eliminado la recursión en la ubicación de los archivos estáticos.  Ahora, la aplicación muestra un error 404 Página en lugar de 500. Anteriormente, un error en la configuración predeterminada de NGINX posible cliente a la recursión infinita. [GitHub-31530](https://github.com/magento/magento2/issues/31530)

<!-- ENGCOM-8550-->

* El nombre del `cms_index_noroute.xml` archivo se ha corregido a `cms_noroute_index.xml`. [GitHub-31300](https://github.com/magento/magento2/issues/31300)

<!-- ENGCOM-8516-->

* El `.editorconfig` archivo se ha refactorizado para corregir el formato automático de `db_schema_whitelist.json` los archivos. [GitHub-31171](https://github.com/magento/magento2/issues/31171)

<!-- ENGCOM-9018-->

* Cambiar el tamaño de una ventana del explorador ya no activa eventos duplicado lupa de enlace. [GitHub-30788](https://github.com/magento/magento2/issues/30788)

<!-- ENGCOM-8722-->

* El aplicación ya no emite una excepción SQL al filtrar `Magento\Users\Model\ResourceModel\Users\Collection` por `user_id`. [GitHub-31216](https://github.com/magento/magento2/issues/31216)

### Tarjetas regalo

<!-- MC-40412-->

* Los cargos de pago pendientes ahora se eliminan de una tarjeta de regalo como se espera cuando se cancela un tarjeta de regalo. Anteriormente, el aplicación devolvía un error cuando `cron` se ejecutaba después de eliminar el tarjeta de regalo.

<!-- MC-37658-->

* Los compradores ahora pueden eliminar tarjetas de regalo de un pedido en el Página Revisar pedido al pagar con múltiples direcciones. Anteriormente, el aplicación no eliminaba el tarjeta de regalo del pedido cuando el comprador seleccionaba **el tarjeta y hacía clic en Quitar**.

<!-- MC-34407-->

* El aplicación ahora muestra el nuevo precio de una tarjeta de regalo en el carro de compras cuando cambia el valor de la tarjeta de regalo después de agregarla al carro de compras.

<!-- MC-32651-->

* Se ha agregado la lógica validación de rango de precios al Página de creación de tarjeta de regalos. Anteriormente, un administrador podía crear un tarjeta con un valor mínimo que excedía el valor máximo. [GitHub-493](https://github.com/magento/partners-magento2ee/issues/493)

<!-- MC-32638979 magento/partners-magento2ee#40851-->

* La `addRequisitionListItemsToCart` consulta devuelve ahora la cantidad de un regalo personalizado tarjeta según lo esperado cuando el solicitud no contiene un valor para `allow_open_amount`.

<!-- MC-32373-->

### Mensaje de regalo

<!-- MC-38655-->

* La `setGiftOptionsOnCart` mutación ahora crea correctamente mensajes de regalo. [GitHub-388](https://github.com/magento/partners-magento2ee/issues/388)

### Registro de regalos

<!-- MC-33057 magento/partners-magento2ee#467-->

* **Los valores de fecha** de evento ahora son los mismos en el escaparate y en Admin durante la creación o edición del registro de regalos. Anteriormente, cada vez que editaba y guardaba el registro de regalos, el aplicación ajustaba la fecha **del** evento un día hacia atrás tanto en el escaparate como en el Administrador. [GitHub-466](https://github.com/magento/partners-magento2ee/issues/466)

<!-- MC-32587  magento/partners-magento2ee#511-->

* La aplicación ya no muestra los productos desactivados en los registros de regalos. Anteriormente, si un producto se deshabilitaba después de agregarse a un registro de regalos, la aplicación mostraba este mensaje cuando un comprador tenía acceso al registro: `Error: Call to a member function getId() …`. [GitHub-510](https://github.com/magento/partners-magento2ee/issues/510)

### Envoltorio para regalos

<!-- MC-38260-->

* La traducción de las etiquetas de los envoltorios para regalos para las vistas de la tienda ahora funciona según lo esperado.

<!-- MC-36749-->

* El envoltorio para regalos ahora se aplica como se espera a los pedidos que se envían a varias direcciones.

<!-- MC-34820-->

* El aplicación ahora elimina los cargos por envoltorios de regalo de la carro de compras cuando se han eliminado todos los productos.

<!-- MC-32259 magento/partners-magento2ee#500-->

* Los totales de la nota de crédito ahora son correctos cuando la nota de crédito contiene envoltorio de regalo y cargos de productos configurables. Anteriormente, el monto del impuesto de envoltura de regalo no siempre se incluía en el total de la nota de crédito. [GitHub-34](https://github.com/magento/partners-magento2ee/issues/34)

### Google Analytics

<!-- ENGCOM-8450-->

* El aplicación ya no arroja un error cuando un administrador intenta cargar un Página en el escaparate cuando Google Analytics está habilitado. Se ha añadido una entrada CSP para `connect-src` permitir que www.google-analytics.com AJAX solicitudes. [GitHub-30880](https://github.com/magento/magento2/issues/30880)

### Administrador de etiquetas de Google

<!-- MC-39072-->

* El componente IU para la dirección facturación en el Página de pago del flujo de trabajo de pago ahora usa la dirección de cotización correctamente cuando Google Tag Manager está habilitado. Anteriormente, se producía un error de JavaScript en el Página de pago.

### GraphQL

<!-- MC-41885-->

* El consulta GraphQL `products` ahora devuelve opciones de atributos que están ordenadas en el mismo orden que se usa en el Página de edición de atributos.

<!-- MC-41473-->

* La respuesta al `{ category(id: 2){ children { name children { name } } } }` solicitud GraphQL ahora incluye un árbol de categoría correctamente ordenado.

<!-- MC-41030-->

* El `CartItemPrices` objeto contiene ahora el nuevo campo `fixed_product_taxes`GraphQL , que devuelve una matriz de los impuestos fijos sobre los productos que se aplican a un elemento carro de compras. Anteriormente, los impuestos fijos sobre los productos que se aplicaban a un artículo carro de compras no se incluían en el consulta carro de compras.

<!-- MC-40920-->

* Las solicitudes vacías a GraphQL ahora arrojan el código de respuesta 200 en lugar de 500. Anteriormente, el analizador GraphQL lanzaba una excepción antes de que se generara el resultado consulta.

<!-- MC-40867 magento/partners-magento2ee#532 -->

* La `applyRewardPointsToCart` mutación ahora actualiza el total general de un carro de compras para reflejar con precisión el valor de los puntos de recompensa deducidos. [GitHub-486](https://github.com/magento/partners-magento2ee/issues/486)

<!-- MC-40379-->

* Los productos deshabilitados ya no se incluyen en la respuesta de GraphQL cuando se utiliza GraphQL para vincular productos impulsar ventas.

<!-- MC-40262-->

* Los comerciantes ahora pueden usar el método GraphQL `setShippingAddressesOnCart` para establecer direcciones de facturación y envío para el carro de compras de un comprador cuando el pago de invitados está deshabilitado.

<!-- MC-39508-->

* El `categoryList` consulta ya no arroja una excepción cuando contiene varios fragmentos en el `CategoryTree` objeto. [GitHub-31086](https://github.com/magento/magento2/issues/31086)

<!-- MC-38995-->

* El consulta GraphQL `product` ahora devuelve los precios correctos de grupo del cliente.

<!-- MC-38822-->

* La respuesta de consulta de GraphQL `products` ahora ordena las agregaciones según la posición del atributo del producto.

<!-- ENGCOM-8462-->

* El aplicación ya no muestra errores de tipo durante las consultas de GraphQL cuando los sufijos de URL de productos y categoría contienen valores nulos. [GitHub-30909](https://github.com/magento/magento2/issues/30909)

<!-- magento/magento2#31164-->

* El `CustomizableDateValue` objeto ahora contiene el `type` atributo. Su valor es un lista desglosada que se puede establecer en FECHA, DATE_TIME u HORA.

<!--  magento/partners-magento2ee#421-->

* El [`dynamicBlocks` consulta](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/dynamic-blocks/) devuelve el contenido de los bloques dinámicos que coinciden con el filtros especificado.

<!-- ENGCOM-8603-->

* El solicitud POST `V1/products/special-price-delete` ahora elimina solo el precio con un valor especificado `store_id` como se esperaba. Anteriormente, la llamada eliminaba todos los precios especiales para el unidad de almacén especificado de todas las tiendas. [GitHub-25907](https://github.com/magento/magento2/issues/25907)

<!--  magento/partners-magento2ee#280 -->

* Se corrigió un error con el `country_code` atributo en la `createGiftRegistry` mutación.

<!-- magento/partners-magento2ee#280 -->

* Se corrigieron problemas con el `giftRegistryUid` atributo de la `updateGiftRegistryItems` mutación.

<!-- magento/partners-magento2ee#280 -->

* Se agregó una verificación adicional para evitar que la `updateGiftRegistryRegistrants` mutación se use para agregar personas aleatorias como solicitantes de registro a un registro de regalos.

<!-- magento/magento2#31380 -->

* La `addConfigurableProductsToCart` mutación devuelve ahora la miniatura correcta del producto especificado. Anteriormente, devolvía la miniatura del producto principal.

<!-- ENGCOM-8477-->

* El `products` consulta ya no expone el precio especial de un producto cuando el período de precio especial se establece para una fecha futura. [GitHub-30210](https://github.com/magento/magento2/issues/30210), [GitHub-29631](https://github.com/magento/magento2/issues/29631)

<!-- magento-engcom/magento2ee#576-->

* La `customer` respuesta consulta ahora incluye el `total_giftcard` atributo como parte del `OrderTotal` objeto.

<!-- MC-41084 ENGCOM-9042 -->

* Se ha corregido un problema que provocaba que el consulta devolviera información errónea sobre los niveles de precios en artículos que no tenían precios establecidos en el `products` nivel. [GitHub-32279](https://github.com/magento/magento2/issues/32279)

### Imagen

<!-- MC-38951-->

* Ahora puede establecer los atributos paquete required_options y has_options como se espera al crear o actualizar un producto paquete con el punto final POST `/V1/product/:sku` . Anteriormente, estos atributos personalizados se establecían en 0 (cero) a pesar de los esfuerzos por establecerlo en 1 (uno).

### Importar/exportación

<!-- MC-41576-->

* El filtro de ID de Categoría para las entidades del producto en la cuadrícula Exportar Página atributos de entidad ahora funciona según lo esperado.

<!-- MC-41439 ENGCOM-9005-->

* El estado de existencias de productos agrupados ahora se actualiza como se esperaba a existencias agotadas cuando todos los productos secundarios están agotados. [GitHub-32647](https://github.com/magento/magento2/issues/32647)

<!-- MC-41184-->

* El estado de stock de producto configurable ahora se actualiza automáticamente según lo esperado cuando el estado de stock de producto secundario se actualiza mediante la importación. Anteriormente, el estado de existencias del producto no se actualizaba automáticamente cuando el estado de existencias del producto secundario se actualizaba mediante la importación.

<!-- MC-41151-->

* Ahora puede guardar valores vacíos en una exportación programada. Anteriormente, la aplicación actualizaba los valores de filtro vacíos después de la creación de la exportación o el guardado. Ambos `no` valores se `not specified` representaban con cero en la base de datos y un valor de `not selected` se anulaba con `no`.

<!-- MC-41092-->

* El proceso de exportación ahora tiene cuenta usuario función ámbito al exportar productos, fuentes de existencias y entidades de clientes. Anteriormente, el proceso de exportación ignoraba usuario función ámbito, que permitía la exportación de entidades privadas usuario función exportadoras.

<!-- MC-40943-->

* La aplicación ahora establece la clase de impuesto sobre el producto en `None` si un producto se importa con `tax_class_name` valores `None` o `0`. Anteriormente, si `product tax_class_name` estaba `None` en el archivo CSV, el aplicación creaba una nueva clase `None`de impuestos , que duplicaba la clase de impuesto existente. Si `product tax_class_name` eran `0` en el archivo CSV, la aplicación ignoró ese valor y la clase de impuestos del producto no cambió después de la importación.

<!-- MC-40898-->

* Los administradores ahora pueden cambiar correctamente el `name` de `bundle_values` de un producto del paquete desde el administrador. Anteriormente, la aplicación mostraba el producto agotado en la tienda después de cambiar el nombre del administrador. Los productos también se combinaron con el mismo SKU en una sola sección de opción de paquete.

<!-- MC-40333-->

* La aplicación ahora tiene en cuenta el ámbito del usuario al exportar los datos del cliente. Anteriormente, al intentar exportar clientes, la aplicación exportaba datos de clientes de todos los sitios web.

<!-- MC-40305-->

* La aplicación ahora elimina las relaciones de producto entre las ventas ascendentes, las ventas cruzadas y los productos relacionados durante la importación del archivo CSV, tal como se espera cuando se especifica `__EMPTY__VALUE__` en el archivo CSV.

<!-- MC-40012-->

* La exportación de datos de direcciones personalizados para muchos clientes (sistema de administración **&#x200B;**&#x200B;> **exportación**) ya no produce habitualmente un error de memoria. Anteriormente, al exportar datos de direcciones personalizados, el aplicación intentaba cargar todos los datos del cliente, lo que provocaba el agotamiento de la memoria, y el aplicación producía un error de error al asignar memoria.

<!-- MC-39977-->

* Los precios de nivel duplicados ya no se importan durante el proceso de importación de CSV predeterminado. Anteriormente, faltaba validación para evitar la importación de precios de duplicado nivel, y cuando se producían precios de duplicado nivel, los comerciantes no podían guardar productos. Los comerciantes también vieron este error cuando intentaron programar un cambio de producto: `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry…`.

<!-- MC-39609  magento/magento2#31397-->

* Ahora todas las imágenes del producto se validan durante la importación. Anteriormente, la aplicación validaba sólo la primera imagen cuando un producto tenía varias imágenes. [GitHub-28236](https://github.com/magento/magento2/issues/28236)

<!-- MC-39483-->

* Ahora puede eliminar un área geográfica de una dirección de cliente según lo esperado durante la importación. Anteriormente, el área geográfica asignado no cambiaba cuando se importaba una dirección de cliente con un área geográfica vacío.

<!-- MC-38810-->

* Los productos con contenido JSON o HTML como atributos adicionales del producto ahora se exportan correctamente a un archivo CSV. Anteriormente, el archivo de CSV contenía cadenas de datos superpuestas en campos incorrectos.

### Índice

<!-- MC-39718 ENGCOM-8567-->

* Process Manager ahora se cierra con un error cuando falla un proceso secundario. Anteriormente, Process Manager siempre salía correctamente si el número de funciones que se le pasaban (por ejemplo, dimensiones del indizador) era inferior al valor del `MAGE_INDEXER_THREADS_COUNT` entorno variable. [GitHub-30964](https://github.com/magento/magento2/issues/30964)

<!-- MC-39272-->

* Los productos ahora están disponibles según lo esperado en los resultados de búsqueda de la tienda al vincular productos con una solicitud REST PUT `/V1/products/:sku/links` cuando el modo de indizador está establecido en **Actualizar al guardar**.

<!-- MC-38310 magento/magento2#32693-->

* El precio del catálogo regla indizador funciona ahora como se espera cuando el modo de indizador se establece en **Actualizar en Guardar**. [GitHub-370](https://github.com/magento/partners-magento2ee/issues/370)

<!-- ENGCOM-8890-->

* La eliminación de un categoría deshabilitado que no incluye un producto ahora no afecta a las tablas de índice planas búsqueda ni categoría catálogo. Anteriormente, la eliminación de un categoría inactivo desencadenaba un reindexado completo. [GitHub-23297](https://github.com/magento/magento2/issues/23297)

<!-- ENGCOM-8599 8474-->

* Los indexadores personalizados ahora pueden usar diferentes nombres de columna de entidad para las suscripciones. Anteriormente, el desencadenador de base de datos utilizaba el nombre de columna del último establecido del **indizador en Actualizar por programación** en lugar del indizador designado. [GitHub-21853](https://github.com/magento/magento2/issues/21853)

<!-- ENGCOM-8887-->

* El aplicación ya no envía solicitudes de AJAX a recargar secciones de datos de cliente (`Magento_Customer/js/section-config`) que no se vean afectadas por el solicitud. [GitHub-31948](https://github.com/magento/magento2/issues/31948)

<!-- MC-39569-->

* Los siguientes indexadores ya no se invalidan después de agregar, quitar o reordenar productos en un categoría: `catalog_category_product` y `catalogsearch_fulltext` (y sus dependientes). Anteriormente, estas eliminaciones involuntarias desencadenaban la reindexación completa de los sitios. Ahora se evita un reindexado completo en estas condiciones cuando el catálogo plano no está habilitado.

### Infraestructura

<!-- MC-41445-->

* La dependencia `pelago/emogrifier` se ha actualizado de la versión 3.1.0 a la 5.0.0. Esta actualización dio como resultado la introducción de cambios incompatibles con versiones anteriores en la `Magento\Email\Model\Template\Filter` clase. El código modificado se ejecuta durante correo electrónico procesamiento de plantillas. Ver [referencia](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/reference/) BIC.

<!-- MC-42212-->

* Se ha corregido un problema `\Magento\CatalogInventory\Model\Indexer\Stock\CacheCleaner::getCategoryIdsByProductIds` que impedía guardar un producto nuevo.

<!-- MC-42199-->

* Se ha eliminado la biblioteca TinyMCE v3 obsoleta. Las `Magento_Tinymce3Banner` pruebas módulo y MFTF relacionadas con TinyMCE v3.x se han eliminado de Adobe Systems Commerce.

<!-- MC-41497-->

* El aplicación ya no muestra un `Invalid header value detected` error en el formulario Contáctenos cuando un comprador ingresa una dirección correo electrónico que contiene Francés signos diacríticos (como &quot;é&quot;, &quot;è&quot;). Ahora, la aplicación convierte las letras UTF-8 del nombre usuario a codificación ASCII. Anteriormente, las letras UTF-8 no se convertían a codificación ASCII en la sección única de la dirección correo electrónico.

<!-- MC-39947-->

* El aplicación ya no arroja un error fatal de PHP cuando se agrega un plug-in a una clase principal. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-9012-->

* Se han actualizado los archivos de README.md para estos módulos: `Magento_Msrp`, `Magento_MsrpConfigurableProduct`, `Magento_MsrpGroupedProduct`, `Magento_Multishipping`, . `Magento_MysqlMq` [GitHub-32577](https://github.com/magento/magento2/issues/32577)

<!-- magento/partners-magento2ee#501-->

* `phpcpd` se ha actualizado a la versión 6.0.3 para la compatibilidad con PHP 8.

<!-- ENGCOM-9073-->

* `ramsey/uuid`se ha actualizado para compatibilidad con PHP 8.0. [&#128279;](https://github.com/magento/magento2-functional-testing-framework/issues/826)GitHub-31777, [&#128279;](https://github.com/magento/magento2/issues/31777)GitHub-826

<!-- ENGCOM-8997-->

* `colinmollenhour/php-redis-session-abstract` se ha actualizado a la versión 1.4.4 para la compatibilidad con PHP 8. [GitHub-32709](https://github.com/magento/magento2/issues/32709)

<!-- ENGCOM-8527-->

* Se ha corregido una combinación no válido de tabulaciones y espacios en el `phpstan.neon` archivo. [GitHub-31239](https://github.com/magento/magento2/issues/31239)

<!-- ENGCOM-8668-->

* Se eliminó el uso de Propiedad `$_isScopePrivate` obsoletos en toda la base de código. [GitHub-30506](https://github.com/magento/magento2/issues/30506)

<!-- ENGCOM-8551-->

* Página diseños ya no estarán codificados de forma rígida en `Magento\Widget\Block\Adminhtml\Widget\Instance\Edit\Chooser\Container`.  Como resultado, la `getPageLayouts()` función ahora devuelve el lista real de Página diseños declarados por los diferentes módulos como esperado. Anteriormente, solo devolvía diseños cifrados. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8509-->

* El archivo `composer.lock` se ha actualizado a la última versión de Coding Standard. [GitHub-31152](https://github.com/magento/magento2/issues/31152)

<!-- ENGCOM-9015 -->

* Se agregó una dependencia que falta en el paquete `web-token/jwt-framework` al `magento/module-jwt-framework-adapter`. [GitHub-32578](https://github.com/magento/magento2/issues/32578)

<!-- ENGCOM-9019 -->

* Se han agregado oyentes pasivos al biblioteca para mejorar la `fotorama.js` puntuación de las métricas faro. [GitHub-31140](https://github.com/magento/magento2/issues/31140)

<!-- ENGCOM-9014 -->

* Se ha actualizado el archivo README.md del módulo Google Analytics. [GitHub-32616](https://github.com/magento/magento2/issues/32616)

<!-- ENGCOM-8375 -->

* Process Manager ahora gestiona correctamente las excepciones en los procesos ramificados. El proceso principal se cierra y El aplicación ahora muestra un mensaje de error solo una vez. Además, las excepciones de los procesos bifurcados ahora se gestionan cuando se lanzan en el proceso principal. Anteriormente, el aplicación registraba varios errores de indizador y mostraba varios mensajes de error.  [GitHub-30622](https://github.com/magento/magento2/issues/30622)

<!-- ENGCOM-8544 -->

* El aplicación ya no arroja un error cuando se agrega un plug-in a una clase principal. (El `optionsProvider` parámetro ahora se declara después de `getContentIdentities` en `Assest.php`.) Anteriormente, el aplicación arrojaba este error:  `Error: Cannot instantiate interface Magento\Framework\Data\OptionSourceInterface`. [GitHub-31291](https://github.com/magento/magento2/issues/31291)

<!-- ENGCOM-8549 -->

* La ejecución `Magento\Framework\Filesystem\Io\Ftp::ls()` en una carpeta vacía ahora devuelve una matriz vacía como se esperaba. Anteriormente, el aplicación lanzaba esta excepción: `Invalid argument supplied for foreach() in vendor/magento/framework/Filesystem/Io/Ftp.php…`. [GitHub-31288](https://github.com/magento/magento2/issues/31288)

<!-- ENGCOM-8791 -->

* El `update` método tanto para Función como para Reglas se ha marcado como obsoleto en `app/code/Magento/Authorization/Model/Role.php`. [GitHub-30756](https://github.com/magento/magento2/issues/30756)

<!-- ENGCOM-8946 -->

* Se ha corregido la concatenación de los parámetros de cookie de SameSite. Anteriormente, una concatenación incorrecta adjuntaba el sufijo `lex` a `value`, `domain` y otros parámetros. [GitHub-26377](https://github.com/magento/magento2/issues/26377), [GitHub-32440](https://github.com/magento/magento2/issues/32440)

<!-- ENGCOM-8698 ENGCOM-9034 -->

* `allure-framework/allure-phpunit` se ha actualizado a la versión 1.3.1 en toda la base de código. Anteriormente, la aplicación mostraba este error: `Warning: Use of undefined constant GLOB_BRACE - assumed 'GLOB_BRACE' (this will throw an Error in a future version of PHP) in /var/www/html/src/vendor/allure-framework/allure-phpunit/src/Yandex/Allure/Adapter/AllureAdapter.php:74.` [GitHub-24635](https://github.com/magento/magento2/issues/24635)

<!-- ENGCOM-8783 -->

* La aplicación ahora muestra más errores informativos cuando se producen errores al ejecutar comandos `bin/magento` en el modo de producción. Anteriormente, el aplicación no mostraba mensajes de error o mensajes que carecían de información. [GitHub-32786](https://github.com/magento/magento2/issues/32786)

<!-- ENGCOM-8953 -->

* El objeto PHP `ArrayIterator` se ha actualizado para que funcione según lo esperado con PHP 7.4. [GitHub-32088](https://github.com/magento/magento2/issues/32088)

<!-- ENGCOM-8469 -->

* La aplicación ya no genera un error cuando un cliente intenta completar un pedido cuando no hay transportistas disponibles. En su lugar, muestra la página de cierre de compra y este mensaje: `Sorry, no quotes are available for this order at this time`. Anteriormente, la aplicación mostraba una página de desprotección en blanco y registraba este mensaje en el registro de excepciones: `array_keys() expects parameter 1 to be array, null given`. [GitHub-30830](https://github.com/magento/magento2/issues/30830)

<!-- ENGCOM-8557 -->

* La aplicación ya no registra cada cookie como un contexto independiente. La matriz `$_COOKIE` también se ha convertido en una cadena. Anteriormente, como cada cookie se registraba como un contexto independiente, cuando el número de cookies superaba los 50, el aplicación registraba este mensaje: `Unable to send the cookie. Maximum number of cookies would be exceeded`. [GitHub-31334](https://github.com/magento/magento2/issues/31334)

### Factura

<!-- ENGCOM-8472 -->

* Al crear nuevas facturas en la zona de control, la **casilla de verificación Copia de correo electrónico de** ahora funciona según lo esperado. Anteriormente, la casilla de verificación se ignoraba si la configuración global para enviar correos electrónicos de facturación estaba habilitada en **los correos electrónicos** de ventas. Ahora es coherente y funciona de la misma manera que las páginas de creación de notas de envío y crédito. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

### Galería multimedia

<!-- MC-41728-->

* `bin/magento media-gallery:sync` ahora falla como se esperaba al procesar imágenes PNG que carecen de información XMP.

<!-- ENGCOM-8814-->

* Las entradas en la `catalog_product_entity_media_gallery` tabla se eliminan según lo esperado cuando se eliminan productos relacionados. [GitHub-17727](https://github.com/magento/magento2/issues/17727)

<!-- ENGCOM-8945-->

* Imagen detalles ahora se pueden actualizar en la Galería multimedia cuando JavaScript minificación está activada. Anteriormente, los detalles de la imagen no se guardaban y la aplicación mostraba este error: `TypeError: Cannot read property 'call' of undefined in jquery.validate`. [GitHub-31633](https://github.com/magento/magento2/issues/31633)

### MFTF

Nuevo características y correcciones de errores del núcleo MFTF se describen en el registro[&#128279;](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md) de cambios del marco de pruebas funcionales.

<!-- ENGCOM-8496-->

* Los `magento indexer:reindex` comandos and `cache:flush` y los `AdminReindexAndFlushCache` grupo de acción se han eliminado de las pruebas para mejorar la ejecución de los siguientes módulos: `Bundle`, `Catalog`, `Downloadable` `CatalogUrlRewrite` `CatalogRuleConfigurable` `Indexer` `CatalogRule` `Paypal`y .`Sales` [GitHub-31031](https://github.com/magento/magento2/issues/31031)

<!-- ENGCOM-8562-->

* `AdminSubmitCategoriesPopupActionGroup` se ha agregado a las pruebas para evitar errores prueba. [GitHub-31251](https://github.com/magento/magento2/issues/31251)

<!-- ENGCOM-8562-->

* Las pruebas se han refactorizado con `StorefrontCheckQuickSearchStringActionGroup` y `StorefrontAssertProductNameOnProductMainPageActionGroup` (grupos de acción existentes). [GitHub-31251](https://github.com/magento/magento2/issues/31251)

#### Pruebas refactorizadas

Se han modificado las siguientes pruebas para mejorar el tiempo de ejecución:

`AddOutOfStockProductToCompareListTest`  <!-- ENGCOM-8547-->

`AdminApplyTierPriceToProductWithPercentageDiscountTest` <!-- ENGCOM-8522-->

`AdminCheckingCreditMemoTotalsTest` <!-- ENGCOM-8606-->

`AdminCheckDashboardWithChartsTest` <!-- ENGCOM-8897-->

`AdminConfigDefaultProductLayoutFromConfigurationSettingTest`  <!-- ENGCOM-8891-->

`AdminCreateInvoiceTest` <!-- ENGCOM-8581-->

`AdminCreateOrderAddProductCheckboxTest` <!-- ENGCOM-8492-->

`AdminMassOrdersCancelCompleteAndClosedTest` <!-- ENGCOM-8538-->

`AdminMassOrdersCancelProcessingAndClosedTest`  <!-- ENGCOM-8670-->

`AdminMassOrdersHoldOnCompleteTest`  <!-- ENGCOM-8897-->

`AdminMassOrdersHoldOnPendingAndProcessingTest`(reemplazo de obsoleto)`AdminMassOrdersHoldOnPendingAndProcessingTest`<!-- ENGCOM-8669-->

`AdminMassOrdersUpdateCancelPendingOrderTest` <!-- ENGCOM-8602-->

`AdminMassProductPriceUpdateTest` <!-- ENGCOM-8587-->

`AdminMassUpdateProductAttributesMissingRequiredFieldTest` <!-- ENGCOM-8511-->

`AdminOrdersReleaseInUnholdStatusTest`  <!-- ENGCOM-8592—-->

`AdminPanelIsFrozenIfStorefrontIsOpenedViaCustomerViewTest`  <!-- ENGCOM-8601-->

`AdminSortingByWebsitesTest`  <!-- ENGCOM-8583-->

`AdminUpdateSimpleProduct` <!-- ENGCOM-8536-->

`AdminUpdateSimpleProductWithRegularPriceInStockEnabledFlatTest`  <!-- ENGCOM-8533-->

`AdminValidateShippingTrackingNumberTest`  <!-- ENGCOM-8593-->

`CancelOrdersInOrderSalesReportTest`  <!-- ENGCOM-8591-->

`ProductsQtyReturnAfterOrderCancelTest` <!-- ENGCOM-8506-->

`StorefrontConfigurableProductBasicInfoTest`  <!-- ENGCOM-8711-->

#### Grupos de acción

Las acciones repetitivas se han reemplazado por grupos de acciones en estas pruebas:

`AdminCheckConfigurableProductPriceWithDisabledChildProductTest`  <!-- ENGCOM-8574-->

`AdminConfigurableProductCreateTest` <!-- ENGCOM-9013-->

`AdminConfigurableProductRemoveAnOptionTest` <!-- ENGCOM-9038-->

`AdminCreateProductDuplicateUrlkeyTest` <!-- ENGCOM-9007-->

`AdminCreateSimpleProductNegativePriceTest` <!-- ENGCOM-900-->

`AdminCreateSimpleProductZeroPriceTest`  <!-- ENGCOM-9040-->

`AdminCreateVirtualProductFillingRequiredFieldsOnlyTest` <!-- ENGCOM-9003-->

`AdminUpdateSimpleProductWithRegularPriceInStockDisabledProductTest` <!-- ENGCOM-9002-->

`AdminUpdateSimpleProductWithRegularPriceInStockNotVisibleIndividuallyTest`  <!-- ENGCOM-9011-->

`AdminUpdateSimpleProductWithRegularPriceInStockVisibleInCatalogOnlyTest`  <!-- ENGCOM-9041-->

#### Nuevo grupos de acción

`AdminClearFiltersOnGridActionGroup` <!-- ENGCOM-8604-->

`AdminClickAddNewPageOnPagesGridActionGroup`  <!-- ENGCOM-8613-->

`AdminClickInsertWidgetActionGroup` <!-- ENGCOM-8614-->

`AdminClickRefundOfflineOnNewMemoPageActionGroup` <!-- ENGCOM-8580-->

`AdminFillAccountInformationOnCreateOrderPageActionGroup` <!-- ENGCOM-8495-->

`AdminGoToOrderStatusPageActionGroup`  <!-- ENGCOM-8615-->

`AdminOpenCMSPagesGridActionGroup`<!-- ENGCOM-8682-->

`AdminSelectAttributeSetOnEditProductPageActionGroup` <!-- ENGCOM-8566-->

`AssertAdminProductIsAssignedToCategoryActionGroup`  (reemplaza el filtrado de la cuadrícula de productos con unidad de almacén y haciendo clic en la primera fila (para reducir prueba tiempo de ejecución) <!-- ENGCOM-8535 8534-->

`AssertLinkActionGroup` <!-- ENGCOM-8457-->

`AssertStorefrontCartDiscountActionGroup` <!-- ENGCOM-8431-->

`ClickPlaceOrderActionGroup` <!-- ENGCOM-8671-->

`SaveCmsPageActionGroup` <!-- ENGCOM-8683-->

`StorefrontAssertProductNameIsNotOnProductMainPageActionGroup` <!-- ENGCOM-8562-->

`StorefrontGuestCheckoutProceedToPaymentStepActionGroup` <!-- ENGCOM-8582-->

`StorefrontHoverProductOnCategoryPageActionGroup` <!-- ENGCOM-8575-->

`StorefrontSelectCustomizeAndAddToTheCartButtonActionGroup` <!-- ENGCOM-8573-->

#### Grupos de acción eliminados

<!-- ENGCOM-8525 8558 8608 8546 8695 8889 8681 8627 8714-->

* Se ha eliminado `CliIndexerReindexActionGroup` (o cambiado el valor) de las pruebas para mejorar el tiempo de ejecución de los `Backend`módulos , , `Elasticsearch6` `Swatches` `Indexer` `LayeredNavigation` `Elasticsearch` `Downloadable` `LoginAsCustomer` `Search` `SalesRule` `Store` `Sales` `UrlRewrite` `Weee` `BundleImportExport` `CatalogRule` `Wishlist` `Catalog` `CatalogSearch` `Checkout` `Newsletter` `Bundle`

<!-- ENGCOM-8893 8951 8893 9001 8715 8724 8721 8843-->

* Eliminado `CliCacheFlushActionGroup` de `Catalog`, `CatalogUrlRewrite`, `Checkout`, `Config`, `ConfigurableProduct`,`Contact`, `Cookie`, `CurrencySymbol` `Translation` `Customer` `LayeredNavigation` `Indexer` `LoginAsCustomer` `Fedex` `Msrp` `Elasticsearch6` `Multishipping` `Sales` `Elasticsearch` `Downloadable` `UrlRewrite` `Vault` `Swatches` `Weee`, , y `Wishlist` módulos.

### Boletín

<!-- ENGCOM-8948 MC-40885-->

* El aplicación ya no envía correo electrónico de boletín informativo a un cliente que se ha dado de baja del boletín en el período de tiempo entre la creación del boletín cola y el envío del boletín. [GitHub-32116](https://github.com/magento/magento2/issues/32116)

<!-- ENGCOM-8675-->

* El aplicación ahora respeta la configuración de habilitación de newsletter (**Almacena** > **Configuración** Configuración de >**&#x200B;**> **Clientes** > **Newsletter** > **General Opciones**). Anteriormente, esta configuración siempre se recuperaba del ámbito predeterminado en implementaciones de varias tienda. [GitHub-31188](https://github.com/magento/magento2/issues/31188)

<!-- ENGCOM-8551-->

* El GET `/V1/customers/search` de llamadas REST ahora devuelve la información correcta para los clientes que están suscritos a varios boletines. [GitHub-31168](https://github.com/magento/magento2/issues/31168)

<!-- ENGCOM-8817-->

* El estado de suscripción al almacenamiento en caché se ha eliminado del plug-in de newsletter. [GitHub-19345](https://github.com/magento/magento2/issues/19345)

### Orden

<!-- MC-40963-->

* La aplicación ahora calcula correctamente un saldo de cliente facturado al devolver el crédito de tienda a una cuenta de cliente para un pedido parcialmente facturado.

<!-- ENGCOM-8710-->

* El aplicación ahora guarda un pedido modificado como se esperaba cuando guarda un saldo de cliente reembolsado. [GitHub-393](https://github.com/magento/partners-magento2ee/issues/393)

### Métodos de pago

<!-- MC-41525-->

* El aplicación ahora procesa bloqueos de pago independientemente `frontend` del área desde la que se envió el correo electrónico. (El área actual ahora se emula como `frontend` antes de que se renderizara el bloque de pago). Anteriormente, los bloques de pago se procesaban en el área desde la que se enviaba el correo electrónico. Como resultado, tanto si el correo electrónico de ventas se activó desde el administrador como desde la API de REST, las direcciones URL de los recursos intentaron cargarlos desde un área incorrecta (`webapi_rest` o `adminhtml`).

<!-- MC-40810-->

* La aplicación ahora envía el vínculo de un producto descargable a la dirección de correo electrónico especificada durante el cierre de compra. Anteriormente, cuando un comprador invitado utilizaba el Pago y envío de PayPal Express e introducía diferentes direcciones de correo electrónico para enviar el pedido y para pagar, la aplicación enviaba el vínculo de producto descargable a la primera dirección.

<!-- MC-38051-->

* La aplicación ahora muestra un valor preciso para el crédito de tienda disponible en la página Método de pago en implementaciones que admiten varias monedas.

<!-- MC-37820-->

* Los métodos de pago lista ahora se actualizan como se esperaba cuando un invitado comprador cambia la dirección de envío de un pedido a un país diferente durante el proceso de pago. Anteriormente, el cambio de la dirección de facturación no almacenaba en déclencheur una actualización de los posibles métodos de pago.

#### PayPal

<!-- MC-39895-->

* Los compradores ahora pueden revisar con éxito un pedido de PayPal Payflow Pro con una dirección de envío que contiene caracteres especiales. Anteriormente, la aplicación rechazaba el pago de estos pedidos.

<!-- MC-39861-->

* Los compradores ahora son redirigidos de nuevo al Página de éxito del pedido después de un pago exitoso con PayPal. Anteriormente, a los compradores se les redirigía a una Página en blanco porque se perdían los datos de la sesión.

### Rendimiento

<!-- MC-41647-->

* Se ha mejorado el rendimiento de la búsqueda de unidad de almacén de administración en catálogos grandes. Las sugerencias del optimizador de consultas ahora fuerzan el uso del índice durante la ejecución de la consulta.

<!-- MC-41440-->

* Se ha mejorado el rendimiento del proceso `catalog_product_alert` `cron` al ejecutarse en tablas grandes (varios millones de filas). Anteriormente, `catalog_product_alert` cargaba todas las alertas de producto, lo que provocaba una excepción de memoria insuficiente.

<!-- ENGCOM-8752-->

* La aplicación ya no carga todas las páginas de CMS cuando solo se necesita una página de edición para procesar un formulario de administrador.  Estas páginas ahora se cargan más rápido. [GitHub-30936](https://github.com/magento/magento2/issues/30936)

<!-- ENGCOM-8510-->

* Los valores numéricos en las expresiones ahora se convierten como `WHERE IN` número, no como cadena, lo que mejora consulta rendimiento en algunas versiones de MariaDB. [GitHub-31135](https://github.com/magento/magento2/issues/31135)

* El `use_application_lock` modo permite habilitar la reindexación mediante el uso de entorno variables o configurando el `app/etc/env.php` archivo. Ya no es necesario restablecer manualmente el indizador después de un error con este modo habilitado. Cuando este modo no está habilitado, debe restablecer manualmente el indizador después del error. Consulte Uso [aplicación modo de bloqueo para procesos](https://developer.adobe.com/commerce/php/development/components/indexing/#using-application-lock-mode-for-reindex-processes) de reindexación.

### Precios

<!-- MC-41767-->

* El aplicación ahora actualiza correctamente el precio de un producto con precios agrupados cuando un comprador actualiza el cantidad del producto en el escaparate. [GitHub-32669](https://github.com/magento/magento2/issues/32669)

<!-- MC-39282-->

* Los paquetes de productos ahora se pueden guardar cuando a los productos se les ha asignado un precio de nivel y `Magento\Framework\Api\ExtensibleDataObjectConverter` se utilizan para convertir datos de producto. Anteriormente, cuando `Magento\Framework\Api\ExtensibleDataObjectConverter` se utilizaba para convertir datos de producto a un arreglo de discos cuando se guardaba un producto, el aplicación no guardaba el producto y mostraba este error: `Notice: Undefined index: price in app/code/Magento/Catalog/Model/Product/Type/Price.php on line 382.`

<!-- MC-36811-->

* Las actualizaciones de precios programadas ahora se aplican a productos que ya están en el carro de compras de un comprador. [GitHub-356](https://github.com/magento/partners-magento2ee/issues/356)

<!-- MC-24693-->

* El precio de nivel ahora se aplica a un producto como se espera cuando cantidad incrementos están habilitados y el inventario decimal es menor que 1. Anteriormente, el cantidad de precio de nivel mínimo se establecía en 1.

### Vídeo del producto

<!-- MC-39755-->

* Ahora puede usar el botón **Agregar vídeo** (Administrador **Catálogo** > **Productos**) para agregar varios vídeos de forma consecutiva. Anteriormente, los campos de vídeo conservaban los detalles del vídeo anterior.

<!-- MC-40817-->

* La introducción del modo de pantalla completa para un vídeo de producto en una página de producto ahora funciona como se espera en dispositivos móviles. Anteriormente, entrar en el modo de pantalla completa provocaba que el vídeo se detuviera antes de salir del modo de pantalla completa.

<!-- MC-39759-->

* Los botones de flecha de navegación (**Siguiente** y **Anterior**) ahora están visibles como se esperaba en los videos de productos de escaparate.

<!-- MC-40463-->

* Los comerciantes ahora pueden agregar videos de Vimeo usando el **botón Insertar video** en el página de producto como se espera. Anteriormente, el aplicación mostraba un error 404. [GitHub-31753](https://github.com/magento/magento2/issues/31753)

### Citar

<!-- MC-39531-->

* La `/V1/guest-carts/examplecartid/items` llamada ahora devuelve el tienda solicitado vista. Anteriormente, devolvía la primera tienda vista del tienda, no la solicitada.

<!-- MC-33893 ENGCOM-8992-->

* El envío de facturas ya es configurable. Anteriormente, el envío de facturas no era configurable y el aplicación siempre enviaba una factura después de crearla. Los correos electrónicos de facturas y pedidos se enviaron en ámbito de un observador. Los observadores separados ahora rigen el envío de correo electrónico de pedido y correo electrónico de facturas. [GitHub-27656](https://github.com/magento/magento2/issues/27656)

### Informes

<!-- MC-40998-->

* Ahora todos los informes del sistema se pueden ver y descargar desde Adobe Systems Commerce en infraestructura en la nube proyecto. Anteriormente, no se podían descargar los informes del sistema para Registros, Datos, Diseño o Tiendas.

<!-- MC-39737-->

* La fecha de la última revisión en Administración **Informes** > **Revisiones** > **Por productos** ahora muestra la fecha de revisión correcta. Anteriormente, el aplicación mostraba la fecha de creación del producto en lugar de la fecha de revisión.

### Autorizaciones de devolución de mercancía (RMA)

<!-- MC-41866-->

* El atributo RMA `resolution` ya no se muestra como obligatorio cuando el valor del campo de atributo `required` se establece en **no**.

<!-- MC-41808-->

* Ahora puede seleccionar varios pedidos para la devolución desde el administrador. Anteriormente, el aplicación generaba un error al hacer clic en **Enviar** después de seleccionar varias devoluciones y seleccionar Cerrar en el menú desplegable Acciones.

<!-- MC-41759-->

* Ahora, el aplicación envía notificación de correo electrónico a los clientes según lo esperado después de cambiar el estado de una devolución mediante la API de REST.

<!-- MC-39981  magento/partners-magento2ee#442 -->

* La aplicación ahora filtros registros según los valores de filtro de la cuadrícula de devoluciones de clientes Administrador. Anteriormente, la aplicación le dirigía al Página Administración de todos los clientes y, al hacer clic en la **Filtrar Restablecer** botón también se redirigía a este Página. [GitHub-436](https://github.com/magento/partners-magento2ee/issues/436)

### Comentarios

<!-- MC-40116-->

* Las estrellas de clasificación de las opiniones del producto ahora se calculan correctamente en la sección Detalles de la revisión del Página de Mi cuenta.

<!-- MC-39763-->

* Las secciones Clasificación media del producto y Valoraciones del producto de los detalles de las reseñas del producto ahora Página se representan correctamente. Anteriormente, el ID de revisión no se establecía cuando el aplicación calculaba la calificación del escaparate y el plantilla de revisión del producto no se representaba correctamente.

<!-- MC-36149-->

* El **Sea el primero en valorar este producto** ahora vincular cambia según lo esperado a un recuento de opiniones después de que un administrador apruebe una revisión.

<!-- ENGCOM-8501 MC-30270-->

* Los administradores ahora pueden ordenar las reseñas de productos en la sección Reseñas de productos del Página de edición del producto como se espera. [GitHub-30270](https://github.com/magento/magento2/issues/30270)

<!-- MC-41003  magento/magento2#32259-->

* Las revisiones ahora se guardan con el ID de almacén correcto después de que un administrador apruebe y guarde la revisión desde un dominio diferente al del almacén. [GitHub-17510](https://github.com/magento/magento2/issues/17510)

### Recompensas

<!-- MC-41159-->

* Los comerciantes ahora pueden cancelar un pedido que se realizó total o parcialmente utilizando puntos de recompensa después de que el cliente que realizó el pedido haya sido eliminado del sistema.

<!-- MC-40037-->

* Los comerciantes ahora pueden eliminar los puntos de recompensa de carro de compras reglas de precios. Anteriormente, cuando un comerciante intentaba establecer **el Puntos** de recompensa en 0 al crear un regla de precio carro de compras, el valor anterior del punto de recompensa cantidad persistía.

<!-- MC-39890-->

* Los puntos de recompensa por reseñas de productos ahora se asocian con el sitio web relevante cuando se aprueban varias revisiones desde la cuadrícula de Revisiones **pendientes de Admin** Marketing **>**. Anteriormente, los puntos de recompensa no se mostraban en el escaparate y no estaban vinculados al sitio web correspondiente en el Administrador.

<!-- MC-39820-->

* El aplicación ahora actualiza el método de pago lista cuando un comprador de pago con varias direcciones verifica o desmarca la opción Crédito **de la tienda (Puntos** de recompensa).

### Ventas

<!-- MC-39796-->

* Los usuarios administradores ahora pueden realizar pedidos de artículos agotados cuando se permite la configuración Pedidos pendientes está habilitado (**Configuración >** Tiendas **&#x200B;**&#x200B;> **Catálogo** > **Inventario** > **Producto Stock Opciones**).**&#x200B;** Anteriormente, el aplicación arrojaba un error.

<!-- MC-42280-->

* Los compradores ahora pueden encontrar un pedido en la Página Pedidos y devoluciones cuando el apellido termina con un espacio en blanco.

<!-- MC-41438-->

* Las facturas ahora se crean con el total general correcto cuando se aplica un precio carro de compras regla asignar un descuento del 100% a un pedido que también está sujeto a impuestos de descuento y productos de catálogo y que califica para gratuito envío. Anteriormente, el pedido tenía el precio correcto, pero la factura no. [GitHub-30853](https://github.com/magento/magento2/issues/30853)

<!-- MC-40384-->

* Ahora, el filtrado de pedidos por fecha devuelve resultados precisos. Anteriormente, el aplicación no devolvía un pedido realizado después de las 00:00 UTC cuando se filtraban los pedidos por fecha de pedido.

<!-- MC-40030-->

* La cuadrícula de notas de crédito ahora muestra el símbolo de moneda correcto cuando **se utiliza el ámbito del sitio web** para un **atributo de precio** en un implementación de varios tienda.

<!-- MC-40013 ENGCOM-8781-->

* Los botones de opción Métodos de pago ya no desaparecen en la sección Información de pago y envío del flujo de trabajo de cierre de compra después de volver a cargar la página Crear nuevo pedido del administrador. [GitHub-32106](https://github.com/magento/magento2/issues/32106)

<!-- MC-39891-->

* El texto en árabe ahora se muestra correctamente en las facturas.

<!-- MC-39864-->

* La aplicación ahora calcula correctamente los totales de impuestos de la nota de abono parcial para las notas de abono que se basan en un pedido o en una factura en tiendas que implementan PayPal Payment Pro como pasarela de pago. Anteriormente, para pedidos con varias facturas, la aplicación aplicaba todo el impuesto de ese pedido para la cancelación parcial de la factura en la nota de abono.

<!-- MC-39521 ENGCOM-8528-->

* El aplicación ya no crea bloqueos aleatorios en la base de datos al enviar correos electrónicos de nuevos pedidos a los clientes. Anteriormente, se producían bloqueos porque la aplicación guardaba todo el objeto y sus objetos relacionados en lugar de columnas SQL actualizadas. La aplicación mostraba este tipo de error: `SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction`. [GitHub-31090](https://github.com/magento/magento2/issues/31090)

<!-- MC-39353-->

* La página de detalles de pedido de tienda ahora muestra la cantidad de producto enviada correctamente. Anteriormente, las cantidades de productos eran incorrectas porque la plantilla de la página Envío de pedidos procesaba **Cantidad enviada** como `int`. Esto se cambió a `float`.

<!-- MC-39026-->

* La aplicación ya no envía copias por correo electrónico de una factura de pedido cuando el botón **Enviar copia por correo electrónico de la factura** está desmarcado. Anteriormente, la aplicación enviaba un correo electrónico a **Cliente** y **Enviar copia del correo electrónico de factura a**. [GitHub-28511](https://github.com/magento/magento2/issues/28511)

<!-- MC-38973-->

* El aplicación ya no crea entradas de dirección duplicado para un cuenta de cliente al crear un nuevo pedido desde el Administrador para un cliente existente. Se ha cambiado el nombre de la casilla Guardar en la **libreta** de direcciones a añadir a la libreta **&#x200B;**&#x200B;de direcciones y ahora está desactivada en la opción Administración de forma predeterminada.

<!-- MC-38834-->

* El aplicación ahora utiliza el logotipo que se ha cargado en la configuración del **Ver del Impresión** Logotipo para HTML cuando los compradores imprimen un pedido desde su cuenta. Anteriormente, el aplicación mostraba el logotipo de LUMA en lugar del logotipo cargado.

<!-- MC-38625-->

* El localizador de elementos pedidos en el escaparate ahora funciona como se espera cuando el número de artículos supera los 20. Anteriormente, el localizador tenía en cuenta productos secundarios y el recuento total era incorrecto.

<!-- MC-23915 ENGCOM-8713-->

* Ahora, la aplicación muestra los símbolos de moneda correctos para los valores de subtotal y de envío y manipulación en las cuadrículas Página Página pedido y nota de crédito. [GitHub-22662](https://github.com/magento/magento2/issues/22662)

<!-- ENGCOM-8486-->

* Los administradores que utilizan Safari ahora pueden añadir correctamente un producto a un pedido del administrador. Anteriormente, cuando el administrador hacía clic en la **añadir productos seleccionados para pedir** botón, la aplicación mostraba el icono de carga giratoria y la Página colgaba. [GitHub-30265](https://github.com/magento/magento2/issues/30265)

### Regla de ventas

<!-- MC-40671-->

* La aplicación ahora aplica las reglas de precio del carro de compras con **Descuento de cantidad máxima aplicado a** o **Paso de cantidad de descuento (comprar X)** condiciones correctamente cuando se aplican varias reglas de precio del carro de compras. Anteriormente, si se aplicaba una regla de precio del carro de compras con **Descuento de cantidad máxima a** o **Paso de cantidad de descuento (comprar X)** después de otra regla de precio del carro de compras, el descuento total se reducía al valor configurado para **Descuento de cantidad máxima se aplica a** o **Paso de cantidad de descuento (comprar X)** veces el precio del producto.

<!-- MC-39827-->

* El informe Coupon ahora refleja con precisión la actividad de los cupones en implementaciones en las que se implementa una base de datos dividida.

<!-- MC-39477-->

* Las reglas de precios del carro de compras que contienen la condición Categoría **IS NOT** se aplican ahora según lo esperado a productos simples o secundarios configurables que no están asignados a una categoría pero cuyos productos principales están asignados.

<!-- MC-39034-->

* La consulta de GraphQL `cart` ahora devuelve el total general correcto para el paso de facturación de un carro de compras cuando se aplica un cupón al pedido.

### Buscar {#search-heading}

<!-- MC-41138-->

* La Página categoría ya no contiene estos ID de elementos duplicado HTML: `modes-label`, `mode-list`, `toolbar-amount`, `sorter`, , `limiter`.

<!-- MC-40981-->

* Los resultados parciales de búsqueda palabras ya no incluyen coincidencias inesperadas o irrelevantes, y las búsquedas producen resultados consistentes tanto en el escaparate como en el administrador. El aplicación ahora utiliza un analizador diferente sin un lematizador para las búsquedas parciales de palabras. Anteriormente, búsqueda resultados mostraban productos que no incluían palabras clave búsqueda. (Anteriormente, el analizador predeterminado incluía un lematizador y, debido a que el mismo analizador se usaba en búsqueda momento para búsqueda parciales de palabras, el resultado de búsqueda podía producir coincidencias inesperadas o irrelevantes).

<!-- MC-40715-->

* La búsqueda rápida ahora devuelve resultados si la consulta de búsqueda tiene varias palabras y el nombre del producto está configurado como no se puede buscar. Anteriormente, si el nombre del producto se configuraba como no buscable, el aplicación producía una excepción consulta en consultas de búsqueda con varias palabras.

<!-- MC-40672-->

* Los resultados de búsqueda ahora incluyen el atributo `weight` como se espera cuando se configura como un atributo en el que se puede buscar.

<!-- MC-40409-->

* La aplicación ya no genera un error cuando se ve una página de categoría vacía con Elasticsearch habilitado. En su lugar, procesa la página según lo esperado y muestra un mensaje informativo. Anteriormente, un índice de texto completo vacío activaba una excepción en una página de categoría.

<!-- MC-40376-->

* La función de autocompletar el campo de búsqueda ahora funciona como se espera si un comprador hace clic fuera del campo de búsqueda después de comenzar su búsqueda. Las sugerencias de autocompletar ahora vuelven a aparecer cuando el comprador reanuda la escritura. Anteriormente, la aplicación no mostraba sugerencias de autocompletar y al hacer clic en el cuadro de búsqueda no se volvían a ver las sugerencias de búsqueda (aunque sí se volvían a escribir cartas adicionales).

<!-- MC-34217-->

* La búsqueda de un producto en función de su unidad de almacén total o parcial en Avanzadas Search ahora devuelve el producto esperado.

<!-- MC-31395-->

* Los filtros de navegación en capas ahora muestran recuentos de productos precisos. Anteriormente, los valores de recuento de productos de Elasticsearch no se filtraban mediante permisos de catálogo.

<!-- MC-23881 ENGCOM-8618-->

* Elasticsearch ya no genera errores cuando el parámetro Página URL categoría excede la paginación. [GitHub-23843](https://github.com/magento/magento2/issues/23843)

<!-- MC-24033  magento/magento2#3274-->

* Ahora puede agregar un asignador de campos de Elasticsearch personalizado a `Magento\Elasticsearch\Model\Adapter\FieldMapper\Product\FieldProvider\FieldName\Resolver\CompositeResolver`. [GitHub-24350](https://github.com/magento/magento2/issues/24350)

<!-- ENGCOM-9029 MC-24026-->

* Los desarrolladores ahora pueden cambiar Elasticsearch asignaciones. Anteriormente, las plantillas dinámicas enviadas al servidor Elasticsearch en las asignaciones predeterminadas estaban codificadas, lo que impedía a los desarrolladores indexar Elasticsearch datos adicionales asociados con un módulo personalizado. [GitHub-24363](https://github.com/magento/magento2/issues/24363)

<!-- ENGCOM-8464 -->

* Search campos (minibúsqueda de formularios) funcionan ahora como se espera cuando Search Sugerencias están deshabilitadas. [GitHub-30584](https://github.com/magento/magento2/issues/30584)

### Naviero

<!-- MC-41464-->

* La aplicación ahora actualiza el precio de envío como se espera cuando un comprador vuelve a la página del carro de compras después de eliminar un producto durante el cierre de compra con varias direcciones.

<!-- MC-41343-->

* La solicitud ahora muestra el precio de envío ajustado correcto cuando algunos artículos del carro cumplen los requisitos para el envío gratuito. Anteriormente, cuando un subconjunto de artículos del carro de compras cumplía los requisitos para gratuito envío, el aplicación no ajustaba el precio de envío y mostraba el precio de envío completo al comprador.

<!-- MC-41186-->

* Los administradores que están restringidos a un sitio web específico ahora pueden crear un envío para un pedido realizado en el mismo sitio web. Anteriormente, el aplicación lanzaba esta excepción cuando un administrador que carecía de permiso a la tienda predeterminada vista intentó enviar un pedido que se realizó en un vista de tienda al que el administrador tenía acceso: `Notice: Undefined offset: 1 in /app/code/Magento/Catalog/Model/Product/Attribute/Backend/GroupPrice/AbstractGroupPrice.php on line 293`.

<!-- MC-41069-->

* El aplicación ahora tiene en cuenta cuenta carro de compras precios regla descuentos relevantes al determinar si un pedido cumple con las condiciones para gratuito envío de DHL.

<!-- MC-40702 ENGCOM-8728-->

* Las etiquetas de envío ahora utilizan la divisa base como se espera en lugar de la divisa de pedido en tiendas que admiten varias divisas cuando se realiza un pedido en una divisa no base. [GitHub-31891](https://github.com/magento/magento2/issues/31891)

<!-- MC-40678 magento/magento2#31925-->

* La aplicación ahora muestra el subtotal de pedido correcto cuando un comprador vuelve a la página del carro de compras durante el cierre de compra después de salir de la página de envío múltiple. [GitHub-31889](https://github.com/magento/magento2/issues/31889)

<!-- MC-40541 magento/magento2#31841 -->

* La edición de la información de facturación durante la creación del pedido de administración ya no cambia la información de envío para los clientes con diferentes direcciones de envío y facturación predeterminadas. [GitHub-31786](https://github.com/magento/magento2/issues/31786)

<!-- MC-37385 ENGCOM-8578-->

* El aplicación ya no desmarca la **casilla de verificación Anexar comentarios** cuando un comprador hace clic en Obtener **métodos y tarifas** de envío y selecciona un método de envío al crear un pedido desde el administrador. [GitHub-30256](https://github.com/magento/magento2/issues/30256)

<!-- MC-36425-->

* Los compradores ahora pueden usar el Atrás explorador botón para volver a la Página Seleccionar método de envío mientras realizan el pago de un pedido con varias direcciones. Anteriormente, el aplicación mostraba un Página Seleccionar método de envío dañado. [GitHub-30268](https://github.com/magento/magento2/issues/30268)

<!-- MC-40021 ENGCOM-8983-->

* El cantidad del producto ahora permanece sin cambios como se esperaba después de que un comprador cambia de cantidad en el Página de dirección Enviar a varias direcciones y haga clic en el explorador Atrás botón. [GitHub-31956](https://github.com/magento/magento2/issues/31956)

<!-- ENGCOM-9096-->

* Los cargos por método de envío de tarifa única ya no se convierten en cero cuando se aplica una regla de precio de carro de compras durante el cierre de compra. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- ENGCOM-8537-->

* La aplicación ya no genera un error cuando un comerciante intenta enviar un pedido mediante DHL cuando la casilla de verificación **Crear etiqueta de envío** está habilitada y el nombre del producto contiene caracteres Unicode. Anteriormente, la aplicación mostraba este error al solicitar la creación de etiquetas: `The response is in wrong format`. [GitHub-31032](https://github.com/magento/magento2/issues/31032)

<!-- ENGCOM-8952 -->

* Puede realizar correctamente un pedido del administrador en una implementación de varios sitios en la que `United States` está habilitado en un sitio web y `Disable all countries` está habilitado como el ámbito predeterminado en el otro sitio web. Anteriormente, la aplicación no realizó el pedido y mostró este error: `Please check the shipping address information. "regionId" is required. Enter and try again`. [GitHub-30577](https://github.com/magento/magento2/issues/30577)

### Estadificación

<!-- MC-39807-->

* La característica Programar actualización de bloques ahora funciona como se espera en las implementaciones que implementan Fastly. Anteriormente, el aplicación no actualizaba el contenido de bloque porque las etiquetas de caché de Fastly no se invalidaban y Fastly seguía ofreciendo contenido obsoletos.

<!-- MC-41142-->

* El precio carro de compras regla previsualización de ensayo ahora se carga en el sitio web apropiado cuando se asigna a varias vistas de tienda del sitio web. Anteriormente, el precio carro de compras regla previsualización de ensayo se cargaba en el vista de tienda predeterminado, independientemente de los sitios web asignados.

<!-- MC-40916-->

* Los precios especiales para productos en la vista de tienda no predeterminada ahora se establecen en el valor predeterminado como se esperaba después de que haya finalizado una actualización programada.

<!-- MC-40850  magento/partners-magento2ee#489-->

* Los comerciantes ahora pueden guardar correctamente un producto descargable con una muestra vinculada desde el página de producto descargable después de crear una actualización de ensayo futura con una fecha de finalización. Anteriormente, el aplicación no guardaba el producto y mostraba este mensaje: `The downloadable sample isn't related to the product. Verify the link and try again`. [GitHub-488](https://github.com/magento/partners-magento2ee/issues/488)

<!-- MC-40734-->

* El aplicación ya no ejecuta consultas de bases de datos grandes que incluyen todos los ID de producto durante previsualización de una actualización programada de un categoría. En su lugar, el filtro categoría se aplica al colección del producto para crear una tabla temporal para las vistas previas de ensayo del categoría. Anteriormente, la aplicacióninsertaba todos los productos en una tabla temporal para el previsualización de ensayo, lo que degradaba el rendimiento.

<!-- MC-40714-->

* El `Magento_SalesRuleStaging` módulo ya no desencadena errores durante la actualización desde 2.3.x.

<!-- MC-40697-->

* La aplicación ahora muestra condiciones de regla catálogo con los datos correctos cuando se vista una actualización de programación. Anteriormente, si veía una actualización de programación creada con condiciones, el aplicación no mostraba condiciones o mostraba condiciones con datos incorrectos.

<!-- MC-40604-->

* La **casilla de verificación Usar valor** predeterminado para un producto permanece activada después de que se desmarque una actualización programada antes de la actualización.

<!-- MC-40588 magento/partners-magento2ee#463-->

* Las reglas de precios de catálogo ahora se aplican como se espera a los productos con valores de atributo no definidos. Anteriormente, los descuentos que se creaban a través de una regla de precios de catálogo no se aplicaban a productos con atributos no definidos. [GitHub-461](https://github.com/magento/partners-magento2ee/issues/461)

<!-- MC-40283-->

* Las reglas de catálogo ahora funcionan como se espera en implementaciones de varios sitios web con tiendas en diferentes zonas horarias. Anteriormente, el aplicación aplicaba o desactivaba las reglas del catálogo en todos los sitios web a la vez.

<!-- MC-40054-->

* Los precios de nivel ya no se eliminan cuando se crea una actualización de programación para un sitio web específico.

<!-- MC-39784 magento/partners-magento2ee#475-->

* Ahora puede guardar un producto desde el Página Producto descargable después de crear una futura actualización de ensayo con una fecha de finalización. Anteriormente, el aplicación no guardaba el producto y mostraba este mensaje: `The downloadable link isn't related to the product. Verify the link and try again`. [GitHub-474](https://github.com/magento/partners-magento2ee/issues/474)

### Tienda

<!-- MC-40538-->

* El aplicación ya no trata una cadena como `0` un valor vacío cuando muestra un página de inicio tienda. Anteriormente, la aplicación trataba un valor entero en el inicio de una ruta de solicitud como un ID de tienda, lo que tenía efectos no deseados en Optimización de los motores de búsqueda.

<!-- MC-40313  magento/magento2#31970-->

* Los complementos para `\Magento\Framework\App\ActionInterface` debajo `lib/internal/Magento/Framework/App/Action/Plugin` se han eliminado para mantener la directriz de que los complementos deben usarse para personalizar el comportamiento de un módulo de otro módulo. [GitHub-28050](https://github.com/magento/magento2/issues/28050)

<!-- MC-24772-->

* El aplicación ahora muestra este mensaje cuando intenta seleccionar `Website` como predeterminado cuando `Store View` está deshabilitado durante la creación del sitio web: `Please enable your Store View before using this Web Site as Default`. Anteriormente, el sitio web se bloqueaba y el aplicación no mostraba ningún alerta.

### Impuesto

<!-- MC-39571-->

* El aplicación ahora toma en cuenta oculta impuesto durante validación del monto mínimo de pedido.

<!-- MC-38025 ENGCOM-8612-->

* El aplicación ahora muestra los impuestos fijos sobre los productos (FPT) como se espera cuando un comprador regresa a su carro de compras y procede al cierre de compra después de agregar paquete productos al carro de compras. [GitHub-30250](https://github.com/magento/magento2/issues/30250)

<!-- MC-37657 magento/magento2#31850-->

* Ahora, el aplicación rellena previamente los **campos de entrada de Número de IVA** para las direcciones de facturación y de envío de la sección Información de dirección del nuevo pedido del Administrador Página con números de IVA guardados cuando un administrador crea un pedido para un cliente existente. [GitHub-31846](https://github.com/magento/magento2/issues/31846)

<!-- ENGCOM-8617 magento-engcom/magento2ee#558-->

* Ahora, la aplicación muestra un campo Número de IVA **&#x200B;**&#x200B;en la registro del cliente Página cuando `customer/create_account/vat_frontend_visibility` está activada. [GitHub-31326](https://github.com/magento/magento2/issues/31326)

### Prueba

<!-- MC-41393-->

* Los entornos de prueba se han actualizado a Redis 6.0.12.

<!-- ENGCOM-8529-->

* Se eliminó `CacheCleaner::cleanAll();` de las pruebas de integración. [GitHub-31074](https://github.com/magento/magento2/issues/31074)

<!-- ENGCOM-8898-->

* Se ha añadido un prueba para este escenario: los usuarios administradores pueden editar un cuenta de cliente cuando el cliente está suscrito a un boletín en cola. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

<!-- ENGCOM-8484-->

* Se ha eliminado el comando de las pruebas para mejorar el `cache:flush` tiempo de ejecución de los `Catalog`módulos , `CatalogUrlRewrite`, y `LoginAsCustomer` . [GitHub-31056](https://github.com/magento/magento2/issues/31056)

<!-- ENGCOM-8499-->

* Los parámetros redundantes se han eliminado y POST han cambiado para GET donde sea necesario en `\Magento\Logging\Model\ProcessorTest::testLoggingProcessorLogsActionShipping`.

### Tema

<!-- MC-41474-->

* El Página de inicio de sesión cliente ya no muestra este mensaje cuando el **botón Mover código JS a la parte inferior de la configuración Página** (**Almacenar** configuraciones > **>**&#x200B;**Avanzado** > **Desarrollador** > **JavaScript Configuración**) y las cookies están habilitados: `The store will not work correctly in the case when cookies are disabled`.

<!-- MC-40982-->

* Los vínculos de cuenta en los encabezados ahora seguir los estándares WCAG. Anteriormente, los vínculos de cuenta en los encabezados contenían ID duplicados, lo que provocaba que fallara el validación WCAG.

<!-- MC-40278-->

* El aplicación ahora prioriza tienda configuración para una imagen de logotipo de tienda sobre la configuración de diseño. Anteriormente, el tamaño de las imágenes de los logotipos era fijo y no variaba por tienda.

<!-- MC-35227-->

* El aplicación ahora muestra elementos Página de manera consistente en las páginas principales de las tiendas que usan Adobe Systems temáticas de comercio estándar. Anteriormente, no todos los estilos se aplicaban en el tema En blanco, por lo que no todos los elementos Página se mostraban en las páginas que usaban este tema. (Por ejemplo, no había ningún icono de lupa en el campo Mis pedidos Página búsqueda).

### Traducción y configuraciones regionales

<!-- MC-23553 ENGCOM-8839-->

* Los corchetes que se agregan a las cadenas ya no se escapan cuando se configura la traducción en línea. Anteriormente, el `escapeHtmlAttr` método convertía los corchetes en códigos de entidad HTML. [GitHub-32000](https://github.com/magento/magento2/issues/32000)

<!-- ENGCOM-8694-->

* Las frases intraducibles en el Administrador son ahora traducibles. (Este recibir solicitud contribuye a los esfuerzos en curso para que todas las cadenas de administrador sean localizables). [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8584-->

* Ahora se pueden traducir las cadenas de texto de la plantilla que se usan para administrar los métodos de pago almacenados (**Mi cuenta** > **Métodos de pago almacenados** ). [GitHub-31211](https://github.com/magento/magento2/issues/31211)

<!-- MC-30798 ENGCOM-8717-->

* Solicite los correos electrónicos enviados desde el administrador ahora usan la configuración regional del almacén, no la configuración regional asociada a la cuenta del administrador. [GitHub-26521](https://github.com/magento/magento2/issues/26521)

### IU

<!-- MC-41784-->

* El pie de página del administrador ahora muestra la versión del producto correcta.

<!-- MC-41067-->

* La paginación para orígenes está ahora presente como se espera durante la creación del envío de administración.

<!-- MC-40240-->

* El filtro de cuadrícula de productos ahora funciona correctamente cuando se usan atributos de fecha personalizados para filtrar productos y la configuración regional del usuario de administración es `en_GB`.

<!-- MC-39279-->

* Los gestos de pellizcar para ampliar ahora funcionan como se espera en la página de producto lupa de la galería de imágenes en iOS dispositivos.

<!-- MC-38787-->

* La paginación de la cuadrícula del producto Admin búsqueda resultados ahora comienza en Página uno para cada búsqueda como se esperaba.

<!-- MC-38423-->

* Se han resuelto las anomalías en la visualización del carro de compras al hacer zoom. Anteriormente, los elementos de visualización se superponían al ampliar esta página.

<!-- MC-38235 magento/partners-magento2ee#492 -->

* Alineación se han resuelto los problemas con las pestañas del Página de invitación de Administración (Marketing de administración **&#x200B;**&#x200B;> **Ventas** privadas > **invitaciones**). Anteriormente, la visualización del tabulador de las invitaciones aceptadas por un cliente estaba desalineada. [GitHub-333](https://github.com/magento/partners-magento2ee/issues/333)

<!-- MC-38226 magento/magento2#32008-->

* La Página de revisión del pedido que se muestra durante el cierre de compra con PayPal Pago rápido ahora se carga correctamente. Anteriormente, el plantilla contenía el método **de envío de actualización no utilizado** botón, que solo estaba parcialmente oculta por la secuencia de comandos durante Página representación. [GitHub-32006](https://github.com/magento/magento2/issues/32006)

<!-- MC-37941 magento/magento2#31892-->

* Las estrellas de calificación y el texto de revisión en la sección Reseñas de clientes de la página de producto ahora están correctamente espaciadas cuando hay nombres de calificación largos. [GitHub-31890](https://github.com/magento/magento2/issues/31890)

<!-- MC-37688-->

* Opciones ahora se muestran como se esperaba en el lista desplegable Acciones de las páginas Archivar facturas, Envíos y Notas de crédito.

<!-- MC-23729  magento/magento2#31549-->

* La aplicación ahora muestra un valor de tiempo correcto cuando la opción del `datetime` componente `timeOnly` está configurada en **Sí**. [GitHub-23157](https://github.com/magento/magento2/issues/23157)

<!-- ENGCOM-8514 -->

* Ahora puede eliminar una actualización de diseño después de crear un nuevo widget en Widgets **de >**&#x200B;**de contenido de administración**.  [GitHub-29936](https://github.com/magento/magento2/issues/29936)

<!-- ENGCOM-8502 MC-35716-->

* El **botón de actualización del Diseño de Quitar** ahora funciona según lo esperado en cualquier diseño que haya agregado desde los widgets de >**&#x200B;** de **contenido de administración**. Anteriormente, este botón no funcionaba en ningún diseño distinto al primero seleccionado al agregar varios diseños. [GitHub-30286](https://github.com/magento/magento2/issues/30286)

<!-- ENGCOM-8524 -->

* El aplicación ahora utiliza el título de Página que se establece en el archivo de diseño como título de Página explorador para el archivo de Editar de la cuenta de cliente. Anteriormente, la acción del `Magento\Customer\Controller\Account\Edit` controlador aplicaba el valor de título de Página a `Account Information`. [GitHub-30724](https://github.com/magento/magento2/issues/30724)

<!-- ENGCOM-8896 8826-->

* Las casillas de verificación que permiten a los comerciantes alternar entre mostrar y ocultar contraseñas se han agregado a estas páginas:
   * Inicio de sesión de cliente
   * Registro de cliente
   * Editar del cliente (cambiar Contraseña sección)
   * Conjunto de clientes Nuevo Contraseña GitHub-31557 [&#128279;](https://github.com/magento/magento2/issues/31557)

<!-- ENGCOM-8545 -->

* Se ha eliminado un encabezado redundante en las celdas de la cuadrícula que aparecía cuando un administrador agregaba un producto a un conjunto de productos agrupado después de cambiar el conjunto de atributos. [GitHub-30911](https://github.com/magento/magento2/issues/30911)

<!-- ENGCOM-8895 -->

* El aplicación ahora muestra un `DateRange` filtro en el área Sesión iniciada del Página Inicio de sesión **de**> **del cliente**. Anteriormente, el aplicación mostraba un `Text` filtro. [GitHub-30328](https://github.com/magento/magento2/issues/30328)

<!-- ENGCOM-9009 -->

* JavaScript se ha eliminado de plantilla archivos y se ha movido a archivos independientes para reducir los problemas de procesamiento en las páginas de administración. Anteriormente, las páginas de administración no se representaban correctamente en implementaciones en las que se había habilitado la minificación de HTML. La aplicación mostró este error: `An error has happened during application run. See exception log for details`. [GitHub-32454](https://github.com/magento/magento2/issues/32454)

<!-- ENGCOM-9044 -->

* El widget `dropdownDialog` ahora carga solamente los fragmentos `jquery-ui` arrastrables y redimensionables que necesita. Anteriormente, cargaba grandes cantidades de código innecesario, lo que inflaba el tiempo de carga y reducía el rendimiento. [GitHub-32810](https://github.com/magento/magento2/issues/32810)

### Reescrituras de URL

<!-- MC-41550-->

* Las reescrituras de URL de productos para un sitio web específico en una implementación de varios sitios ahora se generan tal como se espera después de que los productos se asignen a un sitio web mediante una actualización masiva.

<!-- MC-40780 magento/magento2#32598-->

* La aplicación ahora genera correctamente la ruta de URL para las categorías secundarias cuando la casilla de verificación **Usar valor predeterminado** para la clave URL está habilitada para la categoría principal. Anteriormente, al mover una categoría en la jerarquía, se producía un valor `url_path` incorrecto al usar claves de URL diferentes en una implementación de vista de varias tiendas. [GitHub-16202](https://github.com/magento/magento2/issues/16202)

<!-- MC-40371-->

* La aplicación ahora actualiza `url_path` de la categoría asignada a todo el ámbito de almacén cuando se mueve una categoría en la jerarquía de categorías. Anteriormente, al mover una categoría en la jerarquía, se producía un(a) `url_path` incorrecto.

<!-- MC-39463-->

* Las redirecciones de URL creadas desde el administrador mediante una URL personalizada ahora funcionan correctamente. Anteriormente, GraphQL almacenaba en caché la respuesta de una consulta de GraphQL `urlResolver` y devolvía el valor antiguo después de actualizar la reescritura de la URL.

<!-- MC-38931  magento/magento2#31106-->

* Las reescrituras URL productos ahora se eliminan según lo esperado cuando se elimina un producto de un sitio web. [GitHub-24184](https://github.com/magento/magento2/issues/24184)

<!-- ENGCOM-8719 -->

* Se ha añadido una `main_table` referencia a la `store_id` función del `app/code/Magento/UrlRewrite/Model/ResourceModel/UrlRewriteCollection.php` colección`addStoreFilter`. Anteriormente, se producían problemas cada vez que se agregaba un elemento `join` al colección en una tabla que también contenía una `store_id` columna. [GitHub-31853](https://github.com/magento/magento2/issues/31853)

<!-- ENGCOM-8894 -->

* El `PUT /V1/products/:sku` punto final REST ahora vuelve a generar el producto URL reescribe según lo esperado. Anteriormente, el extremo regeneraba los valores del producto `url_key` , pero no URL reescribía. [GitHub-30316](https://github.com/magento/magento2/issues/30316)

### Usuario

<!-- MC-40777  magento/magento2#31998-->

* Ahora puede guardar una nueva función de usuario efectiva (Sistema de administración **> permisos > roles de usuario**) con todo `Catalog` el árbol seleccionado excluido `Edit Product Design` (**Catálogo** > **Inventario** > **Productos** > **Editar Diseño** de productos). **&#x200B;**&#x200B;**&#x200B;** Anteriormente, la aplicación no guardaba los cambios del producto realizados por un usuario en este función y mostraba este error: `Not allowed to edit the product's design attributes`. [GitHub-31973](https://github.com/magento/magento2/issues/31973)

<!-- MC-38442-->

* Ahora, el aplicación utiliza el plantilla de correo electrónico personalizado correcto al generar correo electrónico para los nuevos administradores. Anteriormente, la aplicación utilizaba el antiguo plantilla predeterminado, que omitía el nombre y los apellidos del administrador.

<!-- MC-38122-->

* Ahora, el aplicación utiliza el plantilla de correo electrónico correcto al enviar correo electrónico a los nuevos usuarios. Anteriormente, la aplicación utilizaba el igualado de plantilla predeterminado cuando se seleccionaba una plantilla personalizada.

### VersiónCMS

<!-- MC-39953-->

* El aplicación ahora aplica el tema correcto a un Página CMS después de cambiar su diseño. Anteriormente, el aplicación cambiaba el tema asignado a Luma después de guardar los cambios de diseño, independientemente del tema asignado al Página.

<!-- MC-40431-->

* Los administradores con roles restringidos ahora pueden agregar, actualizar o duplicado correctamente las páginas a las que tienen acceso y que están asignadas a un nodo de jerarquía. Anteriormente, el aplicación arrojaba un error fatal en estas condiciones.

### Vídeo

<!-- MC-42059 ENGCOM-9039-->

* Los vídeos ahora están disponibles en la galería de productos, tal como se espera cuando se habilita y utiliza el empaquetado de JavaScript avanzado. [GitHub-32501](https://github.com/magento/magento2/issues/32501)

<!-- ENGCOM-8532-->

* Los vídeos de YouTube para productos sencillos que pertenecen a un producto configurable ahora funcionan como se espera. Anteriormente, las imágenes se ordenaban por ID en lugar de por posición. En consecuencia, algunos videos fueron tratados gustar imágenes. [GitHub-29690](https://github.com/magento/magento2/issues/29690)

### Visual Merchandiser

<!-- MC-40797-->

* El rendimiento de las cargas de Página de categoría de administración con Visual Merchandiser ha mejorado. La carga de páginas de categoría de administración ya no genera consultas de bases de datos de gran tamaño.

### marco de trabajo de API web

<!-- MC-41758-->

* Ahora, la API de catálogo actualiza correctamente los valores de opciones personalizados de un producto agregando nuevos valores y quitando valores antiguos. Anteriormente, la API no eliminaba los valores antiguos.

<!-- MC-34431-->

* `/V1/guest-carts/:cartId/billing-address` POST ahora devuelve la ID de dirección como un número entero, no como una cadena.

### Restricción del sitio web

<!-- MC-38516-->

* Los compradores ahora son redirigidos a la Página a la que intentaban acceder antes de que se les pidiera que iniciaran sesión. Anteriormente, en implementaciones donde las restricciones del sitio web estaban habilitadas y el modo de restricción estaba establecido en **Ventas privadas: solo** inicio de sesión, los compradores eran redirigidos al tienda página de inicio.

### Widget

<!-- MC-39128-->

* Ahora, un administrador puede eliminar todas las actualizaciones de diseño de un widget. Anteriormente, cuando un widget tenía varias actualizaciones de diseño, un administrador podía eliminar solo la primera.

<!-- MC-39107-->

* Al hacer clic en la **botón añadir al carro** en el widget del producto, ya no se genera un recargar Página. Anteriormente, al hacer clic en el **botón añadir al carro** en un widget de producto, se producía un Página actual que se recargar antes de que el producto se agregara al carro de compras.

<!-- MC-23590-->

* El widget CMS jerarquía nodo vincular en TinyMCE ahora representa jerarquía enlaces como se esperaba cuando el **campo Anclaje Texto personalizado** está vacío.

### Deseo lista

<!-- MC-40651 ENGCOM-8769-->

* El aplicación ya no restablece las opciones de configuración de un producto configurable al hacer clic en la **botón del elemento** Editar para el producto desde un lista de deseo. [GitHub-32119](https://github.com/magento/magento2/issues/32119)

<!-- MC-40417-->

* El aplicación ahora muestra el precio correcto del producto cuando actualiza un producto con una opción de archivo personalizable en el lista de deseo. Anteriormente, el aplicación mostraba el precio incorrecto del producto y no mostraba ningún vincular al archivo cargado.

<!-- MC-39060-->

* El número total de productos en una lista de deseo para un cliente con varias listas de artículos ahora coincide con el número de artículos de la lista de deseos. Anteriormente, los productos agotados se incluían en el recuento total de productos.

<!-- MC-36779 magento/magento2#31110-->

* Ahora, la aplicación elimina un producto de una lista de deseos después de agregarlo a un pedido. [GitHub-30260](https://github.com/magento/magento2/issues/30260)

<!-- MC-34456 ENGCOM-8816-->

* Los compradores ahora pueden agregar productos relacionados a sus carro de compras desde un deseo lista. Anteriormente, la aplicación agregaba solo el producto configurable, no el producto configurable y sus productos relacionados cuando un comprador hacía clic en la **sección Seleccionar todos los** vincular de la sección Productos relacionados. [GitHub-32274](https://github.com/magento/magento2/issues/32274)

## Problemas conocidos

**Problema**: _JavaScript error cuando reCAPTCHA está deshabilitado_. Si reCAPTCHA está deshabilitado para el cierre de compra, el cierre de compra continúa, pero el aplicación muestra un `Uncaught TypeError` error en el registro de la consola.  Este problema se solucionará en una versión posterior. <!-- MC-42589 42649-->

**Asunto**: _Error_ en la política de seguridad de contenido. El escaparate muestra el siguiente error en el registro de la consola: `The Content-Security-Policy directive frame-ancestors does not support the source expression unsafe-inline`. El rendimiento del escaparate no se ve afectado. <!-- MC-42613-->

**Problema**: _Anomalías con PayPal visualización de crédito de los importes de tarjeta de regalos_. Cuando PayPal crédito está habilitado y se configuran varios importes de tarjeta de regalo, si un comprador cambia el importe por el valor de un tarjeta de regalo, el escaparate no actualiza el importe de los pagos a plazos. Se incluirá una solución para este problema en Adobe Systems Commerce 2.4.4 y Magento Open Source 2.4.4.<!-- MC-42499 AC-344-->

**Asunto: El añadir de pedir** botón no funciona para los productos añadidos al carro de compras por unidad de almacén _.**_**  El aplicación muestra este mensaje de error al hacer clic en el añadir para ordenar **&#x200B;**&#x200B;botón después de agregar productos al pedido por unidad de almacén: `An error has happened during application run`. Los productos no se añaden al carro de compras. **Solución alternativa**: Utilice la función Productos añadir. <!-- AC-345-->

**Problema**: GraphQL `category` y `categoryList` las consultas ignoran Categoría permisos que determinan si las categorías de un catálogo compartido están oculta o expuestas. El escaparate muestra actualmente todas las categorías que se han asignado o no al catálogo compartido. Esto afecta a Adobe Systems implementaciones de Commerce 2.4.3 que implementar un escaparate PWA para el que se han habilitado catálogos compartidos B2B. <!-- MC-42528-->

## Contribuciones de la comunidad

Agradecemos a la comunidad Magento Open Source en general y gustar agradeceríamos sus contribuciones a este comunicado.

El Community Engineering equipo [Magento Contributors](https://magento.biterg.io/app/kibana) mantiene una lista de las principales personas y socios contribuyentes por mes, trimestre y año. Desde esa Página Colaboradores, puede seguir enlaces a sus PR fusionados en GitHub.

### Contribuciones de los socios

En la tabla siguiente se destacan las contribuciones realizadas por los Socios. En esta tabla se muestra el socio que contribuyó con el solicitud de recibir, el solicitud de recibir externo y el número de problema de GitHub asociado a él (si está disponible).

{{$include /help/_includes/release-notes/engcomm-2-4-3-partner.md}}

### Contribuciones individuales colaborador

La siguiente tabla identifica las contribuciones de nuestros comunidad miembros. En esta tabla se enumeran las solicitudes de recibir externas, el número de problema de GitHub asociado (si está disponible) y el miembro comunidad que contribuyó con la recibir solicitud.

{{$include /help/_includes/release-notes/engcomm-2-4-3-issues.md}}

### requisitos del sistema

Nuestra pila de tecnología se basa en PHP y MySQL. Para obtener más información, consulte [requisitos del sistema](../../../installation/system-requirements.md).

### Instrucciones de instalación y actualización

Puede instalar Adobe Systems Commerce 2.4.3 usando [Composer](../../../installation/composer.md).

## Kits de herramienta de migración

La herramienta de migración de datos ayuda a transferir los datos existentes del tienda de Magento 1.x a Magento 2.x. Esta interfaz de línea de comandos incluye funciones de verificación, seguimiento de progreso, registro y prueba. Para obtener instrucciones de instalación, consulte [Instalación de la herramienta](../../../tools/data-migration-tool/install.md) de migración de datos. Considere explorar [o contribuir al repositorio](https://github.com/magento/data-migration-tool) de migración de datos.

El [kit de herramientas](https://github.com/magento-commerce/code-migration) de migración de Code ayuda a transferir extensiones y personalizaciones de tienda Magento 1.x existentes a Magento 2.x. La interfaz de línea de comandos incluye scripts para convertir módulos y diseños Magento 1.x.
